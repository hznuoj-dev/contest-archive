[{"id":"3256","submission_id":"3257","filename":"i.cpp","source":"I2luY2x1ZGU8Yml0cy9zdGRjKysuaD4NCnVzaW5nIG5hbWVzcGFjZSBzdGQ7DQoNCmNvbnN0IGludCBOID0gNWUzICsgMTA7DQoNCmNoYXIgbWFbTiA8PCAyXTsNCmludCBtcFtOIDw8IDJdOw0KaW50IG47DQoNCmNoYXIgc1tOXTsNCg0Kdm9pZCBtYW5hY2hhcihjaGFyIHNbXSwgaW50IGxlbikgew0KCWludCBsID0gMDsNCgltYVtsKytdID0gJyQnOw0KCW1hW2wrK10gPSAnIyc7DQoJZm9yIChpbnQgaSA9IDA7IGkgPCBsZW47IGkrKykgew0KCQltYVtsKytdID0gc1tpXTsNCgkJbWFbbCsrXSA9ICcjJzsNCgl9DQoJbWFbbF0gPSAwOw0KCWludCBteCA9IDAsIGlkID0gMDsNCglmb3IgKGludCBpID0gMDsgaSA8IGw7IGkrKykgew0KCQltcFtpXSA9IG14ID4gaSA/IG1pbihtcFsyICogaWQgLSBpXSwgbXggLSBpKSA6IDE7DQoJCXdoaWxlKG1hW2kgKyBtcFtpXV0gPT0gbWFbaSAtIG1wW2ldXSkgbXBbaV0rKzsNCgkJaWYgKGkgKyBtcFtpXSA+IG14KSB7DQoJCQlteCA9IGkgKyBtcFtpXTsNCgkJCWlkID0gaTsNCgkJfSANCgl9DQp9DQoNCnZvaWQgaW5pdCgpIHsNCglmb3IgKGludCBpID0gMDsgaSA8PSBOICogMiArIDE7IGkrKykgew0KCQltcFtpXSA9IDA7DQoJfQ0KfQ0Kdm9pZCBzb2x2ZSgpIHsNCglpbml0KCk7DQoJc2NhbmYoIiVzIiwgcyk7DQoJaW50IGxlbiA9IHN0cmxlbihzKTsNCgltYW5hY2hhcihzLCBsZW4pOw0KCXZlY3RvcjxpbnQ+IGxfaWR4LCByX2lkeDsNCglmb3IgKGludCBpID0gMjsgaSA8IDIgKiBsZW4gKyAyOyBpKyspIHsNCgkJaW50IGxlbiA9IG1wW2ldIC0gMSwgbCwgcjsNCi8vCQlpZiAobGVuID09IDApIGNvbnRpbnVlOw0KCQlpZiAoaSAmIDEpIHsNCgkJCXIgPSBpIC8gMiAtIDEgKyBsZW4gLyAyOw0KCQkJbCA9IHIgLSAobGVuIC0gMSk7DQoJCX0gZWxzZSB7DQoJCQlpbnQgbWlkID0gaSAvIDIgLSAxOw0KCQkJciA9IG1pZCArIGxlbiAvIDI7DQoJCQlsID0gciAtIChsZW4gLSAxKTsNCgkJfQ0KCQlsX2lkeC5wdXNoX2JhY2sobCk7DQoJCXJfaWR4LnB1c2hfYmFjayhyKTsNCi8vCQljb3V0IDw8IGwgPDwgIiAiIDw8IHIgPDwgZW5kbDsNCgl9DQovLwlmb3IgKGludCBpID0gMDsgaSA8IGxlbiAtIDE7IGkrKykgew0KLy8JCXJfaWR4LnB1c2hfYmFjayhpKTsNCi8vCQlsX2lkeC5wdXNoX2JhY2soaSArIDEpOw0KLy8JfQ0KCWludCBhbnMgPSAwOw0KCWZvciAoaW50IGkgPSAwOyBpIDwgbF9pZHguc2l6ZSgpOyBpKyspIHsNCgkJaWYgKHJfaWR4W2ldIC0gbF9pZHhbaV0gKyAxID49IDIpIHsNCgkJCWFucyA9IG1heChhbnMsIHJfaWR4W2ldIC0gbF9pZHhbaV0gKyAxKTsNCgkJfQ0KCQlpbnQgbCA9IGxfaWR4W2ldIC0gMSwgciA9IHJfaWR4W2ldICsgMTsJDQoJCWludCByZXMgPSByIC0gbCArIDE7DQoJCWlmIChsIDwgMCB8fCByID49IGxlbikgY29udGludWU7DQoJCWZvciAoaW50IHAgPSAxOyBsIC0gcCA+PSAwICYmIHIgKyBwIDwgbGVuOyBwKyspIHsNCgkJCWlmIChzW2wgLSBwXSA9PSBzW3JdICYmIHNbbF0gPT0gc1tyICsgcF0pIHsNCi8vCQkJCWNvdXQgPDwgcCA8PCBlbmRsOw0KCQkJCXJlcyArPSBwICogMjsNCgkJCQlwKys7DQoJCQkJd2hpbGUgKGwgLSBwID49IDAgJiYgciArIHAgPCBsZW4gJiYgc1tsIC0gcF0gPT0gc1tyICsgcF0pIHsNCgkJCQkJcmVzICs9IDI7DQoJCQkJCXArKzsNCgkJCQl9DQovLwkJCQljb3V0IDw8IHAgPDwgIiAiIDw8IHJlcyA8PCBlbmRsOw0KCQkJCWFucyA9IG1heChhbnMsIHJlcyk7DQoJCQkJYnJlYWs7DQoJCQl9DQoJCQlpZiAoc1tsIC0gcF0gIT0gc1tyICsgcF0pIGJyZWFrOw0KCQl9DQoJfQ0KCXByaW50ZigiJWRcbiIsIGFucyk7DQp9DQoNCmludCBtYWluKCkgew0KCWludCBUOyBzY2FuZigiJWQiLCAmVCk7DQoJd2hpbGUgKFQtLSkNCglzb2x2ZSgpOw0KCXJldHVybiAwOw0KfQ=="}]