[{"id":"2013","submission_id":"2013","filename":"E.cpp","source":"I2luY2x1ZGU8Yml0cy9zdGRjKysuaD4NCnVzaW5nIG5hbWVzcGFjZSBzdGQ7DQoNCiNkZWZpbmUgaW50IGxvbmcgbG9uZw0KY29uc3QgaW50IE4gPSAxMTA7DQp0eXBlZGVmIGxvbmcgbG9uZyBsbDsNCnR5cGVkZWYgcGFpcjxpbnQsIGludD4gcDsNCnBhaXI8aW50LCBpbnQ+IG5vZGVzW05dOw0KI2RlZmluZSB4IGZpcnN0DQojZGVmaW5lIHkgc2Vjb25kDQoNCmludCBnY2QoaW50IGEsIGludCBiKSB7DQoJaWYgKCFiKSByZXR1cm4gYTsNCglyZXR1cm4gZ2NkKGIsIGEgJSBiKTsNCn0NCg0KbG9uZyBsb25nIGdldF9wb2ludF9udW1zKHAgcDEsIHAgcDIsIHAgcDMsIHAgcDQpIHsNCglpZiAocDMueCA8PSBwMS54IHx8IHAzLnkgPD0gcDQueSkgcmV0dXJuIDA7DQoJcmV0dXJuIDFsbCAqIChwMy54IC0gcDEueCArIDEpICogKHAzLnkgLSBwNC55ICsgMSk7DQp9DQoNCmxvbmcgbG9uZyBnZXRfaW5uZXJfcG9pbnRfbnVtcyhwIHAxLCBwIHAyLCBwIHAzLCBwIHA0KSB7DQoJcDEueCsrLCBwMS55LS07DQoJcDIueCsrLCBwMi55Kys7DQoJcDMueC0tLCBwMy55LS07DQoJcDQueC0tLCBwNC55Kys7DQoJcmV0dXJuIGdldF9wb2ludF9udW1zKHAxLCBwMiwgcDMsIHA0KTsNCn0NCg0KbG9uZyBsb25nIGdldF9saW5lX3BvaW50X251bXMocCBwMSwgcCBwMiwgcCBwMywgcCBwNCkgew0KCWlmIChwMy54IDw9IHAxLnggfHwgcDMueSA8PSBwNC55KSByZXR1cm4gMDsNCglpbnQgeCA9IHAzLnggLSBwMS54LCB5ID0gcDMueSAtIHA0Lnk7DQoJaW50IGdjZF9udW0gPSBnY2QoeCwgeSk7DQoJcmV0dXJuIG1heChnY2RfbnVtIC0gMSwgMGxsKTsNCn0NCg0KbG9uZyBsb25nIGdldF90cmluZ2xlX3BvaW50X251bXMocCBwMSwgcCBwMiwgcCBwMywgcCBwNCkgew0KCWxvbmcgbG9uZyBjbnQgPSBnZXRfbGluZV9wb2ludF9udW1zKHAxLCBwMiwgcDMsIHA0KTsNCglsb25nIGxvbmcgbnVtcyA9IG1heChnZXRfaW5uZXJfcG9pbnRfbnVtcyhwMSwgcDIsIHAzLCBwNCkgLSBjbnQsIDBsbCkgLyAyOw0KCW51bXMgKz0gKHAzLnggLSBwMS54KSArIChwMS55IC0gcDIueSkgKyAxOw0KCXJldHVybiBtYXgobnVtcywgMGxsKTsNCn0NCg0KaW50IGNhbGNfdHJpbmdsZShwIHBhLCBwIHBiKSB7DQoJaW50IG1pbnggPSBtaW4ocGEueCwgcGIueCk7DQoJaW50IG1heHggPSBtYXgocGEueCwgcGIueCk7DQoJaW50IG1pbnkgPSBtaW4ocGEueSwgcGIueSk7DQoJaW50IG1heHkgPSBtYXgocGEueSwgcGIueSk7DQoJcCBwMSA9IHttaW54LCBtYXh5fSwgcDIgPSB7bWlueCwgbWlueX0sIHAzID0ge21heHgsIG1heHl9LCBwNCA9IHttYXh4LCBtaW55fTsNCglyZXR1cm4gZ2V0X3RyaW5nbGVfcG9pbnRfbnVtcyhwMSwgcDIsIHAzLCBwNCk7DQp9DQoNCmxvbmcgbG9uZyBjYWxjKHAgcGEsIHAgcGIpIHsNCglsb25nIGxvbmcgeCA9IG1heChwYS54LCBwYi54KSAtIG1pbihwYS54LCBwYi54KTsNCglsb25nIGxvbmcgeSA9IG1heChwYi55LCBwYi55KSAtIG1pbihwYS55LCBwYi55KTsNCglpbnQgbnVtID0gZ2NkKHgsIHkpOw0KCXJldHVybiBudW0gLSAxOw0KfQ0KDQpsb25nIGxvbmcgY2FsYyhwIHBhLCBwIHBiLCBwIHBjKSB7DQovLwlpbnQgbWlueCA9IG1pbihwYS54LCBtaW4ocGIueCwgcGMueCkpOw0KLy8JaW50IG1heHggPSBtYXgocGEueCwgbWF4KHBiLngsIHBjLngpKTsNCi8vCWludCBtaW55ID0gbWluKHBhLnksIG1pbihwYi55LCBwYy55KSk7DQovLwlpbnQgbWF4eSA9IG1heChwYS55LCBtYXgocGIueSwgcGMueSkpOw0KLy8JDQovLwlwIHAxID0ge21pbngsIG1heHl9LCBwMiA9IHttaW54LCBtaW55fSwgcDMgPSB7bWF4eCwgbWF4eX0sIHA0ID0ge21heHgsIG1pbnl9Ow0KLy8JDQovLwlsbCB0b3RhbCA9IGdldF9wb2ludF9udW1zKHAxLCBwMiwgcDMsIHA0KTsNCi8vCQ0KLy8JcHJpbnRmKCJ0b3RhbCA9ICVsbGRcbiIsIHRvdGFsKTsNCi8vCXByaW50ZigicGEgJWxsZCAlbGxkXG4iLCBwYS54LCBwYS55KTsNCi8vCXByaW50ZigicGIgJWxsZCAlbGxkXG4iLCBwYi54LCBwYi55KTsNCi8vCXByaW50ZigicGMgJWxsZCAlbGxkXG4iLCBwYy54LCBwYy55KTsNCi8vCQ0KLy8JbGwgYzEsIGMyOw0KLy8JbGwgYzEgPSBtYXgoY2FsY190cmluZ2xlKHBhLCBwYikgLSAyLCAwbGwpOw0KLy8JbGwgYzIgPSBtYXgoY2FsY190cmluZ2xlKHBhLCBwYykgLSAyLCAwbGwpOw0KLy8JbGwgYzMgPSBtYXgoY2FsY190cmluZ2xlKHBiLCBwYykgLSAyLCAwbGwpOw0KLy8JDQovLwlwcmludGYoImMxID0gJWxsZCwgYzIgPSAlbGxkIGMzID0gJWxsZFxuIiwgYzEsIGMyLCBjMyk7DQoJDQoJcmV0dXJuIGNhbGMocGEsIHBiKSArIGNhbGMocGEsIHBjKSArIGNhbGMocGIsIHBjKSArIDM7DQp9DQoNCnZvaWQgc29sdmUoKSB7DQoJaW50IG47DQoJc2NhbmYoIiVsbGQiLCAmbik7DQoJZm9yIChpbnQgaSA9IDE7IGkgPD0gbjsgaSsrKSB7DQoJCXNjYW5mKCIlbGxkJWxsZCIsICZub2Rlc1tpXS54LCAmbm9kZXNbaV0ueSk7DQoJfQ0KCWxvbmcgbG9uZyByZXMgPSAwOw0KCWZvciAoaW50IGkgPSAxOyBpIDw9IG47IGkrKykgew0KCQlmb3IgKGludCBqID0gaSArIDE7IGogPD0gbjsgaisrKSB7DQoJCQlmb3IgKGludCBrID0gaiArIDE7IGsgPD0gbjsgaysrKSB7DQoJCQkJcmVzID0gbWF4KHJlcywgY2FsYyhub2Rlc1tpXSwgbm9kZXNbal0sIG5vZGVzW2tdKSk7DQovLwkJCQlwcmludGYoImkgPSAlZCwgaiA9ICVkLCBrID0gJWQgY2FsYyA9ICVsbGRcbiIsIGksIGosIGspDQoJCQl9DQoJCX0NCgl9DQoJcHJpbnRmKCIlbGxkXG4iLCByZXMpOw0KfQ0KIA0Kc2lnbmVkIG1haW4oKSB7DQoJc29sdmUoKTsNCglyZXR1cm4gMDsNCn0="}]