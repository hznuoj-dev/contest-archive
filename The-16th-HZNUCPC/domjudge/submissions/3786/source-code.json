[{"id":"3786","submission_id":"3786","filename":"Bnew.cpp","source":"I2luY2x1ZGU8Yml0cy9zdGRjKysuaD4NCiNkZWZpbmUgaW50IF9faW50MTI4DQojZGVmaW5lIGxpIGxvbmcgbG9uZw0KdXNpbmcgbmFtZXNwYWNlIHN0ZDsNCmlubGluZSBpbnQgcmVhZCgpew0KCWludCB4PTAsZj0xO2NoYXIgYz1nZXRjaGFyKCk7DQoJd2hpbGUoIWlzZGlnaXQoYykpIHsNCgkJaWYoYz09Jy0nKSBmPS0xO2M9Z2V0Y2hhcigpOw0KCX0NCgl3aGlsZShpc2RpZ2l0KGMpKXsNCgkJeD14KjEwK2MtJzAnO2M9Z2V0Y2hhcigpOw0KCX0NCglyZXR1cm4geCpmOw0KfQ0KY29uc3QgaW50IE49MmU1KzUsbW9kPShpbnQpKDFlOSs3KSo5OTgyNDQzNTM7DQppbnQgdCxuLHRvcCxiW05dOw0KaW50IGM9MTMxLHBbTl0saHhbTl0saHlbTl0saHgyW05dLGh5MltOXSxoM1tOXSxpbmY9MWUxODsNCmRvdWJsZSBwaT1hY29zKC0xKTsNCm1hcDxhcnJheTxpbnQsNT4saW50Pm1wOw0Kc2lnbmVkIHRnKGludCB4KXsNCglyZXR1cm4geD4wPzE6KHg9PTA/MDotMSk7DQp9DQpzdHJ1Y3QgUHsNCglpbnQgeCx5Ow0KCVAgb3BlcmF0b3ItKFAgYSl7cmV0dXJuIHt4LWEueCx5LWEueX07fQ0KCWludCBvcGVyYXRvcl4oUCBhKXtyZXR1cm4geCphLngreSphLnk7fQ0KCWludCBvcGVyYXRvciooUCBhKXtyZXR1cm4geCphLnkteSphLng7fQ0KCWludCBsZW4yKCl7cmV0dXJuIHgqeCt5Knk7fQ0KCWZyaWVuZCBkb3VibGUgcmFkKFAgYSxQIGIpe3JldHVybiBhdGFuMih0ZyhhKmIpLHRnKGFeYikpO30NCn1hW05dLHNbTl07DQppbnQgcXJ5KGludCAqaCxpbnQgbCxpbnQgcil7DQoJcmV0dXJuIChoW3JdLWhbbC0xXSpwW3ItbCsxXSVtb2QrbW9kKSVtb2Q7DQp9DQp2b2lkIENvbnZleChQICphLGludCBuLFAgKnMsaW50ICZ0b3Apew0KCXNvcnQoYSsxLGErMStuLFtdKFAgeCxQIHkpe3JldHVybiB4LnheeS54P3gueDx5Lng6eC55PHkueTt9KTsNCgl0b3A9MDsNCglmb3IoaW50IGk9MTtpPD1uO2krKyl7DQoJCXdoaWxlKHRvcD4xJiYoYVtpXS1zW3RvcC0xXSkqKHNbdG9wXS1zW3RvcC0xXSk+PTApIHRvcC0tOw0KCQlzWysrdG9wXT1hW2ldOw0KCX0NCglmb3IoaW50IHRtcD10b3AsaT1uLTE7aT49MTtpLS0pew0KCQl3aGlsZSh0b3A+dG1wJiYoYVtpXS1zW3RvcC0xXSkqKHNbdG9wXS1zW3RvcC0xXSk+PTApIHRvcC0tOw0KCQlzWysrdG9wXT1hW2ldOw0KCX0NCglpZihuPjEpIHRvcC0tOw0KfQ0Kc2lnbmVkIG1haW4oKXsNCgkvL2ZyZW9wZW4oInRlc3QuaW4iLCJyIixzdGRpbik7DQoJdD1yZWFkKCkscFswXT0xOw0KCWZvcihpbnQgaT0xO2k8TjtpKyspIHBbaV09cFtpLTFdKmMlbW9kOw0KCXdoaWxlKHQtLSl7DQoJCW49cmVhZCgpOw0KCQlmb3IoaW50IGk9MTtpPD1uO2krKykgYVtpXS54PXJlYWQoKSxhW2ldLnk9cmVhZCgpOw0KCQlDb252ZXgoYSxuLHMsdG9wKTsNCgkJLy9mb3IoaW50IGk9MTtpPD10b3A7aSsrKSBjb3V0PDwiY29udjogIjw8KGxpKXNbaV0ueDw8IiAiPDwobGkpc1tpXS55PDxlbmRsOw0KCQlhcnJheTxpbnQsNT5tbj17aW5mLGluZixpbmYsaW5mLGluZn07DQoJCWZvcihpbnQgbz0wO288MjtvKyspew0KCQkJLy9oYXNoIGFuZ2xlDQoJCQlpbnQgZz0wOw0KCQkJZm9yKGludCBpPTE7aTw9dG9wO2krKyl7DQoJCQkJUCB4PXNbaT4xP2ktMTp0b3BdLXNbaV0seT1zW2k8dG9wP2krMToxXS1zW2ldOw0KCQkJCWFbaV09eyh4KnkpKih4KnkpLHgubGVuMigpKnkubGVuMigpfTsNCgkJCQkvL2NvdXQ8PCJvdm8xOiAiPDwobGkpYVtpXS54PDwiICI8PChsaSlhW2ldLnk8PGVuZGw7DQoJCQkJZz1fX2djZChhW2ldLngsYVtpXS55KTsNCgkJCQlhW2ldLngvPWcsYVtpXS55Lz1nOw0KCQkJCS8vZz1fX2djZChnLGFbaV0ueCksZz1fX2djZChnLGFbaV0ueSk7DQoJCQkJLy9jb3V0PDwicXdxOiAiPDx4Lng8PCIgIjw8eC55PDwiICI8PHkueDw8IiAiPDx5Lnk8PGVuZGw7DQoJCQkJLy9jb3V0PDwibGVuMjogIjw8KGxpKXgubGVuMigpPDwiICI8PChsaSl5LmxlbjIoKTw8ZW5kbDsNCgkJCQkvL2NvdXQ8PCJvdm8yOiAiPDwobGkpYVtpXS54PDwiICI8PChsaSlhW2ldLnk8PGVuZGw7DQoJCQl9DQoJCQlmb3IoaW50IGk9MTtpPD10b3A7aSsrKSBhW2krdG9wXT1hW2ldOw0KCQkJZm9yKGludCBpPTE7aTw9dG9wK3RvcDtpKyspDQoJCQkJaHhbaV09KGh4W2ktMV0qYyVtb2QrYVtpXS54KSVtb2QsaHlbaV09KGh5W2ktMV0qYyVtb2QrYVtpXS55KSVtb2Q7DQoJCQkvL2hhc2ggbGVuDQoJCQlnPTA7DQoJCQlpbnQgbW5sZW49MWUxODsNCgkJCWZvcihpbnQgaT0xO2k8PXRvcDtpKyspIG1ubGVuPW1pbihtbmxlbiwoc1tpPHRvcD9pKzE6MV0tc1tpXSkubGVuMigpKTsNCgkJCWZvcihpbnQgaT0xO2k8PXRvcDtpKyspew0KCQkJCWFbaV09eyhzW2k8dG9wP2krMToxXS1zW2ldKS5sZW4yKCksbW5sZW59Ow0KCQkJCWc9X19nY2QoYVtpXS54LGFbaV0ueSk7DQoJCQkJYVtpXS54Lz1nLGFbaV0ueS89ZyxhW2krdG9wXT1hW2ldOw0KCQkJfQ0KCQkJZm9yKGludCBpPTE7aTw9dG9wK3RvcDtpKyspDQoJCQkJaHgyW2ldPShoeDJbaS0xXSpjJW1vZCthW2ldLngpJW1vZCxoeTJbaV09KGh5MltpLTFdKmMlbW9kK2FbaV0ueSklbW9kOw0KCQkJLy9oYXNoIHhpYW5nIHhpYW4NCgkJCWZvcihpbnQgaT0xO2k8PXRvcDtpKyspew0KCQkJCVAgeD1zW2k+MT9pLTE6dG9wXS1zW2ldLHk9c1tpPHRvcD9pKzE6MV0tc1tpXTsNCgkJCQliW2ldPXJhZCh4LHkpPD1waS8yPzE6MixiW2krdG9wXT1iW2ldOw0KCQkJfQ0KCQkJZm9yKGludCBpPTE7aTw9dG9wK3RvcDtpKyspDQoJCQkJaDNbaV09KGgzW2ktMV0qYyVtb2QrYltpXSklbW9kOw0KCQkJZm9yKGludCBpPTE7aTx0b3A7aSsrKXsNCgkJCQlpbnQgaj1pK3RvcC0xOw0KCQkJCW1uPW1pbihtbixhcnJheTxpbnQsNT57cXJ5KGh4LGksaikscXJ5KGh5LGksaikscXJ5KGh4MixpLGopLHFyeShoeTIsaSxqKSxxcnkoaDMsaSxqKX0pOw0KCQkJfQ0KCQkJcmV2ZXJzZShzKzEscysxK3RvcCk7DQoJCX0NCgkJLy9mb3IoaW50IGk9MDtpPDU7aSsrKSBjb3V0PDwobG9uZyBsb25nKW1uW2ldPDwiICI7IHB1dHMoIiIpOw0KCQlwcmludGYoIiVsbGRcbiIsKGxvbmcgbG9uZyltcFttbl0pOw0KCQltcFttbl0rKzsNCgl9DQoJcmV0dXJuIDA7DQp9"}]