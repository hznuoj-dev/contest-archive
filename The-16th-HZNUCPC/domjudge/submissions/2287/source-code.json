[{"id":"2287","submission_id":"2287","filename":"E.cpp","source":"I2luY2x1ZGU8Yml0cy9zdGRjKysuaD4NCnVzaW5nIG5hbWVzcGFjZSBzdGQ7DQoNCiNkZWZpbmUgbGwgbG9uZyBsb25nDQpsbCB0ZW1wWzEwNV1bMTA1XTsNCnBhaXI8aW50ICxpbnQ+IG1wWzEwNV07DQppbmxpbmUgYm9vbCBjaGVjayhwYWlyPGludCxpbnQ+IGEscGFpcjxpbnQsaW50PiBiLCBwYWlyPGludCxpbnQ+IGMpew0KCWlmKGEuZmlyc3QgPT0gYi5maXJzdCAmJiBiLmZpcnN0ID09IGMuZmlyc3QpIHJldHVybiBmYWxzZTsNCglpZihhLnNlY29uZCA9PSBiLnNlY29uZCAmJiBiLnNlY29uZCA9PSBjLnNlY29uZCkgcmV0dXJuIGZhbHNlOw0KCWRvdWJsZSBrID0gKGMuc2Vjb25kIC0gYi5zZWNvbmQpKjEuMC8oYy5maXJzdC1iLmZpcnN0KSoxLjA7DQoJZG91YmxlIHEgPSAoYS5zZWNvbmQgLSBiLnNlY29uZCkqMS4wLyhhLmZpcnN0LWIuZmlyc3QpKjEuMDsNCglpZihrID09IHEpIHJldHVybiBmYWxzZTsNCglkb3VibGUgeCA9IHNxcnQoKGEuZmlyc3QgLSBiLmZpcnN0KSAqKGEuZmlyc3QgLSBiLmZpcnN0KSArIChhLnNlY29uZCAtIGIuc2Vjb25kKSAqKGEuc2Vjb25kIC0gYi5zZWNvbmQpICk7DQoJZG91YmxlIHkgPSBzcXJ0KChhLmZpcnN0IC0gYy5maXJzdCkgKihhLmZpcnN0IC0gYy5maXJzdCkgKyAoYS5zZWNvbmQgLSBjLnNlY29uZCkgKihhLnNlY29uZCAtIGMuc2Vjb25kKSApOw0KCWRvdWJsZSB6ID0gc3FydCgoYy5maXJzdCAtIGIuZmlyc3QpICooYy5maXJzdCAtIGIuZmlyc3QpICsgKGMuc2Vjb25kIC0gYi5zZWNvbmQpICooYy5zZWNvbmQgLSBiLnNlY29uZCkgKTsNCglpZih4ICsgeSA8IHogfHwgeCArIHogPCB5fHx6ICsgeSA8IHgpIHJldHVybiBmYWxzZTsNCglyZXR1cm4gdHJ1ZTsNCn0NCg0KaW50IG1haW4oKXsNCglpbnQgbjsNCgl3aGlsZShjaW4gPj5uKXsNCgkJZm9yKGludCBpID0gMTtpIDw9IG47aSArKyl7DQoJCQljaW4gPj4gbXBbaV0uZmlyc3QgPj4gbXBbaV0uc2Vjb25kOw0KCQl9DQoJCWZvcihpbnQgaSA9IDE7aSA8PSBuO2kgKyspew0KCQkJZm9yKGludCBqID0xO2ogPD0gbjtqICsrKXsNCgkJCQlpZihpID09IGopIGNvbnRpbnVlOw0KCQkJCWludCBtaV94ID0gbWluKG1wW2ldLmZpcnN0LG1wW2pdLmZpcnN0KTsNCgkJCQlpbnQgbWlfeSA9IG1pbihtcFtpXS5zZWNvbmQsbXBbal0uc2Vjb25kKTsNCgkJCQlpbnQgbWFfeCA9IG1heChtcFtpXS5maXJzdCxtcFtqXS5maXJzdCk7DQoJCQkJaW50IG1hX3kgPSBtYXgobXBbaV0uc2Vjb25kLG1wW2pdLnNlY29uZCk7DQoJCQkJaWYobWFfeCAtIG1pX3ggPT0gMCkgew0KCQkJCQl0ZW1wW2ldW2pdID0gbWFfeSAtIG1pX3kgKzE7DQoJCQkJfQ0KCQkJCWVsc2UgaWYobWFfeSAtIG1pX3kgPT0gMCkgdGVtcFtpXVtqXSA9IG1hX3ggLSBtaV94ICsxOw0KCQkJCWVsc2Ugew0KCQkJCQlpbnQgcCA9IF9fZ2NkKGludChmYWJzKG1hX3kgLSBtaV95KSksaW50KGZhYnMobWFfeCAtIG1pX3gpKSkgKyAxOw0KCQkJCQl0ZW1wW2ldW2pdID0gcDsNCgkJCQl9DQoJCQkJDQoJCQl9DQoJCX0NCgkJbGwgYW5zID0gMDsNCgkJZm9yKGludCBpID0gMTtpIDw9IG47aSArKyl7DQoJCQlmb3IoaW50IGogPSBpICsgMTtqIDw9IG47aiArKyl7DQoJCQkJZm9yIChpbnQgayA9IGogKyAxO2sgPD0gbjtrICsrKXsNCgkJCQkJaWYoayA9PSBpIHx8IGsgPT0gaikgY29udGludWU7DQoJCQkJCWlmKGNoZWNrKG1wW2ldLG1wW2pdLG1wW2tdKSl7DQovLwkJCQkJCWNvdXQgPDwgaSA8PCAiICIgPDwgaiA8PCAiICIgPDwgayA8PGVuZGw7DQoJCQkJCQlhbnMgPSBtYXgoYW5zLHRlbXBbaV1bal0gKyB0ZW1wW2pdW2tdK3RlbXBbaV1ba10pOw0KCQkJCQl9DQoJCQkJfQ0KCQkJfQ0KCQl9DQoJCWNvdXQgPDxtYXgoKGxvbmcgbG9uZykwLGFucy0zKTw8IGVuZGw7DQoJfQ0KCXJldHVybiAwOw0KfQ0KDQovKg0KNA0KMCAwDQoxIDENCjIgNA0KNCAyDQoqLw0K"}]