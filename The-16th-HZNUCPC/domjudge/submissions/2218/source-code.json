[{"id":"2218","submission_id":"2218","filename":"D.cpp","source":"I2luY2x1ZGUgPGJpdHMvc3RkYysrLmg+DQp1c2luZyBuYW1lc3BhY2Ugc3RkOw0KDQpjb25zdCBpbnQgaW5mID0gMHgzZjNmM2YzZjsNCmNvbnN0IGludCBNYXhuID0gMzAwMDAwICsgMTA7DQppbnQgbjsNCnN0cmluZyBzOw0KaW50IGdvKGludCBfcywgaW50IF9lKSB7DQoJaW50IGkgPSBfcywgaiA9IF9lOw0KCWJvb2wgaXNfb2RkID0gX3MgKyAyID09IF9lOw0KCWNoYXIgbWlkID0gc1soX3MgKyBfZSkgLyAyXTsNCglpbnQgbWlzX2NudCA9IDA7DQoJaW50IHJlcyA9IDA7DQoJaW50IGxlZnRfbWFzayA9IDAsIHJpZ2h0X21hc2sgPSAwOw0KCWNoYXIgY19vZGRfbGVmdCA9IDAsIGNfb2RkX3JpZ2h0ID0gMDsNCglhdXRvIGNoZWNrID0gWyZdKCkgew0KCQlpZiAobWlzX2NudCA9PSAwIHx8IChtaXNfY250ID09IDIgJiYgKGxlZnRfbWFzayA9PSByaWdodF9tYXNrKSkpIHsNCi8vCQkJY291dCA8PCAidXBkYXRlICIgPDwgaSA8PCAiICIgPDwgaiA8PCAiXG4iOw0KCQkJcmVzID0gbWF4KHJlcywgaiAtIGkgKyAxKTsNCgkJfQ0KCQkNCgkJaWYgKG1pc19jbnQgPT0gMSAmJiBpc19vZGQpIHsNCgkJCWlmIChtaWQgPT0gY19vZGRfbGVmdCB8fCBtaWQgPT0gY19vZGRfcmlnaHQpIHsNCgkJCQlyZXMgPSBtYXgocmVzLCBqIC0gaSArIDEpOw0KCQkJfQ0KCQl9DQoJCQ0KCX07DQoJd2hpbGUgKGkgPj0gMCAmJiBqIDwgbikgew0KCQlpZiAoc1tpXSA9PSBzW2pdKSB7DQoJCQljaGVjaygpOwkNCgkJCWktLSwgaisrOw0KCQkJY29udGludWU7DQoJCX0NCgkJbWlzX2NudCsrOw0KCQlpZiAobWlzX2NudCA9PSAxIHx8IG1pc19jbnQgPT0gMikgew0KCQkJbGVmdF9tYXNrIHw9IDEgPDwgKHNbaV0gLSAnYScpOw0KCQkJcmlnaHRfbWFzayB8PSAxIDw8IChzW2pdIC0gJ2EnKTsNCgkJfQ0KCQkNCgkJaWYgKG1pc19jbnQgPT0gMSkgew0KCQkJY19vZGRfbGVmdCA9IHNbaV07DQoJCQljX29kZF9yaWdodCA9IHNbal07DQoJCX0NCgkJDQoJCQ0KCQkNCgkJaWYgKG1pc19jbnQgPT0gMykgew0KCQkJYnJlYWs7DQoJCX0NCgkJDQoJCWNoZWNrKCk7DQoJCS8vY291dCA8PCBpIDw8ICIgIiA8PCBqIDw8ICJcbiI7DQoJCWktLSwgaisrOw0KCQkNCgl9DQoJcmV0dXJuIHJlczsNCn0NCnZvaWQgc29sdmUoKSB7DQoJY2luID4+IHM7DQoJbiA9IHMuc2l6ZSgpOw0KCWludCByZXMgPSAwOw0KCWZvciAoaW50IGkgPSAwOyBpIDwgbjsgKytpKSB7DQoJCWlmIChpICsgMSA8IG4pIHsNCgkJCXJlcyA9IG1heChyZXMsIGdvKGksIGkgKyAxKSk7DQoJCX0gDQoJCSBpZiAoaSA+IDAgJiYgaSArIDEgPCBuKSB7DQoJCQlyZXMgPSBtYXgocmVzLCBnbyhpIC0gMSwgaSArIDEpKTsNCgkJfQ0KCQkvL2NvdXQgPDwgaSA8PCAiICIgPDwgcmVzIDw8ICJcbiI7DQoJfQ0KLy8JY291dCA8PCBnbyg1LCA2KSA8PCAiXG4iOw0KLy8JY291dCA8PCBnbygyLCA0KSA8PCAiXG4iOw0KCWNvdXQgPDwgcmVzIDw8ICJcbiI7DQp9DQoNCnNpZ25lZCBtYWluKCkgew0KCWlvczo6c3luY193aXRoX3N0ZGlvKGZhbHNlKTsNCgkNCglpbnQgdDsNCgljaW4gPj4gdDsNCgl3aGlsZSAodC0tKSB7DQoJCXNvbHZlKCk7DQoJfQkNCglyZXR1cm4gMDsNCn0NCg0KLyoNCjENCnN0ZmhmaXV0DQo0DQphYmNjYWINCmloaQ0Kc3RmaGZpdXQNCnBhbGluZHJvbWUNCiov"}]