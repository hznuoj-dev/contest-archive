[{"id":"2814","submission_id":"2814","filename":"C.cpp","source":"I2luY2x1ZGU8Yml0cy9zdGRjKysuaD4NCnVzaW5nIG5hbWVzcGFjZSBzdGQ7DQojZGVmaW5lIGludCBsb25nIGxvbmcNCiNkZWZpbmUgZW5kbCAiXG4iDQpjb25zdCBpbnQgbW9kID0gMWU5ICsgNzsNCnRlbXBsYXRlIDxjbGFzcy4uLiBBcmdzPiB2b2lkIF8oQXJncy4uLiBhcmdzKSB7DQoJYXV0byBfID0gWyZdKGF1dG8geCkge2NvdXQgPDwgeCA8PCAiICI7fTsNCgljb3V0IDw8ICItLT4iOw0KCWludCBhcnJbXSA9IHsoXyhhcmdzKSwgMCkuLi59Ow0KCWNvdXQgPDwgZW5kbDsNCn0NCmludCBxcChpbnQgYSwgaW50IGIpew0KCWludCBhbnMgPSAxOw0KCXdoaWxlIChiKXsNCgkJaWYgKGIgJiAxKXsNCgkJCWFucyA9IGFucyAqIGEgJSBtb2Q7DQoJCX0NCgkJYiA+Pj0gMTsNCgkJYSA9IGEgKiBhICUgbW9kOw0KCX0NCglyZXR1cm4gYW5zOw0KfQ0Kdm9pZCBzb2x2ZSgpIHsNCglzdHJpbmcgczEsIHMyOyBjaW4gPj4gczEgPj4gczI7DQoJc2V0PGludD4gdW5pMSwgdW5pMjsNCgltYXA8cGFpcjxpbnQsIGludD4sIGludD4gcHA7DQoJaW50IGRpYzFbMzBdID0ge30sIGRpYzJbMzBdID0ge307DQoJZm9yIChhdXRvIGl0IDogczEpICsrIGRpYzFbaXQgLSAnYSddLCB1bmkxLmluc2VydChpdCAtICdhJyk7DQoJZm9yIChhdXRvIGl0IDogczIpICsrIGRpYzJbaXQgLSAnYSddLCB1bmkyLmluc2VydChpdCAtICdhJyk7DQoJZm9yIChpbnQgaSA9IDA7IGkgPCBzMS5zaXplKCk7ICsrIGkpIHsNCgkJKysgcHBbe3MxW2ldIC0gJ2EnLCBzMltpXSAtICdhJ31dOw0KCX0NCgkNCglpbnQgc2l6ZTEgPSB1bmkxLnNpemUoKSwgc2l6ZTIgPSB1bmkyLnNpemUoKTsNCglpZiAoYWJzKHNpemUxIC0gc2l6ZTIpID4gMikgew0KCQljb3V0IDw8IDA7DQoJCXJldHVybjsNCgl9DQoJDQoJaW50IERJQzFbMzBdID0ge30sIERJQzJbMzBdID0ge307DQoJZm9yIChpbnQgaSA9IDA7IGkgPCAyNjsgKysgaSkgew0KCQlESUMxW2ldID0gZGljMVtpXTsNCgkJRElDMltpXSA9IGRpYzJbaV07DQoJfQ0KCWludCBhbnMgPSAwLCBhbnMxID0gMDsNCglmb3IgKGludCBpID0gMDsgaSA8IDI2OyArKyBpKSB7DQoJCWZvciAoaW50IGogPSAwOyBqIDwgMjY7ICsrIGopIHsNCgkJCWZvciAoaW50IHAgPSAwOyBwIDwgMjY7ICsrIHApIHsNCgkJCQlmb3IgKGludCBxID0gMDsgcSA8IDI2OyArKyBxKSB7DQoJCQkJCWlmIChwcC5jb3VudCh7aSwgan0pID09IDAgfHwgcHAuY291bnQoe3AsIHF9KSA9PSAwKSBjb250aW51ZTsNCgkJCQkJc2l6ZTEgPSB1bmkxLnNpemUoKSwgc2l6ZTIgPSB1bmkyLnNpemUoKTsNCgkJCQkJDQoJCQkJCWlmIChkaWMxW2ldID09IDEpIC0tIHNpemUxOw0KCQkJCQlpZiAoZGljMltpXSA9PSAwKSArKyBzaXplMjsNCgkJCQkJLS0gZGljMVtpXSwgKysgZGljMltpXTsNCgkJCQkJDQoJCQkJCWlmIChkaWMxW2pdID09IDApICsrIHNpemUxOw0KCQkJCQlpZiAoZGljMltqXSA9PSAxKSAtLSBzaXplMjsNCgkJCQkJKysgZGljMVtqXSwgLS0gZGljMltqXTsNCgkJCQkJDQoJCQkJCWlmIChkaWMxW3BdID09IDEpIC0tIHNpemUxOw0KCQkJCQlpZiAoZGljMltwXSA9PSAwKSArKyBzaXplMjsNCgkJCQkJLS0gZGljMVtwXSwgKysgZGljMltwXTsNCgkJCQkJDQoJCQkJCWlmIChkaWMxW3FdID09IDApICsrIHNpemUxOw0KCQkJCQlpZiAoZGljMltxXSA9PSAxKSAtLSBzaXplMjsNCgkJCQkJKysgZGljMVtxXSwgLS0gZGljMltxXTsNCgkJCQkJDQoJCQkJCWlmIChzaXplMSA9PSBzaXplMikgew0KCQkJCQkJaWYgKGkgPT0gcCAmJiBqID09IHEpIHsNCgkJCQkJCQlhbnMgPSAoYW5zICsgcHBbe2ksIGp9XSAqIChwcFt7aSwgan1dIC0gMSkgKiBxcCgyLG1vZCAtIDIpICUgbW9kKSAlIG1vZDsNCgkJCQkJCX0NCgkJCQkJCWVsc2Ugew0KCQkJCQkJCWFuczEgPSAoYW5zMSArIChwcFt7aSwgan1dICogcHBbe3AsIHF9XSkgJSBtb2QpICUgbW9kOw0KLy8JCQkJCQkJXygiICAiLCAocHBbe2ksIGp9XSAqIHBwW3twLCBxfV0pKTsNCi8vCQkJCQkJCWFucyA9IChhbnMgKyBwcFt7aSwgan1dICogcHBbe3AsIHF9XSAlIG1vZCkgJSBtb2Q7DQoJCQkJCQl9DQoJCQkJCQkNCi8vCQkJCQkJXyhjaGFyKGkgKyAnYScpLCBjaGFyKGogKyAnYScpLCBjaGFyKHAgKyAnYScpLCBjaGFyKHEgKyAnYScpLGFucyxhbnMxKTsNCgkJCQkJfQ0KCQkJCQlkaWMxW3BdID0gRElDMVtwXSwgZGljMltwXSA9IERJQzJbcF07DQoJCQkJCWRpYzFbcV0gPSBESUMxW3FdLCBkaWMyW3FdID0gRElDMltxXTsNCgkJCQkJZGljMVtpXSA9IERJQzFbaV0sIGRpYzJbaV0gPSBESUMyW2ldOw0KCQkJCQlkaWMxW2pdID0gRElDMVtqXSwgZGljMltqXSA9IERJQzJbal07DQoJCQkJfQ0KCQkJfQ0KCQl9DQoJfQ0KCWNvdXQgPDwgKGFucyArIGFuczEgKiBxcCgyLCBtb2QgLSAyKSAlIG1vZCkgJSBtb2Q7DQp9DQpzaWduZWQgbWFpbigpIHsNCglpb3M6OnN5bmNfd2l0aF9zdGRpbygwKSwgY2luLnRpZSgwKSwgY291dC50aWUoMCk7DQoJaW50IENhc2UgPSAxOw0KLy8JY2luID4+IENhc2U7DQoJd2hpbGUgKENhc2UgLS0gKSB7DQoJCXNvbHZlKCk7DQoJfQ0KCXJldHVybiAwOw0KfQ=="}]