[{"id":"3292","submission_id":"3292","filename":"2.cpp","source":"I2luY2x1ZGU8aW9zdHJlYW0+DQojaW5jbHVkZTx2ZWN0b3I+DQojaW5jbHVkZTxzdHJpbmc+DQojaW5jbHVkZTxjbWF0aD4NCiNpbmNsdWRlPHVub3JkZXJlZF9tYXA+DQojaW5jbHVkZTxhbGdvcml0aG0+DQp1c2luZyBuYW1lc3BhY2Ugc3RkOw0KdHlwZWRlZiBsb25nIGxvbmcgTEw7DQp0eXBlZGVmIHBhaXI8aW50LGludD5QSUk7DQppbnQgdG9uZ1sxMDAxMF1bNTAxMF07DQp2ZWN0b3I8aW50PnFbNTAwMTBdOw0Kc3RyaW5nIHMsdDsNCmludCBuOw0KYm9vbCBjaGVjayhpbnQgbCxpbnQgcikNCnsNCglpbnQgcnI9bi1yOw0KCWludCBweT1sLXJyKzUwMTA7DQoJdmVjdG9yPFBJST5pZHg7DQovLwlpbnQgbGw9bCxycnI9cjsNCi8vCWlmKCEobD09MCYmcj09MikpcmV0dXJuIGZhbHNlOw0KCXdoaWxlKDEpew0KCQlhdXRvIHA9bG93ZXJfYm91bmQocVtweV0uYmVnaW4oKSxxW3B5XS5lbmQoKSxsKTsNCgkJaWYocCE9cVtweV0uZW5kKCkmJipwPD1yKXsNCgkJCWludCBpZD0qcCxpZDI9bi0qcDsNCi8vCQkJY291dDw8aWQ8PCIgIjw8aWQyPDxlbmRsOw0KCQkJaWR4LnB1c2hfYmFjayh7c1tpZF0tJ2EnLHRbaWQyXS0nYSd9KTsNCgkJCWw9KnArMTsNCgkJfQ0KCQllbHNlIGJyZWFrOw0KCX0NCi8vCWNvdXQ8PGxsPDwiICI8PHJycjw8IiAiPDxpZHguc2l6ZSgpPDwiICI8PHB5LTUwMTA8PGVuZGw7DQoJaWYoKGludClpZHguc2l6ZSgpIT00KXJldHVybiBmYWxzZTsNCglzb3J0KGlkeC5iZWdpbigpLGlkeC5lbmQoKSk7DQoJaWYoaWR4WzBdLmZpcnN0PT1pZHhbMV0uZmlyc3QmJmlkeFswXS5zZWNvbmQ9PWlkeFsxXS5zZWNvbmQpew0KCQlpZihpZHhbMl0uZmlyc3Q9PWlkeFszXS5maXJzdCYmaWR4WzJdLnNlY29uZD09aWR4WzNdLnNlY29uZCl7DQoJCQlpZighKGlkeFsxXS5maXJzdD09aWR4WzJdLmZpcnN0JiZpZHhbMV0uc2Vjb25kPT1pZHhbMl0uc2Vjb25kKSl7DQoJCQkJaWYoaWR4WzBdLmZpcnN0PT1pZHhbMV0uc2Vjb25kJiZpZHhbMF0uc2Vjb25kPT1pZHhbMV0uZmlyc3Qpew0KCQkJCQlyZXR1cm4gdHJ1ZTsNCgkJCQl9DQoJCQl9DQoJCX0NCgl9DQovLwljb3V0PDxpZHhbMF0uZmlyc3Q8PCIgIjw8aWR4WzBdLnNlY29uZDw8IiAiPDxpZHhbMV0uZmlyc3Q8PCIgIjw8aWR4WzFdLnNlY29uZDw8ZW5kbDsNCi8vCWNvdXQ8PGxsPDwiICI8PHJycjw8IiAiPDxpZHguc2l6ZSgpPDwiICI8PHB5LTUwMTA8PGVuZGw7DQoJcmV0dXJuIGZhbHNlOw0KfQ0Kc2lnbmVkIG1haW4oKQ0Kew0KCWNpbi50aWUoMCk7Y291dC50aWUoMCk7DQoJaW9zOjpzeW5jX3dpdGhfc3RkaW8oZmFsc2UpOw0KCWludCBUOw0KCWNpbj4+VDsNCgl3aGlsZShULS0pDQoJew0KCQljaW4+PnM7DQoJCW49cy5zaXplKCk7DQoJCQ0KCQl2ZWN0b3I8Y2hhcj5hOw0KCQlhLnB1c2hfYmFjaygwKTsNCgkJZm9yKGludCBpPTA7aTxuO2krKyl7DQoJCQlhLnB1c2hfYmFjayhzW2ldKTsNCgkJCWEucHVzaF9iYWNrKDApOw0KCQl9CQkNCgkJdmVjdG9yPGludD5wOw0KCQlwLnJlc2l6ZShhLnNpemUoKSk7DQoJCXBbMF09MDsNCgkJaW50IGlkLG14PTA7DQoJCWZvcihpbnQgaT0xO2k8YS5zaXplKCk7aSsrKXsNCgkJCWlmKGk8bXgpcFtpXT1taW4obXgtaSxwWzIqaWQtaV0pOw0KCQkJZWxzZSBwW2ldPTE7DQoJCQl3aGlsZShpLXBbaV0+PTAmJmkrcFtpXTxhLnNpemUoKSYmYVtpLXBbaV1dPT1hW2krcFtpXV0pKytwW2ldOw0KCQkJaWYobXg8aStwW2ldKXsNCgkJCQlteD1pK3BbaV07DQoJCQkJaWQ9aTsNCgkJCX0NCgkJfQ0KCQlpbnQgcmVzPTA7DQoJCWZvcihpbnQgaT0wO2k8YS5zaXplKCk7aSsrKXJlcz1tYXgocmVzLHBbaV0tMSk7DQoJCWlmKHJlcz09MSlyZXM9MDsNCgkJZm9yKGludCBpPTA7aTw9bis1MDEwO2krKyl7DQoJCQlmb3IoaW50IGo9MDtqPD1uO2orKyl7DQoJCQkJdG9uZ1tpXVtqXT0wOw0KCQkJfQ0KCQl9DQoJCWZvcihpbnQgaT0wO2k8PTMwMDAwO2krKylxW2ldLmNsZWFyKCk7DQoJCXQ9czsNCgkJbi0tOw0KCQlyZXZlcnNlKHQuYmVnaW4oKSx0LmVuZCgpKTsNCgkJZm9yKGludCBweT0tKG4pO3B5PD1uO3B5Kyspew0KCQkJZm9yKGludCBqPTA7ajw9bjtqKyspew0KCQkJCWlmKGotcHk8MHx8ai1weT5uKWNvbnRpbnVlOw0KCQkJCWlmKHNbal0hPXRbai1weV0pdG9uZ1tweSs1MDEwXVtqXT0xOw0KCQkJfQ0KCQl9DQoJCWZvcihpbnQgcHk9LShuKTtweTw9bjtweSsrKXsNCgkJCWludCBwPXB5KzUwMTA7DQoJCQlmb3IoaW50IGo9MDtqPD1uO2orKyl7DQoJCQkJaWYoai1weTwwfHxqLXB5Pm4pY29udGludWU7DQoJCQkJaWYodG9uZ1twXVtqXSlxW3BdLnB1c2hfYmFjayhqKTsNCgkJCX0NCgkJfQ0KCQlmb3IoaW50IGw9MDtsPD1uO2wrKyl7DQoJCQlmb3IoaW50IHI9bDtyPD1uO3IrKyl7DQoJCQkJaWYoY2hlY2sobCxyKSlyZXM9bWF4KHJlcyxyLWwrMSk7DQoJCQl9DQoJCX0NCgkJY291dDw8cmVzPDxlbmRsOw0KCX0NCn0NCg=="}]