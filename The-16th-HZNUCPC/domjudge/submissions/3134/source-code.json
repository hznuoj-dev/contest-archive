[{"id":"3134","submission_id":"3134","filename":"c.cpp","source":"I2luY2x1ZGUgPGlvc3RyZWFtPg0KI2luY2x1ZGUgPGFsZ29yaXRobT4NCiNpbmNsdWRlIDxtYXA+DQp1c2luZyBuYW1lc3BhY2Ugc3RkOw0KY29uc3QgaW50IE4gPSAyZTUgKyAxMCwgTSA9IDRlNSArIDEwLCBpbmYgPSAweDNmM2YzZjNmOw0Kc3RydWN0IG5vZGV0IHsNCiAgICBpbnQgdGltZTsNCiAgICBpbnQga2luZDsgLy8gMSA6IGJ1cywgMiA6cGVvcGxlDQogICAgaW50IGwsIHI7IC8vIGJ1cw0KICAgIGludCBwb3M7IC8vIHBlb3BsZQ0KICAgIGludCBpZHg7IC8vIHFyeQ0KICAgIGJvb2wgb3BlcmF0b3I8KGNvbnN0IG5vZGV0ICZvKSB7DQogICAgICAgIGlmICh0aW1lID09IG8udGltZSkgew0KICAgICAgICAgICAgaWYgKGtpbmQgIT0gby5raW5kKSByZXR1cm4ga2luZCA8IG8ua2luZDsNCiAgICAgICAgICAgIHJldHVybiAociA+IG8ucik7DQogICAgICAgIH0NCiAgICAgICAgcmV0dXJuIHRpbWUgPiBvLnRpbWU7DQogICAgfQ0KfXFyeXNbTl07DQojZGVmaW5lIGxzIHUgPDwgMQ0KI2RlZmluZSBycyB1IDw8IDEgfDENCiNkZWZpbmUgbHNvbiB0cltsc10NCiNkZWZpbmUgcnNvbiB0cltyc10NCnN0cnVjdCBub2RlIHsNCiAgICBpbnQgZmxhZzsNCiAgICBpbnQgbW47DQp9dHJbTSA8PCAyXTsNCnZvaWQgYnVpbGQoaW50IHUsIGludCBsLCBpbnQgcikgew0KICAgIHRyW3VdLm1uID0gdHJbdV0uZmxhZyA9IGluZjsNCiAgICBpZiAobCA9PSByKSB7DQogICAgICAgIHJldHVybjsNCiAgICB9DQogICAgaW50IG1pZCA9IChsICsgcikgPj4gMTsNCiAgICBidWlsZChscywgbCwgbWlkKTsNCiAgICBidWlsZChycywgbWlkICsgMSwgcik7DQp9DQoNCnZvaWQgcHVzaHVwKGludCB1KSB7DQogICAgdHJbdV0ubW4gPSBtaW4ocnNvbi5tbiwgbHNvbi5tbik7DQp9DQp2b2lkIHB1c2hkb3duKGludCB1KSB7DQogICAgaWYgKHRyW3VdLmZsYWcgIT0gaW5mKSB7DQogICAgICAgIGxzb24ubW4gPSBtaW4odHJbdV0uZmxhZywgbHNvbi5tbik7DQogICAgICAgIHJzb24ubW4gPSBtaW4odHJbdV0uZmxhZywgcnNvbi5tbik7DQogICAgICAgIGxzb24uZmxhZyA9IG1pbihsc29uLmZsYWcsIHRyW3VdLmZsYWcpOw0KICAgICAgICByc29uLmZsYWcgPSBtaW4ocnNvbi5mbGFnLCB0clt1XS5mbGFnKTsNCiAgICAgICAgdHJbdV0uZmxhZyA9IGluZjsNCiAgICB9DQp9DQppbnQgcXJ5KGludCB1LCBpbnQgbCwgaW50IHIsIGludCBMLCBpbnQgUikgew0KICAgIGlmIChsIDw9IEwgJiYgUiA8PSByKSB7DQogICAgICAgIHJldHVybiB0clt1XS5tbjsNCiAgICB9DQogICAgcHVzaGRvd24odSk7DQogICAgaW50IG1pZCA9IChMICsgUikgPj4gMTsNCiAgICBpbnQgbW4gPSBpbmY7DQogICAgaWYgKGwgPD0gbWlkKSBtbiA9IG1pbihtbiwgcXJ5KGxzLCBsLCByLCBMLCBtaWQpKTsNCiAgICBpZiAociA+IG1pZCkgbW4gPSBtaW4obW4sIHFyeShycywgbCwgciwgbWlkICsxLCBSKSk7DQogICAgcHVzaHVwKHUpOw0KICAgIHJldHVybiBtbjsNCn0NCnZvaWQgbW9kaWZ5KGludCB1LCBpbnQgbCwgaW50IHIsIGludCBMLCBpbnQgUiwgaW50IHgpIHsNCiAgICBpZiAobCA8PSBMICYmIFIgPD0gcikgew0KICAgICAgICB0clt1XS5tbiA9IG1pbih4LCB0clt1XS5tbik7DQogICAgICAgIHRyW3VdLmZsYWcgPSBtaW4oeCwgdHJbdV0uZmxhZyk7DQogICAgICAgIHJldHVybjsNCiAgICB9DQogICAgcHVzaGRvd24odSk7DQogICAgaW50IG1pZCA9IChMICsgUikgPj4gMTsNCiAgICBpZiAobCA8PSBtaWQpIG1vZGlmeShscywgbCwgciwgTCwgbWlkLCB4KTsNCiAgICBpZiAociA+bWlkKSBtb2RpZnkocnMsIGwsIHIsIG1pZCArIDEsIFIsIHgpOw0KICAgIHB1c2h1cCh1KTsNCn0NCmludCByZXNbTl07DQppbnQgbWFpbigpew0KICAgIGludCBuLCBtLCB4Ow0KICAgIGNpbiA+PiBuID4+IG0gPj54Ow0KICAgIG1hcDxpbnQsIGludD4gaGFzaF87DQogICAgaW50IGhhc2hpZHggPSAwOw0KICAgIGZvciAoaW50IGkgPSAxOyBpIDw9IG47IGkrKykgew0KICAgICAgICBjaW4gPj4gcXJ5c1tpXS50aW1lID4+cXJ5c1tpXS5sID4+IHFyeXNbaV0ucjsNCiAgICAgICAgcXJ5c1tpXS5raW5kID0gMTsNCiAgICAgICAgaGFzaF9bcXJ5c1tpXS5sXTsNCiAgICAgICAgaGFzaF9bcXJ5c1tpXS5yXTsNCiAgICB9DQogICAgaGFzaF9beF07DQogICAgZm9yIChpbnQgaSA9biArIDE7IGkgPD0gbiArIG07IGkrKykgew0KICAgICAgICBjaW4gPj4gcXJ5c1tpXS50aW1lID4+cXJ5c1tpXS5wb3M7DQogICAgICAgIHFyeXNbaV0ua2luZCA9IDI7DQogICAgICAgIHFyeXNbaV0uaWR4ID0gaSAtIG47DQogICAgICAgIGhhc2hfW3FyeXNbaV0ucG9zXTsNCiAgICB9DQogICAgZm9yIChhdXRvICZbXywgeV0gOiBoYXNoXykgew0KICAgICAgICB5ID0gKytoYXNoaWR4Ow0KICAgIH0NCiAgICBidWlsZCgxLCAxLCBoYXNoaWR4KTsNCiAgICBtb2RpZnkoMSwgaGFzaF9beF0sIGhhc2hfW3hdLCAxLCBoYXNoaWR4LCAwKTsNCiAgICAvLyBmb3IgKGludCBpID0gMTsgaSA8PSBoYXNoaWR4OyBpKyspIHsNCiAgICAvLyAgICAgICAgICAgICBjb3V0IDw8IHFyeSgxLCBpLCBpLCAxLCBoYXNoaWR4KSA8PCAnICc7DQogICAgLy8gICAgICAgICB9DQogICAgLy8gICAgICAgICBjb3V0IDw8ICdcbic7DQogICAgc29ydChxcnlzICsxLCBxcnlzICtuICsgbSArMSk7DQogICAgZm9yIChpbnQgaSA9IDE7IGkgPD0gbiArIG07IGkrKykgew0KICAgICAgICBpZiAocXJ5c1tpXS5raW5kID09IDEpIHsNCiAgICAgICAgICAgIGludCBsID0gaGFzaF9bcXJ5c1tpXS5sXSwgciA9IGhhc2hfW3FyeXNbaV0ucl07DQogICAgICAgICAgICBpbnQgbW4gPSBxcnkoMSwgbCwgciwgMSwgaGFzaGlkeCk7DQogICAgICAgICAgICBtb2RpZnkoMSwgbCwgciwgMSwgaGFzaGlkeCwgbW4gKyAxKTsNCiAgICAgICAgICAgIC8vIGZvciAoaW50IGkgPSAxOyBpIDw9IGhhc2hpZHg7IGkrKykgew0KICAgICAgICAgICAgLy8gICAgIGNvdXQgPDwgcXJ5KDEsIGksIGksIDEsIGhhc2hpZHgpIDw8ICcgJzsNCiAgICAgICAgICAgIC8vIH0NCiAgICAgICAgICAgIC8vIGNvdXQgPDwgJ1xuJzsNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgIGludCBwb3MgPSBoYXNoX1txcnlzW2ldLnBvc107DQogICAgICAgICAgICBpbnQgb2sgPSBxcnkoMSwgcG9zLCBwb3MsIDEsIGhhc2hpZHgpOw0KICAgICAgICAgICAgaWYgKG9rID09IGluZikgew0KICAgICAgICAgICAgICAgIG9rID0gLTE7DQogICAgICAgICAgICB9DQogICAgICAgICAgICByZXNbcXJ5c1tpXS5pZHhdID0gb2s7DQogICAgICAgIH0NCiAgICB9DQogICAgZm9yIChpbnQgaSA9IDE7IGkgPD0gbTsgaSsrKSB7DQogICAgICAgIGNvdXQgPDwgcmVzW2ldIDw8J1xuJzsNCiAgICB9DQp9DQo="}]