[{"id":"2860","submission_id":"2860","filename":"C.cpp","source":"I2luY2x1ZGU8Yml0cy9zdGRjKysuaD4NCnVzaW5nIG5hbWVzcGFjZSBzdGQ7DQojZGVmaW5lIGludCBsb25nIGxvbmcNCiNkZWZpbmUgZW5kbCAiXG4iDQpjb25zdCBpbnQgbW9kID0gMWU5ICsgNzsNCnRlbXBsYXRlIDxjbGFzcy4uLiBBcmdzPiB2b2lkIF8oQXJncy4uLiBhcmdzKSB7DQoJYXV0byBfID0gWyZdKGF1dG8geCkge2NvdXQgPDwgeCA8PCAiICI7fTsNCgljb3V0IDw8ICItLT4iOw0KCWludCBhcnJbXSA9IHsoXyhhcmdzKSwgMCkuLi59Ow0KCWNvdXQgPDwgZW5kbDsNCn0NCmludCBxcChpbnQgYSwgaW50IGIpew0KCWludCBhbnMgPSAxOw0KCXdoaWxlIChiKXsNCgkJaWYgKGIgJiAxKXsNCgkJCWFucyA9IGFucyAqIGEgJSBtb2Q7DQoJCX0NCgkJYiA+Pj0gMTsNCgkJYSA9IGEgKiBhICUgbW9kOw0KCX0NCglyZXR1cm4gYW5zOw0KfQ0Kdm9pZCBzb2x2ZSgpIHsNCglzdHJpbmcgczEsIHMyOyBjaW4gPj4gczEgPj4gczI7DQoJc2V0PGludD4gdW5pMSwgdW5pMjsNCgltYXA8cGFpcjxpbnQsIGludD4sIGludD4gcHA7DQoJaW50IGRpYzFbMzBdID0ge30sIGRpYzJbMzBdID0ge307DQoJZm9yIChhdXRvIGl0IDogczEpICsrIGRpYzFbaXQgLSAnYSddLCB1bmkxLmluc2VydChpdCAtICdhJyk7DQoJZm9yIChhdXRvIGl0IDogczIpICsrIGRpYzJbaXQgLSAnYSddLCB1bmkyLmluc2VydChpdCAtICdhJyk7DQoJZm9yIChpbnQgaSA9IDA7IGkgPCBzMS5zaXplKCk7ICsrIGkpIHsNCgkJKysgcHBbe3MxW2ldIC0gJ2EnLCBzMltpXSAtICdhJ31dOw0KCX0NCgkNCglpbnQgc2l6ZTEgPSB1bmkxLnNpemUoKSwgc2l6ZTIgPSB1bmkyLnNpemUoKTsNCi8vCWlmIChhYnMoc2l6ZTEgLSBzaXplMikgPiAyKSB7DQovLwkJY291dCA8PCAwOw0KLy8JCXJldHVybjsNCi8vCX0NCgkNCglpbnQgRElDMVszMF0gPSB7fSwgRElDMlszMF0gPSB7fTsNCglmb3IgKGludCBpID0gMDsgaSA8IDI2OyArKyBpKSB7DQoJCURJQzFbaV0gPSBkaWMxW2ldOw0KCQlESUMyW2ldID0gZGljMltpXTsNCgl9DQoJaW50IGFucyA9IDAsIGFuczEgPSAwOw0KCWZvciAoaW50IGkgPSAwOyBpIDwgMjY7ICsrIGkpIHsNCgkJZm9yIChpbnQgaiA9IDA7IGogPCAyNjsgKysgaikgew0KCQkJZm9yIChpbnQgcCA9IDA7IHAgPCAyNjsgKysgcCkgew0KCQkJCWZvciAoaW50IHEgPSAwOyBxIDwgMjY7ICsrIHEpIHsNCgkJCQkJaWYgKHBwLmNvdW50KHtpLCBqfSkgPT0gMCB8fCBwcC5jb3VudCh7cCwgcX0pID09IDApIGNvbnRpbnVlOw0KCQkJCQlzaXplMSA9IHVuaTEuc2l6ZSgpLCBzaXplMiA9IHVuaTIuc2l6ZSgpOw0KCQkJCQkNCgkJCQkJaWYgKGRpYzFbaV0gPT0gMSkgLS0gc2l6ZTE7DQoJCQkJCWlmIChkaWMyW2ldID09IDApICsrIHNpemUyOw0KCQkJCQktLSBkaWMxW2ldLCArKyBkaWMyW2ldOw0KCQkJCQkNCgkJCQkJaWYgKGRpYzFbal0gPT0gMCkgKysgc2l6ZTE7DQoJCQkJCWlmIChkaWMyW2pdID09IDEpIC0tIHNpemUyOw0KCQkJCQkrKyBkaWMxW2pdLCAtLSBkaWMyW2pdOw0KCQkJCQkNCgkJCQkJaWYgKGRpYzFbcF0gPT0gMSkgLS0gc2l6ZTE7DQoJCQkJCWlmIChkaWMyW3BdID09IDApICsrIHNpemUyOw0KCQkJCQktLSBkaWMxW3BdLCArKyBkaWMyW3BdOw0KCQkJCQkNCgkJCQkJaWYgKGRpYzFbcV0gPT0gMCkgKysgc2l6ZTE7DQoJCQkJCWlmIChkaWMyW3FdID09IDEpIC0tIHNpemUyOw0KCQkJCQkrKyBkaWMxW3FdLCAtLSBkaWMyW3FdOw0KCQkJCQkNCgkJCQkJaWYgKHNpemUxID09IHNpemUyKSB7DQoJCQkJCQlpZiAoaSA9PSBwICYmIGogPT0gcSkgew0KCQkJCQkJCWFucyA9IChhbnMgKyBwcFt7aSwgan1dICogKHBwW3tpLCBqfV0gLSAxKSAqIHFwKDIsbW9kIC0gMikgJSBtb2QpICUgbW9kOw0KCQkJCQkJfQ0KCQkJCQkJZWxzZSB7DQoJCQkJCQkJYW5zMSA9IChhbnMxICsgKHBwW3tpLCBqfV0gKiBwcFt7cCwgcX1dKSAlIG1vZCkgJSBtb2Q7DQovLwkJCQkJCQlfKCIgICIsIChwcFt7aSwgan1dICogcHBbe3AsIHF9XSkpOw0KLy8JCQkJCQkJYW5zID0gKGFucyArIHBwW3tpLCBqfV0gKiBwcFt7cCwgcX1dICUgbW9kKSAlIG1vZDsNCgkJCQkJCX0NCgkJCQkJCQ0KLy8JCQkJCQlfKGNoYXIoaSArICdhJyksIGNoYXIoaiArICdhJyksIGNoYXIocCArICdhJyksIGNoYXIocSArICdhJyksYW5zLGFuczEpOw0KCQkJCQl9DQoJCQkJCWRpYzFbcF0gPSBESUMxW3BdLCBkaWMyW3BdID0gRElDMltwXTsNCgkJCQkJZGljMVtxXSA9IERJQzFbcV0sIGRpYzJbcV0gPSBESUMyW3FdOw0KCQkJCQlkaWMxW2ldID0gRElDMVtpXSwgZGljMltpXSA9IERJQzJbaV07DQoJCQkJCWRpYzFbal0gPSBESUMxW2pdLCBkaWMyW2pdID0gRElDMltqXTsNCgkJCQl9DQoJCQl9DQoJCX0NCgl9DQoJY291dCA8PCAoYW5zICsgYW5zMSAqIHFwKDIsIG1vZCAtIDIpICUgbW9kKSAlIG1vZDsNCn0NCnNpZ25lZCBtYWluKCkgew0KCWlvczo6c3luY193aXRoX3N0ZGlvKDApLCBjaW4udGllKDApLCBjb3V0LnRpZSgwKTsNCglpbnQgQ2FzZSA9IDE7DQovLwljaW4gPj4gQ2FzZTsNCgl3aGlsZSAoQ2FzZSAtLSApIHsNCgkJc29sdmUoKTsNCgl9DQoJcmV0dXJuIDA7DQp9"}]