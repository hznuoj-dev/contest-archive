[{"id":"2196","submission_id":"2196","filename":"E.cpp","source":"I2luY2x1ZGUgPGJpdHMvc3RkYysrLmg+DQp1c2luZyBuYW1lc3BhY2Ugc3RkOw0KI2RlZmluZSBpbnQgbG9uZyBsb25nDQpjb25zdCBpbnQgTiA9IDFlMiArIDU7DQpwYWlyPGludCwgaW50PiBQW05dOw0KDQppbnQgZ2NkKGludCwgaW50KTsNCmludCBXKGludCwgaW50KTsNCi8vYm9vbCBjaGVjaygpOw0KDQppbnQgYW5zOw0KaW50IG47DQpzaWduZWQgbWFpbigpIHsNCgljaW4gPj4gbjsNCglmb3IgKGludCBpID0gMTsgaSA8PSBuOyBpKyspIHsNCgkJc2NhbmYoIiVsbGQlbGxkIiwgJlBbaV0uZmlyc3QsICZQW2ldLnNlY29uZCk7DQoJCQ0KCX0NCgkNCglmb3IgKGludCBpID0gMTsgaSA8PSBuOyBpKyspIHsNCgkJZm9yIChpbnQgaiA9IGkgKyAxOyBqIDw9IG47IGorKykgew0KCQkJZm9yIChpbnQgayA9IGogKyAxOyBrIDw9IG47IGsrKykgew0KCQkJCWludCB4ZGlmMSA9IGFicyhQW2tdLmZpcnN0IC0gUFtqXS5maXJzdCk7DQoJCQkJaW50IHhkaWYyID0gYWJzKFBbal0uZmlyc3QgLSBQW2ldLmZpcnN0KTsNCgkJCQkNCgkJCQlpbnQgeWRpZjEgPSBhYnMoUFtrXS5zZWNvbmQgLSBQW2pdLnNlY29uZCk7DQoJCQkJaW50IHlkaWYyID0gYWJzKFBbal0uc2Vjb25kIC0gUFtpXS5zZWNvbmQpOw0KCQkJCQ0KCQkJCWlmICgobG9uZyBsb25nKSB4ZGlmMSAqIHlkaWYyICogMWxsICE9IChsb25nIGxvbmcpIHlkaWYxICogeGRpZjIgKiAxbGwpIHsNCgkJCQkJYW5zID0gbWF4KGFucywgVyhpLCBqKSArIFcoaiwgaykgKyBXKGksIGspKTsNCi8vCQkJCQlwcmludGYoIiVkICVkICVkICVkXG4iLCBpLCBqLCBXKGksIGopLCBXKGosIGspKTsNCgkJCQl9DQoJCQkJaWYgKHhkaWYxICsgeGRpZjIgIT0gMCAmJiB4ZGlmMSAqIHhkaWYyID09IDAgJiYgISh5ZGlmMSA9PSAwICYmIHlkaWYyID09IDApKSB7DQoJCQkJCWFucyA9IG1heChhbnMsIFcoaSwgaikgKyBXKGosIGspICsgVyhpLCBrKSk7DQoJCQkJfQ0KCQkJCWlmICh5ZGlmMSArIHlkaWYyICE9IDAgJiYgeWRpZjEgKiB5ZGlmMiA9PSAwICYmICEoeGRpZjEgPT0gMCAmJiB4ZGlmMiA9PSAwKSkgew0KCQkJCQlhbnMgPSBtYXgoYW5zLCBXKGksIGopICsgVyhqLCBrKSArIFcoaSwgaykpOw0KCQkJCX0NCi8vCQkJCWNvdXQgPDwgYW5zIDw8IGVuZGw7DQovLwkJCQkJDQovLyA0DQovLyAyIDUNCi8vIDQgOQ0KLy8gNyAyOQ0KLy8gMTMgMzcNCi8vIDMgMzAgMzEgMzINCi8vIDQ1NDUgLTEtMSAwMTINCi8vCQkJCWlmIChQW2pdLmZpcnN0ICE9IFBbaV0uZmlyc3QgJiYgUFtrXS5maXJzdCAhPSBQW2pdLmZpcnN0KSB7DQovLy8vCQkJCQlsb25nIGRvdWJsZSByYXQxID0gMS4wICogKFBbal0uc2Vjb25kIC0gUFtpXS5zZWNvbmQpIC8gKFBbal0uZmlyc3QgLSBQW2ldLmZpcnN0KTsNCi8vLy8JCQkJCWxvbmcgZG91YmxlIHJhdDIgPSAxLjAgKiAoUFtrXS5zZWNvbmQgLSBQW2pdLnNlY29uZCkgLyAoUFtrXS5maXJzdCAtIFBbal0uZmlyc3QpOw0KLy8vLwkJCQkJaWYgKHJhdDEgPT0gcmF0Mikgew0KLy8vLwkJCQkJCWNvbnRpbnVlOw0KLy8vLwkJCQkJfQ0KLy8JCQkJCWFucyA9IG1heChhbnMsIFcoaSwgaikgKyBXKGosIGspICsgVyhpLCBrKSk7DQovLwkJCQl9IGVsc2Ugew0KLy8JCQkJCWlmKFBbal0uZmlyc3QgPT0gUFtpXS5maXJzdCAmJiBQW2ldLmZpcnN0ID09IFBba10uZmlyc3QgfHwNCi8vCQkJCQkgICBQW2pdLnNlY29uZCA9PSBQW2ldLnNlY29uZCAmJiBQW2ldLnNlY29uZCA9PSBQW2tdLnNlY29uZCkgew0KLy8JCQkJCQljb250aW51ZTsNCi8vCQkJCQl9ZWxzZXsNCi8vCQkJCQkJYW5zID0gbWF4KGFucywgVyhpLCBqKSArIFcoaiwgaykgKyBXKGksIGspKTsNCi8vCQkJCQl9DQovLwkJCQl9DQoJCQl9DQoJCX0NCgl9DQoJY291dCA8PCBtYXgoYW5zIC0gMywgMGxsKTsNCglyZXR1cm4gMDsNCn0NCg0KaW50IGdjZChpbnQgYSwgaW50IGIpIHsNCglpZiAoYiA9PSAwKSB7DQoJCXJldHVybiBhOw0KCX0NCglyZXR1cm4gZ2NkKGIsIGEgJSBiKTsNCn0NCg0KaW50IFcoaW50IGluZCwgaW50IGpuZCkgew0KCWludCB4ZGlmID0gYWJzKFBbaW5kXS5maXJzdCAtIFBbam5kXS5maXJzdCk7DQoJaW50IHlkaWYgPSBhYnMoUFtpbmRdLnNlY29uZCAtIFBbam5kXS5zZWNvbmQpOw0KCXJldHVybiBnY2QoeGRpZiwgeWRpZikgKyAxOw0KfQ0K"}]