[{"id":"1661","submission_id":"1661","filename":"main.cpp","source":"LyojaW5jbHVkZSA8Yml0cy9zdGRjKysuaD4NCg0KdXNpbmcgbmFtZXNwYWNlIHN0ZDsNCnR5cGVkZWYgbG9uZyBsb25nIGxsOw0KY29uc3QgbGwgbW9kID0gMWU5Kzc7DQoNCg0KbGwgcXBvdyhsbCBhLGxsIGIpew0KICAgIGxsIGFucyA9IDE7DQogICAgd2hpbGUoYil7DQogICAgICAgIGlmKGImMSkgYW5zID0gYW5zKmElbW9kOw0KICAgICAgICBhPWEqYSVtb2Q7DQogICAgICAgIGI+Pj0xOw0KICAgIH0NCiAgICByZXR1cm4gYW5zOw0KfQ0KDQpiaXRzZXQ8MTA+IGJzOw0KDQppbnQgcGFbTl07DQppbnQgZmluZChpbnQgYSl7DQogICAgcmV0dXJuIHBhW2FdPT1hP2E6cGFbYV0gPSBmaW5kKHBhW2FdKTsNCn0NCg0Kdm9pZCBtZXJnZShpbnQgYSxpbnQgYil7DQogICAgYSA9IGZpbmQoYSksYiA9IGZpbmQoYik7DQogICAgaWYoYT09YikgcmV0dXJuOw0KICAgIHBhW2FdID0gYjsNCn0NCmludCBvcFtOXSx4W05dLHlbTl07DQpzaWduZWQgbWFpbigpDQp7DQogICAgaW9zOjpzeW5jX3dpdGhfc3RkaW8oMCk7DQogICAgY2luLnRpZSgwKTsNCiAgICBjb3V0LnRpZSgwKTsNCiAgICBicy5zZXQoMSk7DQogICAgYnMuc2V0KDUpOw0KICAgIGZvcihpbnQgaSA9IGJzLl9GaW5kX2ZpcnN0KCk7aSE9YnMuc2l6ZSgpO2k9YnMuX0ZpbmRfbmV4dChpKSl7DQogICAgICAgIGNvdXQ8PGk8PGVuZGw7DQogICAgfQ0KDQogICAgaW50IG4scSxtOw0KICAgIGNpbj4+bj4+cT4+bTsNCiAgICBmb3IoaW50IGk9MTtpPD1uO2krKykgcGFbaV0gPSBpOw0KICAgIGZvcihpbnQgaT0xO2k8PW07aSsrKXsNCg0KICAgIH0NCn0NCiovDQoNCiNpbmNsdWRlIDxiaXRzL3N0ZGMrKy5oPg0KDQp1c2luZyBuYW1lc3BhY2Ugc3RkOw0KdHlwZWRlZiBsb25nIGxvbmcgbGw7DQpjb25zdCBsbCBtb2QgPSAxZTkrNzsNCg0KaW50IG1haW4oKXsNCiAgICBpb3M6OnN5bmNfd2l0aF9zdGRpbygwKTsNCiAgICBjaW4udGllKDApOw0KICAgIGNvdXQudGllKDApOw0KDQogICAgaW50IHQ7DQogICAgY2luPj50Ow0KICAgIHdoaWxlKHQtLSl7DQogICAgICAgIHN0cmluZyBzLHRtcDsNCiAgICAgICAgY2luPj50bXA7DQogICAgICAgIHMucHVzaF9iYWNrKCchJyk7DQogICAgICAgIHMucHVzaF9iYWNrKCdAJyk7DQogICAgICAgIGZvcihhdXRvIHg6dG1wKXsNCiAgICAgICAgICAgIHMucHVzaF9iYWNrKCcjJyk7DQogICAgICAgICAgICBzLnB1c2hfYmFjayh4KTsNCiAgICAgICAgfQ0KICAgICAgICBzLnB1c2hfYmFjaygnIycpOw0KICAgICAgICBzLnB1c2hfYmFjaygnJCcpOw0KICAgICAgICBzLnB1c2hfYmFjaygnJScpOw0KDQoNCiAgICAgICAgaW50IGFucyA9IDE7DQogICAgICAgIGZvcihpbnQgaT0yO2k8PXMubGVuZ3RoKCktMztpKyspew0KICAgICAgICAgICAgcGFpcjxpbnQsaW50PiBmbGFnID0gey0xLC0xfTsNCiAgICAgICAgICAgIGludCBsID0gaS0xLHIgPSBpKzE7DQogICAgICAgICAgICB3aGlsZSgxKXsNCiAgICAgICAgICAgICAgICBpZihmbGFnLmZpcnN0PT0tMSYmZmxhZy5zZWNvbmQ9PS0xKXsNCiAgICAgICAgICAgICAgICAgICAgaWYoc1tsXT09c1tyXSl7DQogICAgICAgICAgICAgICAgICAgICAgICBsLS0scisrOw0KICAgICAgICAgICAgICAgICAgICAgICAgYW5zID0gbWF4KGFucyxyLWwtMSk7DQogICAgICAgICAgICAgICAgICAgIH1lbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGZsYWcuZmlyc3QgPSBzW2xdLSdhJzsNCiAgICAgICAgICAgICAgICAgICAgICAgIGZsYWcuc2Vjb25kID0gc1tyXS0nYSc7DQogICAgICAgICAgICAgICAgICAgICAgICBsLS0scisrOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfWVsc2UgaWYoZmxhZy5maXJzdD09MzAmJmZsYWcuc2Vjb25kPT0zMCl7DQogICAgICAgICAgICAgICAgICAgIGlmKHNbbF09PXNbcl0pew0KICAgICAgICAgICAgICAgICAgICAgICAgbC0tLHIrKzsNCiAgICAgICAgICAgICAgICAgICAgICAgIGFucyA9IG1heChhbnMsci1sLTEpOw0KICAgICAgICAgICAgICAgICAgICB9ZWxzZXsNCiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfWVsc2Ugew0KICAgICAgICAgICAgICAgICAgICBpZihzW2xdPT1zW3JdKXsNCiAgICAgICAgICAgICAgICAgICAgICAgIGwtLSxyKys7DQogICAgICAgICAgICAgICAgICAgIH1lbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmKGZsYWcuZmlyc3Q9PXNbcl0tJ2EnJiZmbGFnLnNlY29uZD09c1tsXS0nYSd8fGZsYWcuZmlyc3Q9PXNbbF0tJ2EnJiZmbGFnLnNlY29uZD09c1tyXS0nYScpew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGwtLSxyKys7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5zID0gbWF4KGFucyxyLWwtMSk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZmxhZyA9IHszMCwzMH07DQogICAgICAgICAgICAgICAgICAgICAgICB9ZWxzZSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgICAgICBsID0gaS0xLHIgPSBpKzE7DQogICAgICAgICAgICBpbnQgZmxnID0gc1tpXS0nYSc7DQogICAgICAgICAgICB3aGlsZSgxKXsNCiAgICAgICAgICAgICAgIGlmKGZsZz09LTEpew0KICAgICAgICAgICAgICAgICAgICBpZihzW2xdPT1zW3JdKXsNCiAgICAgICAgICAgICAgICAgICAgICAgIGwtLSxyKys7DQogICAgICAgICAgICAgICAgICAgICAgICBhbnMgPSBtYXgoYW5zLHItbC0xKTsNCiAgICAgICAgICAgICAgICAgICAgfWVsc2Ugew0KICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgIH1lbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgaWYoc1tsXT09c1tyXSl7DQogICAgICAgICAgICAgICAgICAgICAgICBsLS0scisrOw0KICAgICAgICAgICAgICAgICAgICAgICAgYW5zID0gbWF4KGFucyxyLWwtMSk7DQogICAgICAgICAgICAgICAgICAgIH1lbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmKHNbbF0tJ2EnPT1mbGd8fHNbcl0tJ2EnPT1mbGcpew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGwtLSxyKys7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZmxnID0gLTE7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5zID0gbWF4KGFucyxyLWwtMSk7DQogICAgICAgICAgICAgICAgICAgICAgICB9ZWxzZSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgICBhbnMgPSBhbnMgLyAyOw0KICAgICAgICBpZihhbnM9PTEpew0KICAgICAgICAgICAgYW5zID0gMDsNCiAgICAgICAgfQ0KICAgICAgICBjb3V0PDxhbnM8PGVuZGw7DQogICAgfQ0KfQ0K"}]