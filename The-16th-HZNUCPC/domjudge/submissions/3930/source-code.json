[{"id":"3930","submission_id":"3930","filename":"h.cpp","source":"I2luY2x1ZGU8Yml0cy9zdGRjKysuaD4NCiNkZWZpbmUgRm9yKGksbCxyKSBmb3IoaW50IGk9bCxpIyNlbmQ9cjtpPD1pIyNlbmQ7KytpKQ0KI2RlZmluZSByRm9yKGkscixsKSBmb3IoaW50IGk9cixpIyNlbmQ9bDtpPj1pIyNlbmQ7LS1pKQ0KdHlwZWRlZiBsb25nIGxvbmcgbGw7DQp0eXBlZGVmIHVuc2lnbmVkIGxvbmcgbG9uZyB1bGw7DQp1c2luZyBuYW1lc3BhY2Ugc3RkOw0KY29uc3QgaW50IE49MWUzKzEwOw0KaW50IG4sbSxuMSxtMTsNCmNsYXNzIERTMiB7DQojZGVmaW5lIGxzIChrPDwxKQ0KI2RlZmluZSBycyAobHN8MSkNCiAgIHB1YmxpYzoNCglsbCB0MVszMDBdLHQyWzMwMF07DQoJdm9pZCB1cGQoaW50IEwsaW50IFIsbGwgeCxpbnQgaz0xLGludCBsPTAsaW50IHI9bTEpIHsNCgkJdDJba10rPXgqKFItTCsxKTsNCgkJaWYoTDw9bCAmJiByPD1SKSByZXR1cm4gdDFba10rPXgsdm9pZCgpOw0KCQlpbnQgbT1sK3I+PjE7IA0KCQlpZihMPm0pIHJldHVybiB1cGQoTCxSLHgscnMsbSsxLHIpOw0KCQlpZihSPD1tKSByZXR1cm4gdXBkKEwsUix4LGxzLGwsbSk7DQoJCXVwZChMLG0seCxscyxsLG0pOyB1cGQobSsxLFIseCxycyxtKzEscik7DQoJfQ0KCWxsIHF1ZShpbnQgTCxpbnQgUixpbnQgaz0xLGludCBsPTAsaW50IHI9bTEpIHsNCgkJaWYoTDw9bCAmJiByPD1SKSByZXR1cm4gdDJba107DQoJCWludCBtPWwrcj4+MTsgbGwgYW5zPShSLUwrMSkqdDFba107DQoJCWlmKEw+bSkgcmV0dXJuIGFucytxdWUoTCxSLHJzLG0rMSxyKTsNCgkJaWYoUjw9bSkgcmV0dXJuIGFucytxdWUoTCxSLGxzLGwsbSk7DQoJCXJldHVybiBhbnMrcXVlKEwsbSxscyxsLG0pK3F1ZShtKzEsUixycyxtKzEscik7DQoJfQ0KfTsNCmNsYXNzIERTMSB7DQogICBwdWJsaWM6DQoJRFMyIHQxWzMwMF0sdDJbMzAwXTsNCgl2b2lkIHVwZChpbnQgTCxpbnQgUixpbnQgTDIsaW50IFIyLGxsIHgsaW50IGs9MSxpbnQgbD0wLGludCByPW4xKSB7DQoJCXQyW2tdLnVwZChMMixSMix4KTsNCgkJaWYoTDw9bCAmJiByPD1SKSByZXR1cm4gdDFba10udXBkKEwyLFIyLHgpLHZvaWQoKTsNCgkJaW50IG09bCtyPj4xOyANCgkJaWYoTD5tKSByZXR1cm4gdXBkKEwsUixMMixSMix4LHJzLG0rMSxyKTsNCgkJaWYoUjw9bSkgcmV0dXJuIHVwZChMLFIsTDIsUjIseCxscyxsLG0pOw0KCQl1cGQoTCxtLEwyLFIyLHgsbHMsbCxtKTsgdXBkKG0rMSxSLEwyLFIyLHgscnMsbSsxLHIpOw0KCX0NCglsbCBxdWUoaW50IEwsaW50IFIsaW50IEwyLGludCBSMixpbnQgaz0xLGludCBsPTAsaW50IHI9bjEpIHsNCgkJaWYoTDw9bCAmJiByPD1SKSByZXR1cm4gdDJba10ucXVlKEwyLFIyKTsNCgkJaW50IG09bCtyPj4xOyBsbCBhbnM9KFItTCsxKSp0MVtrXS5xdWUoTDIsUjIpOw0KCQlpZihMPm0pIHJldHVybiBhbnMrcXVlKEwsUixMMixSMixycyxtKzEscik7DQoJCWlmKFI8PW0pIHJldHVybiBhbnMrcXVlKEwsUixMMixSMixscyxsLG0pOw0KCQlyZXR1cm4gYW5zK3F1ZShMLG0sTDIsUjIsbHMsbCxtKStxdWUobSsxLFIsTDIsUjIscnMsbSsxLHIpOw0KCX0NCiN1bmRlZiBscw0KI3VuZGVmIHJzDQp9ZHNbMTBdWzEwXTsNCmludCBtYWluKCkgew0KI2lmZGVmIExPQ0FMDQogICAgZnJlb3BlbigiLmluIiwiciIsc3RkaW4pOw0KI2VuZGlmDQogICAgaW9zOjpzeW5jX3dpdGhfc3RkaW8oMCk7IGNpbi50aWUoMCk7DQogICAgaW50IHE7DQogICAgY2luPj5uPj5tPj5xOw0KICAgIG4xPShuLTEpLzEwOyBtMT0obS0xKS8xMDsNCiAgICBsbCBzdW09MDsNCiAgICBGb3IoaSwwLG4tMSkgRm9yKGosMCxtLTEpIHsNCiAgICAJbGwgeDtjaW4+Png7IHN1bSs9eDsNCiAgICAJZHNbaSUxMF1baiUxMF0udXBkKGkvMTAsaS8xMCxqLzEwLGovMTAseCk7DQoJfQ0KLy8JY2Vycjw8ZHNbMF1bMF0ucXVlKDAsMSwwLDEpPDxlbmRsOw0KICAgIHdoaWxlKHEtLSkgew0KICAgIAlpbnQgbyxMMSxSMSxMMixSMjtsbCB4Ow0KICAgIAljaW4+Pm8+PkwxPj5MMj4+UjE+PlIyPj54Ow0KICAgIAktLUwxOyAtLVIxOyAtLUwyOyAtLVIyOw0KICAgIAlpZihvPT0xKSB7DQogICAgCQlzdW0rPXgqKFIxLUwxKzEpKihSMi1MMisxKTsNCiAgICAJCUZvcihpLDAsOSkgRm9yKGosMCw5KSB7DQogICAgCQkJaW50IGwxPShMMS1pKzE5KS8xMC0xLHIxPShSMS1pKzEwKS8xMC0xLGwyPShMMi1qKzE5KS8xMC0xLHIyPShSMi1qKzEwKS8xMC0xOw0KICAgIAkJCWlmKGwxPnIxIHx8IGwyPnIyKSBjb250aW51ZTsNCiAgICAJCQlkc1tpXVtqXS51cGQobDEscjEsbDIscjIseCk7DQoJCQl9DQoJCX0gZWxzZSB7DQoJCQl2ZWN0b3I8bGw+Y2g7DQogICAgCQlGb3IoaSwwLDkpIEZvcihqLDAsOSkgew0KICAgIAkJCWludCBsMT0oTDEtaSsxOSkvMTAtMSxyMT0oUjEtaSsxMCkvMTAtMSxsMj0oTDItaisxOSkvMTAtMSxyMj0oUjItaisxMCkvMTAtMTsNCiAgICAJCQlpZihsMT5yMSB8fCBsMj5yMikgY29udGludWU7DQovLyAgICAJCQljZXJyPDxsMTw8IiAiPDxyMTw8IiAiPDxsMjw8IiAiPDxyMjw8ZW5kbDsNCiAgICAJCQljaC5wdXNoX2JhY2soZHNbaV1bal0ucXVlKGwxLHIxLGwyLHIyKSk7DQoJCQl9DQoJCQlzb3J0KGNoLmJlZ2luKCksY2guZW5kKCksZ3JlYXRlcjxsbD4oKSk7DQovLwkJCWZvcihhdXRvIHg6Y2gpIGNlcnI8PHg8PCIgIjsgY2Vycjw8ZW5kbDsNCgkJCWxsIHJzPXN1bTsNCgkJCUZvcihpLDAseC0xKSBycys9Y2hbaV07DQoJCQljb3V0PDxyczw8IlxuIjsNCgkJfQ0KCX0NCn0="}]