[{"id":"2577","submission_id":"2577","filename":"1.cpp","source":"I2luY2x1ZGU8Yml0cy9zdGRjKysuaD4NCnVzaW5nIG5hbWVzcGFjZSBzdGQ7DQojZGVmaW5lIGludCBsb25nIGxvbmcNCiNkZWZpbmUgYWEgZmlyc3QNCiNkZWZpbmUgYmIgc2Vjb25kDQpjb25zdCBpbnQgbW9kID0gMTAwMDAwMDAwNzsNCmludCBuOw0KaW50IGgxWzMwXSwgaDJbMzBdOw0KbWFwPHBhaXI8Y2hhciwgY2hhcj4sIGludD4gbXA7DQppbnQga2QxLCBrZDI7DQppbnQgUXBvdyhpbnQgeCwgaW50IGspIHsNCiAgICBpbnQgcmVzID0gMTsNCiAgICB3aGlsZSAoaykgew0KICAgICAgICBpZiAoayAlIDIpIHJlcyA9IChyZXMgKiB4KSAlIG1vZDsNCiAgICAgICAgeCA9ICh4ICogeCkgJSBtb2Q7DQogICAgICAgIGsgPj49IDE7DQogICAgfQ0KICAgIHJldHVybiByZXM7DQp9DQp2b2lkIHNvbHZlKCl7DQogICAgc3RyaW5nIHMxLHMyOw0KICAgIGNpbiA+PiBzMSA+PiBzMjsNCiAgICBuID0gczEubGVuZ3RoKCk7DQogICAgZm9yIChhdXRvIHY6IHMxKSB7DQogICAgICAgIGlmIChoMVt2IC0gJ2EnXSA9PSAwKSBrZDEgKys7DQogICAgICAgIGgxW3YgLSAnYSddICsrOw0KICAgIH0NCiAgICBmb3IgKGF1dG8gdjogczIpIHsNCiAgICAgICAgaWYgKGgyW3YgLSAnYSddID09IDApIGtkMiArKzsNCiAgICAgICAgaDJbdiAtICdhJ10gKys7DQogICAgfQ0KDQogICAgZm9yIChpbnQgaSA9IDA7IGkgPCBzMS5sZW5ndGgoKTsgaSArKyApIHsNCiAgICAgICAgbXBbe3MxW2ldLCBzMltpXX1dICsrOw0KICAgIH0NCiAgICBpbnQgcmVzID0gMExMOw0KICAgIGZvciAoaW50IGExID0gMDsgYTEgPD0gMjU7IGExICsrICkgew0KICAgICAgICBmb3IgKGludCBhMiA9IDA7IGEyIDw9IDI1OyBhMiArKyApIHsNCiAgICAgICAgICAgIGZvciAoaW50IGIxID0gMDsgYjEgPD0gMjU7IGIxICsrICkgew0KICAgICAgICAgICAgICAgIGZvciAoaW50IGIyID0gMDsgYjIgPD0gMjU7IGIyICsrICkgew0KICAgICAgICAgICAgICAgICAgICBpZiAoaDFbYTFdID09IDAgfHwgaDFbYTIgXSA9PSAwIHx8IGgyW2IxIF0gPT0gMCB8fCBoMltiMiBdID09IDApIGNvbnRpbnVlOw0KDQogICAgICAgICAgICAgICAgICAgIGNoYXIgY2ExID0gYTEgKyAnYScsIGNhMiA9IGEyICsgJ2EnLCBjYjEgPSBiMSArICdhJywgY2IyID0gYjIgKyAnYSc7DQogICAgICAgICAgICAgICAgICAgIGlmIChtcFt7Y2ExLCBjYjF9XSA9PSAwIHx8IG1wW3tjYTIsIGNiMn1dID09IDApIGNvbnRpbnVlOw0KICAgICAgICAgICAgICAgICAgICBpbnQgdGVtcDsNCg0KICAgICAgICAgICAgICAgICAgICBpZiAoYTEgPT0gYTIgJiYgYjEgPT0gYjIpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAgPSBtcFt7Y2ExLCBjYjF9XSAqIChtcFt7Y2ExLCBjYjF9XSAtIDEpICUgbW9kOw0KICAgICAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICAgICAgdGVtcCA9IG1wW3tjYTEsIGNiMX1dICogbXBbe2NhMiwgY2IyfV0gJSBtb2Q7DQogICAgICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgICAgICBpbnQgaHQxWzMwXSwgaHQyWzMwXSwga2R0MSA9IGtkMSwga2R0MiA9IGtkMjsNCg0KICAgICAgICAgICAgICAgICAgICBtZW1jcHkoaHQxLCBoMSwgc2l6ZW9mIGgxKTsNCiAgICAgICAgICAgICAgICAgICAgbWVtY3B5KGh0MiwgaDIsIHNpemVvZiBoMik7DQoNCiAgICAgICAgICAgICAgICAgICAgaHQxW2ExXSAtLTsNCiAgICAgICAgICAgICAgICAgICAgaHQyW2ExXSArKzsNCiAgICAgICAgICAgICAgICAgICAgaWYgKGh0MVthMV0gPT0gMCkga2R0MSAtLTsNCiAgICAgICAgICAgICAgICAgICAgaWYgKGh0MlthMV0gPT0gMSkga2R0MiArKzsNCiAgICAgICAgICAgICAgICAgICAgaHQxW2EyXSAtLTsNCiAgICAgICAgICAgICAgICAgICAgaHQyW2EyXSArKzsNCiAgICAgICAgICAgICAgICAgICAgaWYgKGh0MVthMiBdID09IDApIGtkdDEgLS07DQogICAgICAgICAgICAgICAgICAgIGlmIChodDJbYTIgXSA9PSAxKSBrZHQyICsrOw0KICAgICAgICAgICAgICAgICAgICBodDJbYjEgXSAtLTsNCiAgICAgICAgICAgICAgICAgICAgaHQxW2IxIF0gKys7DQogICAgICAgICAgICAgICAgICAgIGlmIChodDJbYjEgXSA9PSAwKSBrZHQyIC0tOw0KICAgICAgICAgICAgICAgICAgICBpZiAoaHQxW2IxIF0gPT0gMSkga2R0MSArKzsNCiAgICAgICAgICAgICAgICAgICAgaHQyW2IyIF0gLS07DQogICAgICAgICAgICAgICAgICAgIGh0MVtiMiBdICsrOw0KICAgICAgICAgICAgICAgICAgICBpZiAoaHQyW2IyIF0gPT0gMCkga2R0MiAtLTsNCiAgICAgICAgICAgICAgICAgICAgaWYgKGh0MVtiMl0gPT0gMSkga2R0MSArKzsNCg0KICAgICAgICAgICAgICAgICAgICBpZiAoa2R0MSA9PSBrZHQyKSB7DQogICAgICAgICAgICAgICAgICAgICAgICByZXMgPSAocmVzICsgdGVtcCkgJSBtb2Q7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICB9DQogICAgY291dCA8PCByZXMgKiBRcG93KDIsIG1vZCAtIDIpICUgbW9kIDw8ICdcbic7DQp9DQpzaWduZWQgbWFpbigpew0KICAgIGludCBUID0gMTsNCiAgICBzb2x2ZSgpOw0KICAgIHJldHVybiAwOw0KfQ0KDQovL2FhYWFhYWFhYWFhYWFhZXdlcXdlYWJiYmJiYmJiYmJiYmINCi8vYWFhYWFhYWFhYWFhYWFhYWFhYWFhYmJiYmJiYmJiYmJiYg0K"}]