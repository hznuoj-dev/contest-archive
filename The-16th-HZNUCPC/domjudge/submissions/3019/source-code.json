[{"id":"3019","submission_id":"3019","filename":"i.cpp","source":"I2luY2x1ZGUgPGJpdHMvc3RkYysrLmg+DQp1c2luZyBuYW1lc3BhY2Ugc3RkOw0KI2RlZmluZSBlbmRsICdcbicNCiNkZWZpbmUgeCBmaXJzdA0KI2RlZmluZSB5IHNlY29uZA0KI2RlZmluZSBtcCBtYWtlX3BhaXINCiNkZWZpbmUgaW9zIGlvczo6c3luY193aXRoX3N0ZGlvKGZhbHNlKSxjaW4udGllKDApLGNvdXQudGllKDApDQp0eXBlZGVmIGxvbmcgbG9uZyBsbDsNCnR5cGVkZWYgcGFpcjxpbnQsIGludD4gaGFzaHY7DQpjb25zdCBsbCBtb2QxID0gMWU5ICsgNywgbW9kMiA9IDFlOSArIDk7DQoNCmhhc2h2IG9wZXJhdG9yKyAoY29uc3QgaGFzaHYgJmEsIGNvbnN0IGhhc2h2ICZiKSB7DQoJcmV0dXJuIHsoYS54ICsgYi54KSAlIG1vZDEsIChhLnkgKyBiLnkpICUgbW9kMn07DQp9DQpoYXNodiBvcGVyYXRvci0gKGNvbnN0IGhhc2h2ICZhLCBjb25zdCBoYXNodiAmYikgew0KCXJldHVybiB7KGEueCAtIGIueCArIG1vZDEpICUgbW9kMSwgKGEueSAtIGIueSArIG1vZDIpICUgbW9kMn07DQp9DQpoYXNodiBvcGVyYXRvciogKGNvbnN0IGhhc2h2ICZhLCBjb25zdCBoYXNodiAmYikgew0KCXJldHVybiB7KDFsbCAqIGEueCAqIGIueCAlIG1vZDEpLCAoMWxsICogYS55ICogYi55ICUgbW9kMil9Ow0KfQ0KDQpjb25zdCBpbnQgbWF4biA9IDYwMDA7DQoNCmludCBuLCBhbnM7DQpjaGFyIHN0clttYXhuXTsNCmhhc2h2IHNbbWF4bl0sIHRbbWF4bl0sIHB3W21heG5dOw0KDQpoYXNodiBnZXQxKGludCBsLCBpbnQgcikgew0KCXJldHVybiBzW3JdIC0gc1tsIC0gMV0gKiBwd1tyIC0gbCArIDFdOw0KfQ0KaGFzaHYgZ2V0MihpbnQgbCwgaW50IHIpIHsNCglyZXR1cm4gdFtsXSAtIHRbciArIDFdICogcHdbciAtIGwgKyAxXTsNCn0NCg0Kdm9pZCBjaGVjazEoaW50IG1pZCkgew0KCWludCBsID0gbWlkLCByID0gbWlkLCBwb3NsX2kgPSAtMSwgcG9zbF9qID0gLTEsIHBvc3JfaSA9IC0xLCBwb3NyX2ogPSAtMTsNCgl3aGlsZSh0cnVlKSB7DQoJCWlmKGwgPCAxIHx8IHIgPiBuKSBicmVhazsNCgkJaWYoc3RyW2xdID09IHN0cltyXSkgew0KCQkJaWYocG9zcl9pID09IC0xKSBhbnMgPSBtYXgoYW5zLCByIC0gbCArIDEpOw0KCQkJZWxzZSBpZihwb3NyX2ogIT0gLTEpIGFucyA9IG1heChhbnMsIHIgLSBsICsgMSk7DQoJCQlsLS07DQoJCQlyKys7DQoJCQljb250aW51ZTsNCgkJfQ0KCQlpZihwb3NyX2kgPT0gLTEpIHsNCgkJCXBvc2xfaSA9IGw7DQoJCQlwb3NyX2kgPSByOw0KCQkJbC0tOw0KCQkJcisrOw0KCQkJY29udGludWU7DQoJCX0gZWxzZSBpZihwb3NyX2ogPT0gLTEpICB7DQoJCQlpZihzdHJbcl0gIT0gc3RyW3Bvc2xfaV0gfHwgc3RyW2xdICE9IHN0cltwb3NyX2ldKSBicmVhazsNCgkJCXBvc3JfaiA9IHI7DQoJCQlwb3NsX2ogPSBsOw0KCQkJYW5zID0gbWF4KGFucywgciAtIGwgKyAxKTsNCgkJCWwtLTsNCgkJCXIrKzsNCgkJfSBlbHNlIHsNCgkJCWJyZWFrOw0KCQl9DQoJfQ0KfQ0Kdm9pZCBjaGVjazIoaW50IG1pZCkgew0KCWludCBsID0gbWlkLCByID0gbWlkICsgMSwgcG9zbF9pID0gLTEsIHBvc2xfaiA9IC0xLCBwb3NyX2kgPSAtMSwgcG9zcl9qID0gLTE7DQoJd2hpbGUodHJ1ZSkgew0KCQlpZihsIDwgMSB8fCByID4gbikgYnJlYWs7DQoJCWlmKHN0cltsXSA9PSBzdHJbcl0pIHsNCgkJCWlmKHBvc3JfaSA9PSAtMSkgYW5zID0gbWF4KGFucywgciAtIGwgKyAxKTsNCgkJCWVsc2UgaWYocG9zcl9qICE9IC0xKSBhbnMgPSBtYXgoYW5zLCByIC0gbCArIDEpOw0KCQkJbC0tOw0KCQkJcisrOw0KCQkJY29udGludWU7DQoJCX0NCgkJaWYocG9zcl9pID09IC0xKSB7DQoJCQlwb3NyX2kgPSByOw0KCQkJcG9zbF9pID0gbDsNCgkJCWwtLTsNCgkJCXIrKzsNCgkJCWNvbnRpbnVlOw0KCQl9IGVsc2UgaWYocG9zcl9qID09IC0xKSAgew0KLy8JCQljb3V0IDw8IHIgPDwgJyAnIDw8IHBvc19pIDw8IGVuZGw7DQoJCQlpZihzdHJbcl0gIT0gc3RyW3Bvc2xfaV0gfHwgc3RyW2xdICE9IHN0cltwb3NyX2ldKSBicmVhazsNCgkJCXBvc3JfaiA9IHI7DQoJCQlhbnMgPSBtYXgoYW5zLCByIC0gbCArIDEpOw0KCQkJbC0tOw0KCQkJcisrOw0KCQl9IGVsc2Ugew0KLy8JCQlhbnMgPSBtYXgoYW5zLCByIC0gbCArIDEpOw0KCQkJYnJlYWs7DQoJCX0NCgl9DQovLwljb3V0IDw8IHBvc2xfaSA8PCAiICIgPDwgcG9zcl9pIDw8ICIgIiA8PCBwb3NsX2ogPDwgIiAiIDw8ICBwb3NyX2ogPDwgZW5kbDsNCn0NCg0Kdm9pZCBzb2x2ZSgpIHsNCglhbnMgPSAwOw0KCXNjYW5mKCIlcyIsIHN0ciArIDEpOw0KCW4gPSBzdHJsZW4oc3RyICsgMSk7DQoJaGFzaHYgYmFzZSA9IHszMSwgMTMxfTsNCglzWzBdID0gezEsIDF9Ow0KCWZvcihpbnQgaSA9IDE7IGkgPD0gbjsgaSsrKSB7DQoJCXNbaV0gPSBzW2kgLSAxXSAqIGJhc2UgKyBtcChzdHJbaV0sIHN0cltpXSk7DQoJCXB3W2ldID0gcHdbaSAtIDFdICogYmFzZTsNCgl9DQoJdFtuICsgMV0gPSB7MSwgMX07DQoJZm9yKGludCBpID0gbjsgaSA+PSAxOyBpLS0pIHsNCgkJdFtpXSA9IHRbaSArIDFdICogYmFzZSArIG1wKHN0cltpXSwgc3RyW2ldKTsNCgl9DQoJZm9yKGludCBpID0gMTsgaSA8PSBuOyBpKyspIHsNCgkJY2hlY2sxKGkpOw0KCQljaGVjazIoaSk7DQovLwkJY291dCA8PCBpIDw8ICIgIiA8PCBhbnMgPDwgZW5kbDsJDQoJfQ0KLy9jaGVjazIoMyk7DQoJaWYoYW5zID09IDEpIGFucyA9IDA7DQoJcHJpbnRmKCIlZFxuIiwgYW5zKTsNCn0NCg0KaW50IG1haW4oKSB7DQoJaW50IF87DQoJc2NhbmYoIiVkIiwgJl8pOw0KCXdoaWxlKF8tLSkgc29sdmUoKTsNCn0="}]