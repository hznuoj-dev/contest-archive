[{"id":"4208","submission_id":"4208","filename":"g.cpp","source":"I2luY2x1ZGUgPGJpdHMvc3RkYysrLmg+DQp1c2luZyBuYW1lc3BhY2Ugc3RkOw0KI2RlZmluZSBlbmRsICdcbicNCiNkZWZpbmUgeCBmaXJzdA0KI2RlZmluZSB5IHNlY29uZA0KI2RlZmluZSBpb3MgaW9zOjpzeW5jX3dpdGhfc3RkaW8oZmFsc2UpLGNpbi50aWUoMCksY291dC50aWUoMCkNCnR5cGVkZWYgbG9uZyBsb25nIGxsOw0KDQpjb25zdCBpbnQgbWF4biA9IDIwMDEwMDsNCg0KaW50IG4sIHEsIG0sIHRvdCwgZHBbbWF4bl0sIGlkW21heG5dOw0KaW50IHBbbWF4bl0sIHZpc1ttYXhuXTsNCnBhaXI8aW50LCBpbnQ+IGFbbWF4bl07DQphcnJheTxpbnQsIDM+IHByZVttYXhuXTsNCnZlY3RvcjxpbnQ+IGdvb2RbbWF4bl07DQoNCmludCBnZXQoaW50IGlkLCBpbnQgdCkgew0KCXJldHVybiBpZCArIHQgKiBuOw0KfQ0KaW50IGZpbmQoaW50IHgpIHsNCglpZihwW3hdID09IHgpIHJldHVybiBwW3hdOw0KCXJldHVybiBwW3hdID0gZmluZChwW3hdKTsNCn0NCnZvaWQgbWVyZ2UxKGludCB1LCBpbnQgdikgew0KCWludCBwdSA9IGZpbmQoZ2V0KHUsIDApKSwgcHYgPSBmaW5kKGdldCh2LCAwKSk7DQoJaWYocHUgIT0gcHYpIHBbcHVdID0gcHY7DQoJcHUgPSBmaW5kKGdldCh1LCAxKSksIHB2ID0gZmluZChnZXQodiwgMSkpOw0KCWlmKHB1ICE9IHB2KSBwW3B1XSA9IHB2Ow0KfQ0Kdm9pZCBtZXJnZTIoaW50IHUsIGludCB2KSB7DQoJaW50IHB1ID0gZmluZChnZXQodSwgMCkpLCBwdiA9IGZpbmQoZ2V0KHYsIDEpKTsNCglpZihwdSAhPSBwdikgcFtwdV0gPSBwdjsNCglwdSA9IGZpbmQoZ2V0KHUsIDEpKSwgcHYgPSBmaW5kKGdldCh2LCAwKSk7DQoJaWYocHUgIT0gcHYpIHBbcHVdID0gcHY7DQp9DQoNCg0KaW50IG1haW4oKSB7DQoJaW9zOw0KCWNpbiA+PiBuID4+IHEgPj4gbTsNCglmb3IoaW50IGkgPSAxOyBpIDw9IDIgKiBuOyBpKyspIHBbaV0gPSBpOw0KCWZvcihpbnQgaSA9IDE7IGkgPD0gbTsgaSsrKSB7DQoJCWludCB0eSwgdSwgdjsNCgkJY2luID4+IHR5ID4+IHUgPj4gdjsNCgkJaWYodHkgPT0gMCkgbWVyZ2UxKHUsIHYpOw0KCQllbHNlIG1lcmdlMih1LCB2KTsNCgl9DQoJZm9yKGludCBpID0gMTsgaSA8PSBuOyBpKyspIHsNCgkJaW50IFAgPSBmaW5kKGkpOw0KCQlnb29kW1BdLnB1c2hfYmFjayhpKTsNCgl9DQoJZm9yKGludCBpID0gMTsgaSA8PSBuOyBpKyspIHsNCgkJaW50IFAxID0gZmluZChpKSwgUDIgPSBmaW5kKGkgKyBuKTsNCgkJaWYoIXZpc1tQMV0pIHsNCgkJCWFbKyt0b3RdID0ge2dvb2RbUDFdLnNpemUoKSwgZ29vZFtQMl0uc2l6ZSgpfTsNCgkJCWlkW3RvdF0gPSBpOw0KCQkJdmlzW1AxXSA9IHZpc1tQMl0gPSAxOw0KCQl9DQoJfQ0KCWZvcihpbnQgaSA9IDE7IGkgPD0gdG90OyBpKyspIGNvdXQgPDwgYVtpXS54IDw8ICIgIiA8PCBhW2ldLnkgPDwgZW5kbDsNCglkcFswXSA9IDE7DQoJZm9yKGludCBpID0gMTsgaSA8PSB0b3Q7IGkrKykgew0KCQlmb3IoaW50IGogPSBxOyBqID49IDE7IGotLSkgew0KCQkJaWYoaiA+PSBhW2ldLngpIHsNCi8vCQkJCWNvdXQgPDwgaSA8PCAiICIgPDwgaiA8PCAiICIgPDwgaiAtIGFbaV0ueCA8PCBlbmRsOw0KCQkJCWlmKGRwW2ogLSBhW2ldLnhdICYmICFkcFtqXSkgew0KLy8JCQkJCWNvdXQgPDwgaSA8PCAiICIgPDwgaiA8PCBlbmRsOw0KCQkJCQlwcmVbal0gPSB7aWRbaV0sIDAsIGFbaV0ueH07CQ0KCQkJCQlkcFtqXSA9IDE7DQoJCQkJfQ0KCQkJfQ0KCQkJaWYoaiA+PSBhW2ldLnkpIHsNCgkJCQlpZihkcFtqIC0gYVtpXS55XSAmJiAhZHBbal0pIHsNCgkJCQkJcHJlW2pdID0ge2lkW2ldLCAxLCBhW2ldLnl9OwkNCgkJCQkJZHBbal0gPSAxOw0KCQkJCX0NCgkJCX0NCgkJfQ0KCX0NCi8vCWNvdXQgPDwgcHJlWzVdWzBdIDw8IGVuZGw7DQoJaWYoZHBbcV0gPT0gMCkgew0KCQljb3V0IDw8ICJOTyIgPDwgZW5kbDsNCgkJcmV0dXJuIDA7DQoJfQ0KCWNvdXQgPDwgIllFUyIgPDwgZW5kbDsNCgl3aGlsZShxKSB7DQoJCWF1dG8gbm93ID0gcHJlW3FdOw0KCQlpbnQgcCA9IG5vd1swXSwgdCA9IG5vd1sxXTsgDQoJCWlmKHQgPT0gMCkgew0KCQkJZm9yKGludCBpOiBnb29kW2ZpbmQocCldKSBpZihpIDw9IG4pIGNvdXQgPDwgaSA8PCAiICI7DQoJCX0gZWxzZSB7DQoJCQlmb3IoaW50IGk6IGdvb2RbZmluZChwICsgbildKSBpZihpIDw9IG4pIGNvdXQgPDwgaSA8PCAiICI7DQoJCX0NCgkJcSAtPSBub3dbMl07DQoJfQ0KfQ=="}]