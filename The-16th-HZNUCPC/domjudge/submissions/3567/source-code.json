[{"id":"3567","submission_id":"3567","filename":"E.cpp","source":"I2luY2x1ZGUgPGJpdHMvc3RkYysrLmg+DQp1c2luZyBuYW1lc3BhY2Ugc3RkOw0KaW50IG51bVsxMDBdWzEwMF07DQoNCmludCBnY2QoaW50IGEsaW50IGIpew0KDQogICAgaWYoYSA9PSBiKXsNCiAgICAgICAgcmV0dXJuIGE7DQogICAgfQ0KICAgIGVsc2V7DQogICAgICAgIGlmKGE+Yil7DQogICAgICAgICAgICByZXR1cm4gZ2NkKGIsYS9iKTsNCiAgICAgICAgfQ0KICAgICAgICBlbHNlew0KICAgICAgICAgICAgcmV0dXJuIGdjZChiLGIvYSk7DQogICAgICAgIH0NCiAgICB9DQoNCn0NCg0KaW50IG1haW4oKQ0Kew0KICAgIG1lbXNldChudW0sLTEsc2l6ZW9mKG51bSkpOw0KICAgIGludCBuOw0KICAgIGNpbiA+PiBuOw0KICAgIGludCB4WzExMF0sIHlbMTEwXTsNCiAgICBpbnQgYW5zID0gMywgbWEgPSAwOw0KICAgIGludCBkeCxkeTsNCiAgICBpbnQgZGU7DQogICAgZm9yIChpbnQgaSA9IDA7IGkgPCBuOyBpICsrKSBjaW4gPj4geFtpXSA+PiB5W2ldOw0KICAgIGZvciAoaW50IGkgPSAwOyBpIDwgbjsgaSArKykNCiAgICB7DQogICAgICAgIGZvciAoaW50IGogPSBpICsgMTsgaiA8IG47IGogKyspDQogICAgICAgIHsNCiAgICAgICAgICAgIGZvciAoaW50IGsgPSBqICsgMTsgayA8IG47IGsgKyspDQogICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgaW50IHgxID0geFtpXSwgeDI9IHhbal0sIHgzID0geFtrXSwgeTEgPSB5W2ldLCB5MiA9IHlbal0sIHkzID0geVtrXTsNCiAgICAgICAgICAgICAgICAvL2NvdXQ8PCJpZCI8PCBpPDwiICI8PCBqPDwiICI8PCBrPDwiICI7DQogICAgICAgICAgICAgICAgaWYoeDEgPT0geDIgfHwgeDIgPT0geDMgfHwgeDEgPT0geDMgKXsNCiAgICAgICAgICAgICAgICAgICAgY29udGludWU7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGlmKHkxID09IHkyIHx8IHkyID09IHkzIHx8IHkxID09IHkzKXsNCiAgICAgICAgICAgICAgICAgICAgY29udGludWU7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGRvdWJsZSBrMSA9ICh5MSAtIHkyKSAvICh4MSAtIHgyKTsNCiAgICAgICAgICAgICAgICBkb3VibGUgazIgPSh5MyAtIHkyKSAvICh4MyAtIHgyKTsNCiAgICAgICAgICAgICAgICBkb3VibGUgazMgPSAoeTEgLSB5MykgLyAoeDEgLSB4Myk7DQogICAgICAgICAgICAgICAgaWYgKGsxID09IGsyIHx8IGsxID09IGszIHx8IGsyID09IGszKSBjb250aW51ZTsNCg0KICAgICAgICAgICAgICAgIGlmKG51bVtpXVtqXSA9PSAtMSl7DQogICAgICAgICAgICAgICAgICAgIG51bVtpXVtqXSA9IDA7DQogICAgICAgICAgICAgICAgICAgIGR5ID0gYWJzKHkxIC0geTIpLCBkeCA9IGFicyh4MSAtIHgyKTsNCiAgICAgICAgICAgICAgICAgICAgaW50IHRtcCA9IGdjZChkeCxkeSk7DQogICAgICAgICAgICAgICAgICAgIC8vY291dDw8dG1wPDwiICI7DQogICAgICAgICAgICAgICAgICAgIGlmKHRtcD4xICYmIGR4JXRtcCA9PSAwJiZkeSV0bXAgPT0gMCl7DQogICAgICAgICAgICAgICAgICAgICAgICBudW1baV1bal0gPSBtaW4oZHgsZHkpL3RtcDsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBpZihudW1bal1ba10gPT0gLTEpew0KICAgICAgICAgICAgICAgICAgICBudW1bal1ba10gPSAwOw0KICAgICAgICAgICAgICAgICAgICBkeSA9IGFicyh5MyAtIHkyKSwgZHggPSBhYnMoeDMgLSB4Mik7DQogICAgICAgICAgICAgICAgICAgIGludCB0bXAgPSBnY2QoZHgsZHkpOw0KICAgICAgICAgICAgICAgICAgICAvL2NvdXQ8PHRtcDw8IiAiOw0KICAgICAgICAgICAgICAgICAgICBpZih0bXA+MSAmJmR4JXRtcCA9PSAwJiZkeSV0bXAgPT0gMCl7DQogICAgICAgICAgICAgICAgICAgICAgICBudW1bal1ba10gPSBtaW4oZHgsZHkpL3RtcDsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBpZihudW1baV1ba10gPT0gLTEpew0KICAgICAgICAgICAgICAgICAgICBudW1baV1ba10gPSAwOw0KICAgICAgICAgICAgICAgICAgICBkeSA9IGFicyh5MSAtIHkzKSwgZHggPSBhYnMoeDEgLSB4Myk7DQogICAgICAgICAgICAgICAgICAgIGludCB0bXAgPSBnY2QoZHgsZHkpOw0KICAgICAgICAgICAgICAgICAgICAvL2NvdXQ8PHRtcDw8IiAiOw0KICAgICAgICAgICAgICAgICAgICBpZih0bXA+MSAmJmR4JXRtcCA9PSAwJiZkeSV0bXAgPT0gMCl7DQogICAgICAgICAgICAgICAgICAgICAgICBudW1baV1ba10gPSBtaW4oZHgsZHkpL3RtcDsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAvL2NvdXQ8PG51bVtpXVtqXTw8IiAiPDxudW1bal1ba108PCIgIjw8bnVtW2ldW2tdPDxlbmRsOw0KICAgICAgICAgICAgICAgIGFucyA9IDMgKyBudW1baV1bal0rbnVtW2ldW2tdK251bVtqXVtrXTsNCiAgICAgICAgICAgICAgICBpZiAobWEgPCBhbnMpDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICBtYSA9IGFuczsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgIH0NCg0KICAgIH0NCiAgICBjb3V0IDw8IG1hIDw8IGVuZGw7DQogICAgcmV0dXJuIDA7DQoNCn0NCg=="}]