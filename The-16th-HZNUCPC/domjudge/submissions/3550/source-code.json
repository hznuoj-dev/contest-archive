[{"id":"3550","submission_id":"3550","filename":"I.cpp","source":"I2luY2x1ZGU8Yml0cy9zdGRjKysuaD4NCiNkZWZpbmUgbGwgbG9uZyBsb25nDQojZGVmaW5lIGFsbChhKSAoYSkuYmVnaW4oKSwoYSkuZW5kOw0KdXNpbmcgbmFtZXNwYWNlIHN0ZDsNCmNvbnN0IGludCBOID0gNWUzICsgMTA7DQoNCmxsIHAgPSAyMzMzLCBtb2QgPSAxZTkgKyA3LCBoMVtOXSwgaDJbTl07DQpsbCBwcFtOXTsNCmludCBnW05dW05dOw0KDQppbmxpbmUgbGwgZ2V0MShpbnQgbCwgaW50IHIpDQp7DQoJcmV0dXJuIChoMVtyXSAtIGgxW2wgLSAxXSAqIHBwW3IgLSBsICsgMV0gJSBtb2QgKyBtb2QpICUgbW9kOw0KfQ0KDQppbmxpbmUgbGwgZ2V0MihpbnQgbCwgaW50IHIpDQp7DQoJcmV0dXJuIChoMltsXSAtIGgyW3IgKyAxXSAqIHBwW3IgLSBsICsgMV0gJSBtb2QgKyBtb2QpICUgbW9kOw0KfQ0KDQppbmxpbmUgaW50IGNhbChpbnQgaSwgaW50IGopDQp7DQoJaWYoaiA8PSBpKSByZXR1cm4gLTE7DQoJDQoJaW50IGwgPSAxLCByID0gKGogLSBpICsgMSkgLyAyLCByZXMgPSAtMTsNCgl3aGlsZShsIDw9IHIpDQoJew0KCQlpbnQgbWlkID0gKGwgKyByKSAvIDI7DQoJCQ0KCQlsbCBzMSA9IGdldDEoaSwgaSArIG1pZCAtIDEpOw0KCQlsbCBzMiA9IGdldDIoaiAtIG1pZCArIDEsIGopOw0KCQkNCgkJaWYoczEgIT0gczIpIA0KCQl7DQoJCQlyZXMgPSBtaWQ7DQoJCQlyID0gbWlkIC0gMTsNCgkJfQ0KCQllbHNlDQoJCQlsID0gbWlkICsgMTsNCgl9DQoJcmV0dXJuIHJlczsNCn0NCg0Kdm9pZCBzb2x2ZSgpDQp7DQoJc3RyaW5nIHM7DQoJY2luID4+IHM7DQoJaW50IG4gPSBzLnNpemUoKTsNCglzID0gJz8nICsgczsNCgkNCglmb3IoaW50IGkgPSAxOyBpIDw9IG47IGkrKykgaDFbaV0gPSAoaDFbaSAtIDFdICogcCAlIG1vZCArIHNbaV0pICUgbW9kOw0KCWgyW24gKyAxXSA9IDA7DQoJZm9yKGludCBpID0gbjsgaSA+PSAxOyBpLS0pIGgyW2ldID0gKGgyW2kgKyAxXSAqIHAgJSBtb2QgKyBzW2ldKSAlIG1vZDsNCgkNCglmb3IoaW50IGkgPSAwOyBpIDw9IG4gKyA1OyBpKyspDQoJCWZvcihpbnQgaiA9IDA7IGogPD0gbiArIDU7IGorKykNCgkJCWdbaV1bal0gPSAtMTsNCgkNCglmb3IoaW50IGkgPSAxOyBpIDw9IG47IGkrKykNCgkJZm9yKGludCBqID0gaSArIDE7IGogPD0gbjsgaisrKQ0KCQkJZ1tpXVtqXSA9IGNhbChpLCBqKTsNCgkNCglpbnQgYW5zID0gMDsNCglmb3IoaW50IGkgPSAxOyBpIDw9IG47IGkrKykNCgl7DQoJCWZvcihpbnQgaiA9IGkgKyAxOyBqIDw9IG47IGorKykNCgkJew0KCQkJaW50IHJlcyA9IGdbaV1bal07DQoJCQkNCgkJCWlmKHJlcyA9PSAtMSkNCgkJCXsNCgkJCQlhbnMgPSBtYXgoaiAtIGkgKyAxLCBhbnMpOw0KCQkJCWNvbnRpbnVlOw0KCQkJfQ0KCQkJDQoJCQlpbnQgTDEgPSBpICsgcmVzIC0gMTsNCgkJCWludCBSMSA9IGogLSByZXMgKyAxOw0KCQkJDQoJCQlyZXMgPSBnW0wxICsgMV1bUjEgLSAxXTsNCi8vCQkJcmVzID0gY2FsKEwxICsgMSwgUjEgLSAxKTsNCgkJCQ0KCQkJaWYocmVzID09IC0xKQ0KCQkJew0KCQkJCWludCBsZW4gPSBqIC0gaSArIDE7DQoJCQkJaWYobGVuICYgMSkNCgkJCQl7DQoJCQkJCWlmKHNbTDFdID09IHNbaSArIChqIC0gaSkgLyAyXSB8fCBzW1IxXSA9PSBzW2kgKyAoaiAtIGkpIC8gMl0pDQoJCQkJCQlhbnMgPSBtYXgoYW5zLCBqIC0gaSArIDEpOw0KCQkJCX0NCgkJCQljb250aW51ZTsNCgkJCX0NCgkJCQ0KCQkJaW50IEwyID0gTDEgKyByZXM7DQoJCQlpbnQgUjIgPSBSMSAtIHJlczsNCgkJCQ0KCQkJaWYoTDIgKyAxID49IFIyIC0gMSB8fCBnZXQxKEwyICsgMSwgUjIgLSAxKSA9PSBnZXQyKEwyICsgMSwgUjIgLSAxKSkgcmVzID0gLTE7DQoJCQllbHNlIHJlcyA9IDE7DQoJCQkNCgkJCWlmKHJlcyAhPSAtMSkgY29udGludWU7DQoJCQkNCgkJCWlmKHNbTDFdID09IHNbTDJdICYmIHNbUjFdID09IHNbUjJdIHx8IHNbTDFdID09IHNbUjJdICYmIHNbUjFdID09IHNbTDJdKQ0KCQkJCWFucyA9IG1heChhbnMsIGogLSBpICsgMSk7DQoJCX0NCgl9DQoJDQoJY291dCA8PCBhbnMgPDwgJ1xuJzsNCn0NCg0Kc2lnbmVkIG1haW4oKQ0Kew0KCWlvczo6c3luY193aXRoX3N0ZGlvKGZhbHNlKTsNCgljaW4udGllKDApO2NvdXQudGllKDApOw0KCWludCB0ID0gMTsNCglwcFswXSA9IDE7DQoJZm9yKGludCBpID0gMTsgaSA8IE47IGkrKykgcHBbaV0gPSBwcFtpIC0gMV0gKiBwICUgbW9kOw0KCWNpbiA+PiB0Ow0KCXdoaWxlKHQtLSkgc29sdmUoKTsNCglyZXR1cm4gMDsNCn0NCi8qDQo0DQphYmNjYWINCmloaQ0Kc3RmZ2ZpdXQNCnBhbGluZHJvbWUNCiov"}]