[{"id":"3069","submission_id":"3069","filename":"2.cpp","source":"I2luY2x1ZGUgPGlvc3RyZWFtPg0KI2luY2x1ZGUgPHF1ZXVlPg0KI2luY2x1ZGUgPHZlY3Rvcj4NCiNpbmNsdWRlIDxjc3RyaW5nPg0KI2luY2x1ZGUgPHN0YWNrPg0KI2luY2x1ZGUgPGJpdHNldD4NCiNpbmNsdWRlIDxhbGdvcml0aG0+DQojZGVmaW5lIG1heG4gMjAwMDEwDQojZGVmaW5lIG1heG0gMjAwMDEwDQojZGVmaW5lIGxsIGxvbmcgbG9uZw0KdXNpbmcgbmFtZXNwYWNlIHN0ZDsNCg0KaW50IG4sIG0sIGs7DQoNCmlubGluZSBpbnQgdHJhbnMoaW50IHgpIHsgcmV0dXJuIHggPiBuID8geCAtIG4gOiB4ICsgbjsgfQ0KDQppbnQgZmFbbWF4bl07DQp2b2lkIGluaXRfZmEoaW50IG4pIHsgZm9yIChpbnQgaSA9IDE7IGkgPD0gbjsgKytpKSBmYVtpXSA9IGk7IH0gDQppbnQgZmluZChpbnQgeCkgeyANCgl2ZWN0b3I8aW50PiB2ZWM7DQoJd2hpbGUgKGZhW3hdICE9IHgpIHsgDQoJCXZlYy5wdXNoX2JhY2soeCk7DQoJCXggPSBmYVt4XTsNCgl9DQoJZm9yIChhdXRvIHUgOiB2ZWMpIGZhW3VdID0geDsNCglyZXR1cm4geDsNCn0NCnZvaWQgbWVyZ2UoaW50IHgsIGludCB5KSB7IA0KCXggPSBmaW5kKHgpLCB5ID0gZmluZCh5KTsNCglpZiAoeCA9PSB5KSByZXR1cm4gOw0KCWZhW3hdID0geTsNCn0NCg0KYm9vbCB2aXNbbWF4bl07DQp2ZWN0b3I8aW50PiBBW21heG5dOyBpbnQgYVttYXhuXTsNCg0KY29uc3QgaW50IE4gPSAxMDAwMTA7DQpiaXRzZXQ8Tj4gZltOXTsNCg0Kdm9pZCB3b3JrKCkgeyANCglmb3IgKGludCBpID0gMTsgaSA8PSAyICogbjsgKytpKSBBW2ZpbmQoaSldLnB1c2hfYmFjayhpKSwgYVtmaW5kKGkpXSArPSBpIDw9IG47DQoJdmVjdG9yPGludD4gdmVjOw0KCWZvciAoaW50IGkgPSAxOyBpIDw9IDIgKiBuOyArK2kpIHsgDQoJCWlmICh2aXNbaV0gfHwgIUFbaV0uc2l6ZSgpKSBjb250aW51ZTsNCgkJdmVjLnB1c2hfYmFjayhpKTsNCgkJdmlzW2ZpbmQodHJhbnMoaSkpXSA9IDE7DQoJfSANCgkNCglpbnQgdG9wID0gdmVjLnNpemUoKTsgZlswXVswXSA9IDE7IA0KCWZvciAoaW50IG8gPSAwLCBpID0gdmVjW29dOyBvIDwgdG9wOyArK28pIHsNCgkJaSA9IHZlY1tvXTsNCgkJaW50IHYxID0gYVtpXSwgdjIgPSBBW2ldLnNpemUoKSAtIGFbaV07DQoJCWZbbyArIDFdID0gZltvXSA8PCB2MTsNCgkJZltvICsgMV0gfD0gZltvXSA8PCB2MjsNCgl9DQoJDQoJaWYgKCFmW3RvcF1ba10pIHJldHVybiBjb3V0IDw8ICJOTyIgPDwgIlxuIiwgdm9pZCgpOw0KCXZlY3RvcjxpbnQ+IGFuczsNCglmb3IgKGludCBpID0gdG9wOyBpOyAtLWkpIHsgDQoJCWludCB2MSA9IGFbdmVjW2kgLSAxXV0sIHYyID0gQVt2ZWNbaSAtIDFdXS5zaXplKCkgLSB2MTsNCgkJaWYgKGsgPj0gdjEgJiYgZltpIC0gMV1bayAtIHYxXSkgew0KCQkJayAtPSB2MTsNCgkJCWZvciAoYXV0byB1IDogQVt2ZWNbaSAtIDFdXSkNCgkJCQlpZiAodSA8PSBuKSBhbnMucHVzaF9iYWNrKHUpOw0KCQl9IGVsc2UgaWYgKGsgPj0gdjIgJiYgZltpIC0gMV1bayAtIHYyXSkgeyANCgkJCWsgLT0gdjI7DQoJCQlmb3IgKGF1dG8gdSA6IEFbdmVjW2kgLSAxXV0pDQoJCQkJaWYgKHUgPiBuKSBhbnMucHVzaF9iYWNrKHUgLSBuKTsNCgkJfQ0KCX0NCgljb3V0IDw8ICJZRVMiIDw8ICJcbiI7DQoJc29ydChhbnMuYmVnaW4oKSwgYW5zLmVuZCgpKTsNCglmb3IgKGF1dG8gdSA6IGFucykgY291dCA8PCB1IDw8ICIgIjsgY291dCA8PCAiXG4iOw0KfQ0KDQppbnQgbWFpbigpIHsgDQoJaW9zOjpzeW5jX3dpdGhfc3RkaW8oZmFsc2UpOw0KCWNpbi50aWUobnVsbHB0cik7IGNvdXQudGllKG51bGxwdHIpOyANCgkNCgkNCgljaW4gPj4gbiA+PiBrID4+IG07IGluaXRfZmEoMiAqIG4pOw0KCWZvciAoaW50IGkgPSAxOyBpIDw9IG07ICsraSkgeyANCgkJaW50IG8sIHgsIHk7IGNpbiA+PiBvID4+IHggPj4geTsNCgkJbWVyZ2UoeCwgeSArIG8gKiBuKSwgbWVyZ2UoeCArIG4sIHkgKyAobyBeIDEpICogbik7DQoJfQ0KCWZvciAoaW50IGkgPSAxOyBpIDw9IG47ICsraSkNCgkJaWYgKGZpbmQoaSkgPT0gZmluZChpICsgbikpIHJldHVybiBjb3V0IDw8ICJOTyIgPDwgIlxuIiwgMDsNCgl3b3JrKCk7DQoJcmV0dXJuIDA7IA0KfSA="}]