[{"id":"3231","submission_id":"3231","filename":"a.cpp","source":"I2luY2x1ZGUgPGJpdHMvc3RkYysrLmg+DQoNCnVzaW5nIG5hbWVzcGFjZSBzdGQ7DQojZGVmaW5lIGludCBsb25nIGxvbmcNCiNkZWZpbmUgZW5kbCAnXG4nDQoNCnZvaWQgc29sdmUoKSB7DQogICAgc3RyaW5nIHM7DQogICAgY2luID4+IHM7DQogICAgaW50IG4gPSBzLmxlbmd0aCgpOw0KICAgIGludCByZXMgPSAwOw0KICAgIGF1dG8gY2FsYyA9IFsmXShpbnQgbCwgaW50IHIpIHsNCiAgICAgICAgaW50IHdwb3MgPSAtMSwgd2wgPSAtMTsNCiAgICAgICAgYm9vbCBmbGFnID0gZmFsc2U7DQogICAgICAgIHdoaWxlIChsID49IDAgJiYgciA8IG4pIHsNCiAgICAgICAgICAgIC8vIGNvdXQgPDwgbCA8PCAiLCIgPDwgciA8PCBlbmRsOw0KICAgICAgICAgICAgaWYgKHNbbF0gIT0gc1tyXSkgew0KICAgICAgICAgICAgICAgIGlmIChmbGFnKSBicmVhazsNCiAgICAgICAgICAgICAgICBpZiAod3BvcyA8IDApIHsNCiAgICAgICAgICAgICAgICAgICAgd3BvcyA9IHI7DQogICAgICAgICAgICAgICAgICAgIHdsID0gbDsNCiAgICAgICAgICAgICAgICB9ZWxzZSB7DQogICAgICAgICAgICAgICAgICAgIGlmICgoc1t3bF0gPT0gc1tyXSAmJiBzW3dwb3NdID09IHNbbF0pIHx8IChzW3dsXSA9PSBzW2xdICYmIHNbd3Bvc10gPT0gc1tyXSkpDQogICAgICAgICAgICAgICAgICAgICAgICBmbGFnID0gdHJ1ZTsNCiAgICAgICAgICAgICAgICAgICAgZWxzZSAgew0KICAgICAgICAgICAgICAgICAgICAgICAgLy8gY291dCA8PCAiTk1TTCIgPDwgZW5kbDsNCiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgaWYgKHdwb3MgPCAwIHx8IGZsYWcpIHJlcyA9IG1heChyZXMsIHIgLSBsICsgMSk7DQogICAgICAgICAgICBsLS0scisrOw0KICAgICAgICB9DQogICAgICAgIC8vIGNvdXQgPDwgInJlczogIiA8PCByZXMgPDwgZW5kbDsNCiAgICB9Ow0KICAgIGF1dG8gY2FsYzIgPSBbJl0oaW50IGkpIHsNCiAgICAgICAgaW50IGwgPSBpIC0gMSwgciA9IGkgKyAxOw0KICAgICAgICBib29sIGZsYWcgPSBmYWxzZTsNCiAgICAgICAgd2hpbGUgKGwgPj0gMCAmJiByIDwgbikgew0KICAgICAgICAgICAgLy8gY291dCA8PCBsIDw8ICIsIiA8PCByIDw8IGVuZGw7DQogICAgICAgICAgICBpZiAoc1tsXSAhPSBzW3JdKSB7DQogICAgICAgICAgICAgICAgaWYgKGZsYWcpIGJyZWFrOw0KICAgICAgICAgICAgICAgIGlmIChzW2xdID09IHNbaV0gfHwgc1tyXSA9PSBzW2ldKSB7DQogICAgICAgICAgICAgICAgICAgIGZsYWcgPSB0cnVlOw0KICAgICAgICAgICAgICAgIH1lbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgaWYgKGZsYWcpIHJlcyA9IG1heChyZXMsIHIgLSBsICsgMSk7DQogICAgICAgICAgICBsLS0scisrOw0KICAgICAgICB9DQogICAgICAgIC8vIGNvdXQgPDwgInJlczogIiA8PCByZXMgPDwgZW5kbDsNCiAgICB9Ow0KICAgIGZvciAoaW50IGkgPSAwOyBpIDwgbjsgKytpKSB7DQogICAgICAgIC8vIGNvdXQgPDwgIj09PT09PT09PT09IiA8PCBlbmRsOw0KICAgICAgICBjYWxjKGksIGkpOw0KICAgICAgICBjYWxjMihpKTsNCiAgICAgICAgLy8gY291dCA8PCAiKysrKysrKysrIiA8PCBlbmRsOw0KICAgICAgICBpZiAoaSArIDEgPCBuKSBjYWxjKGksIGkgKyAxKTsNCiAgICAgICAgLy8gY291dCA8PCBpIDw8ICI6IiA8PCByZXMgPDwgZW5kbDsNCiAgICB9DQogICAgY291dCA8PCAocmVzID09IDEgPyAwIDogcmVzKSA8PCBlbmRsOw0KfQ0KDQpzaWduZWQgbWFpbih2b2lkKSB7DQojaWZkZWYgREVCVUcNCiAgICBmcmVvcGVuKCJhLmluIiwgInIiLCBzdGRpbik7DQogICAgZnJlb3BlbigiYS5vdXQiLCAidyIsIHN0ZG91dCk7DQogICAgYXV0byBub3cgPSBjbG9jaygpOw0KI2VuZGlmDQogICAgaW9zOjpzeW5jX3dpdGhfc3RkaW8oZmFsc2UpOyBjaW4udGllKDApOyBjb3V0LnRpZSgwKTsNCiAgICBjb3V0IDw8IGZpeGVkIDw8IHNldHByZWNpc2lvbig2KTsNCiAgICBpbnQgVDsNCiAgICBjaW4gPj4gVDsNCiAgICB3aGlsZSAoVC0tKQ0KICAgIHtzb2x2ZSgpOyB9DQojaWZkZWYgREVCVUcNCiAgICBjZXJyIDw8IHNldHByZWNpc2lvbigyKSA8PCBkb3VibGUoY2xvY2soKSAtIG5vdykgLyAoZG91YmxlKUNMT0NLU19QRVJfU0VDICogMTAwMCA8PCAiIG1zLiIgPDwgZW5kbDsNCiNlbmRpZg0KICAgIHJldHVybiAwOw0KfQ=="}]