[{"id":"3313","submission_id":"3313","filename":"x2.cpp","source":"I2luY2x1ZGUgPGJpdHMvc3RkYysrLmg+DQp1c2luZyBuYW1lc3BhY2Ugc3RkOw0KdHlwZWRlZiBsb25nIGxvbmcgTEw7DQp0eXBlZGVmIGxvbmcgZG91YmxlIExEOw0KY29uc3QgaW50IE49MzAwMDA1Ow0KDQpzdHJ1Y3QgY29tcHJlc3Mgew0KCXZlY3RvcjxMRD4gcmVzOw0KCXZvaWQgaW5zZXJ0KHZlY3RvcjxMRD4geCkgew0KCQlmb3IgKGF1dG8gZTogeCkgcmVzLnB1c2hfYmFjayhlKTsNCgl9DQoJdm9pZCBidWlsZCgpIHsNCgkJc29ydChyZXMuYmVnaW4oKSwgcmVzLmVuZCgpKTsNCgkJcmVzLmVyYXNlKHVuaXF1ZShyZXMuYmVnaW4oKSwgcmVzLmVuZCgpKSwgcmVzLmVuZCgpKTsNCgkJLy8gZm9yIChhdXRvIHg6IHJlcykgY291dCA8PCB4IDw8IGVuZGw7DQoJCWNvbnN0IExEIGtFcHMgPSAxZS0xMjsNCgkJdmVjdG9yPExEPiBhbnM7DQoJCWZvciAoaW50IGkgPSAwOyBpIDwgcmVzLnNpemUoKTsgaSArKykgew0KCQkJaWYgKGFucy5zaXplKCkgPT0gMCB8fCByZXNbaV0gLSBhbnMuYmFjaygpID4ga0Vwcykgew0KCQkJCWFucy5wdXNoX2JhY2socmVzW2ldKTsNCgkJCX0NCgkJfQ0KCQlyZXMgPSBtb3ZlKGFucyk7DQoJfQ0KCWludCBxdWVyeShMRCB4KSB7DQoJCXJldHVybiB1cHBlcl9ib3VuZChyZXMuYmVnaW4oKSwgcmVzLmVuZCgpLCB4KSAtIHJlcy5iZWdpbigpICsgMTsNCgl9DQp9Ow0KDQpzdHJ1Y3QgUG9pbnQgew0KCUxEIHgsIHk7DQoJdm9pZCByZWFkKCkgew0KCQljaW4gPj4geCA+PiB5Ow0KCX0NCglQb2ludCgpIHsNCgl9DQoJUG9pbnQoTEQgeF8sIExEIHlfKSB7DQoJCXggPSB4XywgeSA9IHlfOw0KCQkvLyBjb3V0IDw8IHggPDwgIiAiIDw8IHkgPDwgZW5kbDsNCgl9DQoJTEQgbGVuZ3RoKCkgew0KCQlyZXR1cm4gc3FydCh4KnggKyB5KnkpOw0KCX0NCglQb2ludCBvcGVyYXRvciAtKGNvbnN0IFBvaW50Jm8pIGNvbnN0IHsNCgkJcmV0dXJuIFBvaW50KHggLSBvLngsIHkgLSBvLnkpOw0KCX0NCglQb2ludCBvcGVyYXRvciAvKGNvbnN0IExEJmspIGNvbnN0IHsNCgkJLy9jb3V0IDw8IHggPDwgIiAiIDw8IHkgPDwgIiAiIDw8IGsgPDwgZW5kbDsNCgkJcmV0dXJuIFBvaW50KHggLyBrLCB5IC8gayk7DQoJfQ0KCUxEIGhlYWRpbmcoKSB7DQoJICAgIC8vIGNvdXQgPDwgeCA8PCAiICIgPDwgeSA8PCAiICIgPDwgYXRhbjIoeCwgeSkgPDwgZW5kbDsNCgkJcmV0dXJuIGF0YW4yKHgsIHkpOw0KCX0NCn07DQoNCmNvbnN0IExEIFBJID0gYWNvcygtMSk7DQpMRCBhbmdsZShQb2ludCB2MSwgUG9pbnQgdjIpIHsNCgl2MSA9IHYxIC8gdjEubGVuZ3RoKCk7DQoJdjIgPSB2MiAvIHYyLmxlbmd0aCgpOw0KCUxEIGRpZmYgPSB2Mi5oZWFkaW5nKCkgLSB2MS5oZWFkaW5nKCk7DQoJZGlmZiAtPSA2ICogUEk7DQoJd2hpbGUgKGRpZmYgPD0gMCkgZGlmZiArPSAyICogUEk7DQoJcmV0dXJuIGRpZmY7DQp9DQoNCnZvaWQgc2hpZnQodmVjdG9yPGludD4mIGEpIHsNCglpbnQgaSA9IDEsIGogPSAwLCBrID0gMDsNCglpbnQgbiA9IGEuc2l6ZSgpOw0KCXdoaWxlIChpIDwgbiAmJiBqIDwgbiAmJiBrIDwgbikgew0KCQlpZiAoYVsoaStrKSAlIG5dID09IGFbKGorayklbl0pDQoJCQlrICsrOw0KCQllbHNlIHsNCgkJCWlmIChhWyhpICsgaykgJSBuXSA+IGFbKGogKyBrKSAlIG5dKSB7DQoJCQkJaSA9IGkgKyBrICsgMTsNCgkJCX0gZWxzZSB7DQoJCQkJaiA9IGogKyBrICsgMTsNCgkJCX0NCgkJCWlmIChpID09IGopIGkgKys7DQoJCQlrID0gMDsNCgkJfQ0KCX0NCglpbnQgc3RhcnQgPSBtaW4oaSwgaik7DQoJdmVjdG9yPGludD4gYW5zOw0KCWZvciAoaW50IGkgPSBzdGFydDsgaSA8IHN0YXJ0ICsgbjsgaSArKykgew0KCQlhbnMucHVzaF9iYWNrKGFbaSAlIG5dKTsNCgl9DQoJYSA9IGFuczsNCn0NCg0KTEwgaGFzaFZhbHVlKHZlY3RvcjxpbnQ+IGFycikgew0KCWNvbnN0IExMIEIgPSAxMzE7DQoJY29uc3QgTEwgTU9EID0gMWU5ICsgOTsNCglMTCBhbnMgPSAwOw0KCWZvciAoYXV0byB4OiBhcnIpIHsNCgkJYW5zID0gKGFucyAqIEIgKyB4KSAlIE1PRDsNCgl9CQ0KCXJldHVybiBhbnM7DQp9DQpzdHJ1Y3QgUG9seWdvbiB7DQoJaW50IG07DQoJdmVjdG9yPFBvaW50PiBwOw0KCXZlY3RvcjxMRD4gbCwgYTsNCgkgDQoJdm9pZCBpbml0KCkgew0KCQljaW4gPj4gbTsNCgkJYS5yZXNpemUobSk7DQoJCWwucmVzaXplKG0pOw0KCQlwLnJlc2l6ZShtKTsNCgkJZm9yIChpbnQgaSA9IDA7IGkgPCBtOyBpICsrKSB7DQoJCQlwW2ldLnJlYWQoKTsNCgkJfQ0KCQlmb3IgKGludCBpID0gMDsgaSA8IG07IGkgKyspIHsNCgkJCVBvaW50IEEgPSBwWyhpLTErbSklbV07DQoJCQlQb2ludCBCID0gcFsoaSttKSVtXTsNCgkJCVBvaW50IEMgPSBwWyhpKzErbSklbV07DQoJCQkNCgkJCWxbaV0gPSAocFsoaSsxKSVtXSAtIHBbaV0pLmxlbmd0aCgpOw0KCQkJYVtpXSA9IGFuZ2xlKEEgLSBCLCBDIC0gQik7DQoJCX0NCgkJTEQgbXggPSAwOw0KCQlmb3IgKGludCBpID0gMDsgaSA8IG07IGkgKyspIG14ID0gbWF4KG14LCBsW2ldKTsNCgkJZm9yIChpbnQgaSA9IDA7IGkgPCBtOyBpICsrKSBsW2ldIC89IG14Ow0KCQkvKg0KCQlwcmludGYoInBvbHlnb246ICIpOw0KCQlmb3IgKGludCBpID0gMDsgaSA8IG07IGkgKyspIHByaW50ZigiJS4xOGYgJS4xOGYgIiwgbFtpXSwgYVtpXSk7DQoJCXByaW50ZigiXG4iKTsNCgkJKi8NCgl9DQoJcGFpcjxpbnQsIExMPiBjYWxIYXNoKGNvbXByZXNzJiBoYW5kbGVyX2FuZywgY29tcHJlc3MmIGhhbmRsZXJfbGVuKSB7DQoJCUxMIGhhc2ggPSAwOw0KCQl2ZWN0b3I8aW50PiBhXyhtKSwgbF8obSk7DQoJCWZvciAoaW50IGkgPSAwOyBpIDwgbTsgaSArKykgew0KCQkJYV9baV0gPSBoYW5kbGVyX2FuZy5xdWVyeShhW2ldKTsNCgkJCWxfW2ldID0gaGFuZGxlcl9sZW4ucXVlcnkobFtpXSk7DQoJCX0NCgkJdmVjdG9yPGludD4gYXJyOw0KCQlmb3IgKGludCBpID0gMDsgaSA8IG07IGkgKyspIHsNCgkJCWFyci5wdXNoX2JhY2soYV9baV0pOw0KCQkJYXJyLnB1c2hfYmFjayhsX1tpXSk7DQoJCQlhcnIucHVzaF9iYWNrKDApOw0KCQl9DQoJCS8qDQoJCXByaW50ZigicG9seWdvbiBjb21wcmVzc2VkOiAiKTsNCgkJZm9yIChpbnQgaSA9IDA7IGkgPCBtOyBpICsrKSBwcmludGYoIiVkICVkICIsIGxfW2ldLCBhX1tpXSk7DQoJCXByaW50ZigiXG4iKTsNCgkJKi8NCgkJc2hpZnQoYXJyKTsNCgkJcmV0dXJuIHttLCBoYXNoVmFsdWUoYXJyKX07DQoJfQ0KfTsNCg0KDQoNCmludCBtYWluKCl7DQovKg0KI2lmbmRlZiBPTkxJTkVfSlVER0UNCglmcmVvcGVuKCJpbi50eHQiLCJyIixzdGRpbik7DQojZW5kaWYNCiovDQoJaW9zOjpzeW5jX3dpdGhfc3RkaW8oZmFsc2UpOw0KCWNpbi50aWUoMCk7IGNvdXQudGllKDApOw0KCWludCBuOw0KCWNpbiA+PiBuOw0KCQ0KCXZlY3RvcjxQb2x5Z29uPiBwb2x5Z29ucyhuKTsNCglmb3IgKGludCBpID0gMDsgaSA8IG47IGkgKyspIHsNCgkJcG9seWdvbnNbaV0uaW5pdCgpOw0KCX0NCgljb21wcmVzcyBhbmcsIGxlbjsNCglmb3IgKGludCBpID0gMDsgaSA8IG47IGkgKyspIHsNCgkJYW5nLmluc2VydChwb2x5Z29uc1tpXS5hKTsNCgkJbGVuLmluc2VydChwb2x5Z29uc1tpXS5sKTsNCgl9DQoJYW5nLmJ1aWxkKCk7DQoJbGVuLmJ1aWxkKCk7DQoJDQoJbWFwPCBwYWlyPGludCxMTD4gLCBpbnQ+IHZpczsNCglmb3IgKGludCBpID0gMDsgaSA8IG47IGkgKyspIHsNCgkJYXV0byBjdXIgPSBwb2x5Z29uc1tpXS5jYWxIYXNoKGFuZywgbGVuKTsNCgkJY291dCA8PCB2aXNbY3VyXSA8PCAiXG4iOw0KCQl2aXNbY3VyXSArKzsNCgl9DQoJDQoJDQogICAgcmV0dXJuIDA7DQp9"}]