[{"id":"2839","submission_id":"2839","filename":"text.cpp","source":"I2luY2x1ZGUgPGJpdHMvc3RkYysrLmg+DQojZGVmaW5lIGxjIGxzW3BdDQojZGVmaW5lIHJjIHJzW3BdDQp1c2luZyBuYW1lc3BhY2Ugc3RkOw0KY29uc3QgaW50IG1heG49M2U1KzUsbWF4bT1tYXhuPDwxOw0KaW50IG4sbSxMLHJ0LGFuc1ttYXhuXTsNCnN0cnVjdCBhZHsNCglpbnQgdCxsLHI7DQoJYm9vbCBvcGVyYXRvcjwoY29uc3QgYWQmYyljb25zdHtyZXR1cm4gdD5jLnR8fHQ9PWMudCYmcj5jLnI7fQ0KfWFbbWF4bl07DQpzdHJ1Y3Qgc3R7DQoJaW50IHQseCxpZDsNCglib29sIG9wZXJhdG9yPChjb25zdCBzdCZjKWNvbnN0e3JldHVybiB0PmMudDt9DQp9YlttYXhuXTsNCnN0cnVjdCBzZWd7DQoJaW50IG51bSxsc1ttYXhtXSxyc1ttYXhtXSxtaVttYXhtXSxselttYXhtXTsNCgl2b2lkIGJ1aWxkKGludCZwLGludCBsLGludCByKXsNCgkJcD0rK251bTttaVtwXT0yZTk7bHpbcF09MmU5Ow0KCQlpZiAobD09cikgcmV0dXJuOw0KCQlpbnQgbWlkPShsK3IpPj4xOw0KCQlidWlsZChsYyxsLG1pZCk7YnVpbGQocmMsbWlkKzEscik7DQoJfQ0KCXZvaWQgcHVzaGRvd24oaW50IHApew0KCQlpZiAobHpbcF08MmU5KXsNCgkJCWx6W2xjXT1taW4obHpbcF0sbHpbbGNdKTttaVtsY109bWluKG1pW2xjXSxseltwXSk7DQoJCQlseltyY109bWluKGx6W3BdLGx6W3JjXSk7bWlbcmNdPW1pbihtaVtyY10sbHpbcF0pOw0KCQkJbHpbcF09MmU5Ow0KCQl9DQoJfQ0KCXZvaWQgdXBkYXRlKGludCBwLGludCBsLGludCByLGludCB4LGludCB5LGludCB6KXsNCgkJaWYgKHg8PWwmJnI8PXkpew0KCQkJbWlbcF09bWluKG1pW3BdLHopOw0KCQkJbHpbcF09bWluKGx6W3BdLHopOw0KCQkJcmV0dXJuOw0KCQl9DQoJCWludCBtaWQ9KGwrcik+PjE7DQoJCXB1c2hkb3duKHApOw0KCQlpZiAoeDw9bWlkKSB1cGRhdGUobGMsbCxtaWQseCx5LHopOw0KCQlpZiAoeT5taWQpIHVwZGF0ZShyYyxtaWQrMSxyLHgseSx6KTsJDQoJfQ0KCWludCBxdWVyeShpbnQgcCxpbnQgbCxpbnQgcixpbnQgeCl7DQoJCWlmIChsPT1yKXtyZXR1cm4gbWlbcF07fQ0KCQlpbnQgbWlkPShsK3IpPj4xOw0KCQlwdXNoZG93bihwKTsNCgkJaWYgKHg8PW1pZCkgcmV0dXJuIHF1ZXJ5KGxjLGwsbWlkLHgpOw0KCQlyZXR1cm4gcXVlcnkocmMsbWlkKzEscix4KTsNCgl9DQp9VDsNCmlubGluZSB2b2lkIHNvbHZlKCkgew0KCXNjYW5mKCIlZCVkJWQiLCZuLCZtLCZMKTsNCgl2ZWN0b3I8aW50PiBwOw0KCWZvciAoaW50IGk9MTtpPD1uOysraSkgc2NhbmYoIiVkJWQlZCIsJmFbaV0udCwmYVtpXS5sLCZhW2ldLnIpOw0KCWZvciAoaW50IGk9MTtpPD1tOysraSkge3NjYW5mKCIlZCVkIiwmYltpXS50LCZiW2ldLngpO2JbaV0uaWQ9aTt9DQoJDQoJZm9yIChpbnQgaSA9IDE7IGkgPD0gbjsgaSsrKSBwLnB1c2hfYmFjayhhW2ldLmwpLCBwLnB1c2hfYmFjayhhW2ldLnIpOw0KCWZvciAoaW50IGkgPSAxOyBpIDw9IG07IGkrKykgcC5wdXNoX2JhY2soYltpXS54KTsNCg0KCXNvcnQocC5iZWdpbigpLCBwLmVuZCgpKTsNCglwLmVyYXNlKHVuaXF1ZShwLmJlZ2luKCksIHAuZW5kKCkpLCBwLmVuZCgpKTsNCgkNCglmb3IoaW50IGkgPSAxOyBpIDw9biA7IGkrKykgDQoJCWFbaV0ubCA9IGxvd2VyX2JvdW5kKHAuYmVnaW4oKSwgcC5lbmQoKSwgYVtpXS5sKSAtIHAuYmVnaW4oKSArIDEsDQoJCWFbaV0uciA9IGxvd2VyX2JvdW5kKHAuYmVnaW4oKSwgcC5lbmQoKSwgYVtpXS5yKSAtIHAuYmVnaW4oKSArIDE7DQoJZm9yKGludCBpID0gMTsgaSA8PW0gOyBpKyspIA0KCQliW2ldLnggPSBsb3dlcl9ib3VuZChwLmJlZ2luKCksIHAuZW5kKCksIGJbaV0ueCkgLSBwLmJlZ2luKCkgKyAxOw0KCUw9cC5zaXplKCk7DQoJc29ydChhKzEsYSsxK24pOw0KCXNvcnQoYisxLGIrMSttKTsNCglULmJ1aWxkKHJ0LDEsTCk7DQoJVC51cGRhdGUocnQsMSxMLEwsTCwwKTsNCglpbnQgaj0xOw0KCXdoaWxlIChiW2pdLnQ+YVsxXS50KXsNCgkJYW5zW2Jbal0uaWRdPVQucXVlcnkocnQsMSxMLGJbal0ueCk7DQoJCSsrajsNCgl9DQoJZm9yIChpbnQgaT0xO2k8PW47KytpKXsNCgkJaW50IHQ9VC5xdWVyeShydCwxLEwsYVtpXS5yKTsNCgkJaWYgKHQ8MmU5KXsNCgkJCVQudXBkYXRlKHJ0LDEsTCxhW2ldLmwsYVtpXS5yLHQrMSk7DQoJCX0NCgkJd2hpbGUgKGJbal0udDw9YVtpXS50JiZiW2pdLnQ+YVtpKzFdLnQpew0KCQkJYW5zW2Jbal0uaWRdPVQucXVlcnkocnQsMSxMLGJbal0ueCk7DQoJCQkrK2o7DQoJCX0NCgl9DQoJd2hpbGUgKGo8PW0pIGFuc1tiW2pdLmlkXT1ULnF1ZXJ5KHJ0LDEsTCxiW2pdLngpLCsrajsNCglmb3IgKGludCBpPTE7aTw9bTsrK2kpIHByaW50ZigiJWRcbiIsYW5zW2ldPT0yZTk/LTE6YW5zW2ldKTsNCn0NCg0KaW50IG1haW4oKXsNCglzb2x2ZSgpOw0KCXJldHVybiAwOw0KfQ=="}]