[{"id":"2595","submission_id":"2595","filename":"g.cpp","source":"I2luY2x1ZGU8Yml0cy9zdGRjKysuaD4NCiNkZWZpbmUgRm9yKGksbCxyKSBmb3IoaW50IGk9bCxpIyNlbmQ9cjtpPD1pIyNlbmQ7KytpKQ0KI2RlZmluZSByRm9yKGkscixsKSBmb3IoaW50IGk9cixpIyNlbmQ9bDtpPj1pIyNlbmQ7LS1pKQ0KI2RlZmluZSBwdXRzIGNvdXQ8PA0KdHlwZWRlZiBsb25nIGxvbmcgbGw7DQp1c2luZyBuYW1lc3BhY2Ugc3RkOw0KaW50IGZhWzEwMDAwNV0sd1sxMDAwMDVdOw0KaW5saW5lIGludCBmaW5kKGludCB4KXtyZXR1cm4gZmFbeF09PXg/eDpmYVt4XT1maW5kKGZhW3hdKTt9DQppbnQgbixxLG0sc1s1XTsNCmludCBza1sxMDAwMDVdLHNhWzEwMDAwNV0sc2JbMTAwMDA1XTsNCnZlY3RvcjxpbnQ+IHRvWzEwMDAwNV07DQppbnQgdmlzWzEwMDAwNV0sdmlzMlsxMDAwMDVdOw0KaW50IGZsYWc9MDsNCnZvaWQgZGZzKGludCB4KXsNCi8vCXByaW50ZigiJWRcbiIseCk7DQoJc1t2aXNbeF1dKz13W3hdOw0KCWZvcihpbnQgaT0wO2k8dG9beF0uc2l6ZSgpO2krKyl7DQoJCWludCB5PXRvW3hdW2ldOw0KCQlpZih2aXNbeV0pew0KCQkJaWYodmlzW3ldPT12aXNbeF0pIGZsYWc9MTsNCgkJfWVsc2V7DQoJCQl2aXNbeV09dmlzW3hdXjM7DQoJCQlkZnMoeSk7DQoJCX0NCgl9DQp9DQppbnQgc3VtOw0KdmVjdG9yPGludD4gZHMsZ3MsYXM7DQpuYW1lc3BhY2UgYmIgew0KCWNvbnN0IGludCBOPTFlNSsxMDsNCglpbnQgbixtLGZbTl0sbDFbTl0sbDJbTl07DQoJdmVjdG9yPGludD50W05dOw0KCWludCBsc3RbTl07DQoJdm9pZCB0cmFucyhpbnQgdyxpbnQgYykgew0KCQlGb3IoaSwwLHctMSkgbHN0W2ldPS0xZTk7DQoJCUZvcihpLDAsbSkgew0KCQkJaWYoIWZbaV0pIHsNCgkJCQlpbnQgbD1sc3RbaSV3XTsNCgkJCQlpZigoaS1sKS93PD1jKSB7DQoJCQkJCWZbaV09MTsNCgkJCQkJbDFbaV09dzsgbDJbaV09KGktbCkvdzsNCgkJCQl9DQoJCQl9IGVsc2UgbHN0W2kld109aTsNCgkJfQ0KCX0NCgl2ZWN0b3I8aW50PiB3b3JrKGludCBfbixpbnQgX20saW50ICphKSB7DQoJCW49X247IG09X207DQoJCUZvcihpLDAsbi0xKSB0W2FbaV1dLnB1c2hfYmFjayhpKTsNCgkJZlswXT0xOw0KCQlGb3IoaSwxLG0pIGlmKHRbaV0uc2l6ZSgpKSB7DQoJCQl0cmFucyhpLHRbaV0uc2l6ZSgpKTsNCgkJfQ0KCQlpZighZlttXSkgcmV0dXJuIHstMX07DQoJCWludCB4PW07IHZlY3RvcjxpbnQ+YW5zOw0KCQl3aGlsZSh4KSB7DQoJCQlGb3IoaiwwLGwyW3hdLTEpIGFucy5wdXNoX2JhY2sodFtsMVt4XV1bal0pOw0KCQkJeC09bDFbeF0qbDJbeF07DQoJCX0NCgkJcmV0dXJuIGFuczsNCgl9DQp9DQp2ZWN0b3I8aW50PiB0Ow0KaW50IHRvblsxMDAwMDVdLHR0b25bMTAwMDA1XTsNCnZlY3RvcjxpbnQ+IHRhbnMsZGFuczsNCnZvaWQgZGZzMihpbnQgeCxpbnQgdyl7DQoJLy9wcmludGYoInNxICVkICVkICVkXG4iLHgsdmlzW3hdLHcpOw0KCXZpczJbeF09MTsNCglpZih2aXNbeF09PXcpIHR0b25beF09MTsvL3ByaW50ZigiYXEgJWRcbiIseCk7DQoJZm9yKGludCBpPTA7aTx0b1t4XS5zaXplKCk7aSsrKXsNCgkJaW50IHk9dG9beF1baV07DQoJCWlmKCF2aXMyW3ldKSB2aXMyW3ldPTEsZGZzMih5LHcpOw0KCX0NCn0NCnNpZ25lZCBtYWluKCkgew0KICAgIHNjYW5mKCIlZCVkJWQiLCZuLCZxLCZtKTsNCiAgICBmb3IoaW50IGk9MTtpPD1uO2krKykgZmFbaV09aSx3W2ldPTE7DQogICAgZm9yKGludCBpPTE7aTw9bTtpKyspc2NhbmYoIiVkJWQlZCIsJnNrW2ldLCZzYVtpXSwmc2JbaV0pOw0KICAgIGZvcihpbnQgaT0xO2k8PW07aSsrKSBpZighc2tbaV0mJmZpbmQoc2FbaV0pIT1maW5kKHNiW2ldKSkgd1tmaW5kKHNiW2ldKV0rPXdbZmluZChzYVtpXSldLGZhW2ZpbmQoc2FbaV0pXT1maW5kKHNiW2ldKTsNCiAgICBmb3IoaW50IGk9MTtpPD1tO2krKykgaWYoc2tbaV0pIHRvW2ZpbmQoc2FbaV0pXS5wdXNoX2JhY2soZmluZChzYltpXSkpLHRvW2ZpbmQoc2JbaV0pXS5wdXNoX2JhY2soZmluZChzYVtpXSkpOw0KICAgIGZvcihpbnQgaT0xO2k8PW47aSsrKSBpZihmaW5kKGkpPT1pJiYhdmlzW2ldKXsNCiAgICAJdmlzW2ldPTE7c1sxXT0wLHNbMl09MDsNCi8vICAgIAlwdXRzKCJRV1EiKTsNCiAgICAJZGZzKGkpOw0KLy8gICAgCXByaW50ZigiJWQgJWRcbiIsc1sxXSxzWzJdKTsNCiAgICAJaWYoZmxhZykgcmV0dXJuIHB1dHMoIk5PXG4iKSwwOw0KICAgIAlzdW0rPW1pbihzWzFdLHNbMl0pOw0KICAgIAl0LnB1c2hfYmFjayhtYXgoc1syXSxzWzFdKS1taW4oc1syXSxzWzFdKSk7DQoJfQ0KCXEtPXN1bTsgaWYocTwwKSByZXR1cm4gY291dDw8Ik5PXG4iLDA7DQovLwlwcmludGYoIiVkXG4iLHEpOw0KLy8JZm9yKGludCBpPTA7aTx0LnNpemUoKTtpKyspIHByaW50ZigiJWQgIix0W2ldKTtwdXRzKCIiKTsNCglhcz1iYjo6d29yayh0LnNpemUoKSxxLHQuZGF0YSgpKTsNCglpZihhcy5zaXplKCkmJmFzWzBdPT0tMSkgcmV0dXJuIHB1dHMoIk5PXG4iKSwwOw0KCXB1dHMoIllFU1xuIik7DQoJZm9yKGludCBpPTA7aTxhcy5zaXplKCk7aSsrKXsNCgkJdG9uW3RbYXNbaV1dXSsrOw0KCX0NCgltZW1zZXQodmlzLDAsc2l6ZW9mKHZpcykpOw0KCWZvcihpbnQgaT0xO2k8PW47aSsrKSBpZihmaW5kKGkpPT1pJiYhdmlzW2ldKXsNCiAgICAJdmlzW2ldPTE7c1sxXT0wLHNbMl09MDsNCiAgICAJZGZzKGkpOw0KICAgIAlpbnQgZmxhZzsNCiAgICAJaWYoIXRvblttYXgoc1syXSxzWzFdKS1taW4oc1syXSxzWzFdKV0pIGZsYWc9KHNbMV08c1syXT8xOjIpOw0KICAgIAllbHNlew0KICAgIAkJdG9uW21heChzWzJdLHNbMV0pLW1pbihzWzJdLHNbMV0pXS0tOw0KICAgIAkJZmxhZz0oc1sxXT5zWzJdPzE6Mik7DQoJCX0NCiAgICAJZGZzMihpLGZsYWcpOw0KCX0NCglmb3IoaW50IGk9MTtpPD1uO2krKykgaWYodHRvbltmaW5kKGkpXSkgY291dDw8aTw8IiAiOw0KfQ0K"}]