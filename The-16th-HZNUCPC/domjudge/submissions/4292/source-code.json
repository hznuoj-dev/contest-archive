[{"id":"4292","submission_id":"4292","filename":"a.cpp","source":"I2luY2x1ZGU8Yml0cy9zdGRjKysuaD4NCnVzaW5nIG5hbWVzcGFjZSBzdGQ7DQoNCmludCBsZW47DQpzdHJpbmcgczsNCmludCBjdFszMF0sdFszMF0seHRbMzBdOw0KDQppbnQgZWQoaW50IGwsaW50IHIsY2hhciBhLGNoYXIgYikNCnsNCiAgICAvL3ByaW50ZigieyVkICVkfXslYyAlY31cbiIsbCxyLGEsYik7DQogICAgaW50IGNkPXItbCsxLG9rPTE7DQogICAgd2hpbGUobC0xPj0wJiZyKzE8bGVuKQ0KICAgIHsNCiAgICAgICAgaWYoc1tsLTFdPT1zW3IrMV0mJih4dFtzW2wtMV0tJ2EnXT49MikpDQogICAgICAgIHsNCiAgICAgICAgICAgIC0teHRbc1tsLTFdLSdhJ107DQogICAgICAgICAgICAtLXh0W3NbcisxXS0nYSddOw0KICAgICAgICAgICAgY2QrPTI7DQogICAgICAgIH0NCiAgICAgICAgZWxzZSBpZigoc1tsLTFdPT1hJiZzW3IrMV09PWIpfHwoc1tsLTFdPT1hJiZzW3IrMV09PWIpKQ0KICAgICAgICB7DQogICAgICAgICAgICBpZihvaz09MClicmVhazsNCiAgICAgICAgICAgIG9rPTA7DQogICAgICAgICAgICB4dFthLSdhJ10tPTI7DQogICAgICAgICAgICBjZCs9MjsNCiAgICAgICAgfQ0KICAgICAgICBlbHNlIGJyZWFrOw0KICAgICAgICAtLWw7DQogICAgICAgICsrcjsNCiAgICB9DQogICAgaWYob2s9PTEpcmV0dXJuIDA7DQogICAgcmV0dXJuIGNkOw0KfQ0KaW50IGNrKGludCBsLGludCByKQ0Kew0KICAgIGludCBjZD1yLWwrMTsNCiAgICBmb3IoaW50IGk9MDtpPDI2OysraSl0W2ldPWN0W2ldOw0KICAgIGlmKGw9PXIpLS10W3NbbF0tJ2EnXTsNCiAgICB3aGlsZShsLTE+PTAmJnIrMTxsZW4pDQogICAgew0KICAgICAgICBpZihzW2wtMV09PXNbcisxXSkNCiAgICAgICAgew0KICAgICAgICAgICAgLS10W3NbbC0xXS0nYSddOw0KICAgICAgICAgICAgLS10W3NbcisxXS0nYSddOw0KICAgICAgICAgICAgY2QrPTI7DQogICAgICAgIH0NCiAgICAgICAgZWxzZQ0KICAgICAgICB7DQogICAgICAgICAgICBpbnQgbXg9Y2Q7DQogICAgICAgICAgICBpZigodFtzW2wtMV0tJ2EnXSk+PTIpDQogICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgZm9yKGludCBpPTA7aTwyNjsrK2kpDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICB4dFtpXT10W2ldOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB4dFtzW2wtMV0tJ2EnXS09MjsNCiAgICAgICAgICAgICAgICBteD1tYXgobXgsZWQobC0xLHIrMSxzW2wtMV0sc1tyKzFdKSk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBpZigodFtzW3IrMV0tJ2EnXSk+PTIpDQogICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgZm9yKGludCBpPTA7aTwyNjsrK2kpDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICB4dFtpXT10W2ldOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB4dFtzW3IrMV0tJ2EnXS09MjsNCiAgICAgICAgICAgICAgICBteD1tYXgobXgsZWQobC0xLHIrMSxzW3IrMV0sc1tsLTFdKSk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICByZXR1cm4gbXg7DQogICAgICAgIH0NCiAgICAgICAgLS1sOw0KICAgICAgICArK3I7DQogICAgfQ0KICAgIHJldHVybiBjZDsNCn0NCg0Kdm9pZCBzb2woKQ0Kew0KICAgIG1lbXNldChjdCwwLHNpemVvZiBjdCk7DQogICAgY2luPj5zOw0KICAgIGxlbj1zLnNpemUoKTsNCiAgICBmb3IoaW50IGk9MDtpPGxlbjsrK2kpDQogICAgew0KICAgICAgICArK2N0W3NbaV0tJ2EnXTsNCiAgICB9DQogICAgaW50IG14PTA7DQogICAgZm9yKGludCBpPTA7aTxsZW47KytpKQ0KICAgIHsNCiAgICAgICAgbXg9bWF4KG14LGNrKGksaSkpOw0KICAgICAgICBpZihpIT0wKW14PW1heChteCxjayhpLGktMSkpOw0KICAgICAgICAvL3ByaW50ZigiJWQ6WyVkXVxuIixpLG14KTsNCiAgICB9DQogICAgaWYobXg9PTEpbXg9MDsNCiAgICBwcmludGYoIiVkXG4iLG14KTsNCn0NCg0KaW50IG1haW4oKQ0Kew0KICAgIGludCB0PTE7DQogICAgc2NhbmYoIiVkIiwmdCk7DQogICAgd2hpbGUodC0tKSBzb2woKTsNCiAgICByZXR1cm4gMDsNCn0NCg=="}]