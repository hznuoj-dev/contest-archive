[{"id":"4159","submission_id":"4159","filename":"b.cpp","source":"I2luY2x1ZGU8Yml0cy9zdGRjKysuaD4NCnVzaW5nIG5hbWVzcGFjZSBzdGQ7DQojZGVmaW5lIGludCBsb25nIGxvbmcNCmlubGluZSBpbnQgcmVhZCgpew0KICAgIGludCB4PTAsZj0xO2NoYXIgYz1nZXRjaGFyKCk7DQogICAgd2hpbGUoIWlzZGlnaXQoYykpe2lmKGM9PSctJylmPS0xO2M9Z2V0Y2hhcigpO30NCiAgICB3aGlsZShpc2RpZ2l0KGMpKXg9eCoxMCtjLTQ4LGM9Z2V0Y2hhcigpOw0KICAgIHJldHVybiB4KmY7DQp9DQpjb25zdCBpbnQgTj0xZTUrNTsNCmludCBuLHEsbSxmYVsxMDAwMDEwXSxzelsxMDAwMDEwXSxmWzEwMDAwMTBdLHZpc1sxMDAwMDEwXTsNCmludCBmaW5kKGludCB4KXsNCiAgICByZXR1cm4geD09ZmFbeF0/eDpmYVt4XT1maW5kKGZhW3hdKTsNCn0NCnZvaWQgbWVyZ2UoaW50IHgsaW50IHkpew0KICAgIHg9ZmluZCh4KTt5PWZpbmQoeSk7DQogICAgaWYoeD09eSlyZXR1cm47DQogICAgaWYoeDx5KXN3YXAoeCx5KTsNCiAgICBmYVt4XT15O3N6W3ldKz1zelt4XTtmW3ldKz1mW3hdOw0KfQ0KYml0c2V0PDEwMDAxMD5nWzEwMDAxMF07DQp2ZWN0b3I8aW50PmFuc1sxMDAwMDEwXTsNCnZlY3RvcjxwYWlyPGludCxpbnQ+ID5jOw0KdmVjdG9yPHBhaXI8aW50LGludD4gPnY7DQp2b2lkIHByaW50KGludCB4KXsNCiAgICAvLyBwcmludGYoIiVsbGQ6XG4iLHgpOw0KICAgIGZvcihpbnQgaTphbnNbeF0pcHJpbnRmKCIlbGxkICIsaSk7DQogICAgLy8gcHV0cygiIik7DQp9DQp2b2lkIGRmcyhpbnQgeCxpbnQgc3VtKQ0Kew0KICAgIC8vcHJpbnRmKCIlbGxkICVsbGRcbiIseCxzdW0pOw0KICAgIGlmKHg9PTApcmV0dXJuOw0KICAgIGlmKHN1bS12W3gtMV0uZmlyc3Q+PTAmJmdbeC0xXVtzdW0tdlt4LTFdLmZpcnN0XSkgZGZzKHgtMSxzdW0tdlt4LTFdLmZpcnN0KSxwcmludChjW3gtMV0uZmlyc3QpOw0KICAgIGVsc2UgZGZzKHgtMSxzdW0tdlt4LTFdLnNlY29uZCkscHJpbnQoY1t4LTFdLnNlY29uZCk7DQp9DQpzaWduZWQgbWFpbigpew0KICAgIC8vIGZyZW9wZW4oImluLnR4dCIsInIiLHN0ZGluKTsNCiAgIC8vICBmcmVvcGVuKCJiLm91dCIsInciLHN0ZG91dCk7DQogICAgbj1yZWFkKCk7cT1yZWFkKCk7bT1yZWFkKCk7DQogICAgZm9yKGludCBpPTE7aTw9KG48PDEpO2krKylmYVtpXT1pLHN6W2ldPTEsZltpXT0oaTw9bik7DQogICAgZm9yKGludCBpPTE7aTw9bTtpKyspew0KICAgICAgICBpbnQgb3A9cmVhZCgpLGE9cmVhZCgpLGI9cmVhZCgpOw0KICAgICAgICAvL2lmKG9wPT0xJiZhPT1iKXtwdXRzKCJOTyIpO3JldHVybiAwO30NCiAgICAgICAgaWYob3A9PTApew0KICAgICAgICAgICAgbWVyZ2UoYSxiKTsNCiAgICAgICAgICAgIG1lcmdlKGErbixiK24pOw0KICAgICAgICB9ZWxzZXsNCiAgICAgICAgICAgIG1lcmdlKGEsYituKTsNCiAgICAgICAgICAgIG1lcmdlKGIsYStuKTsNCiAgICAgICAgfQ0KICAgIH0NCiAgICBmb3IoaW50IGk9MTtpPD1uO2krKylpZihmaW5kKGkpPT1maW5kKGkrbikpe3B1dHMoIk5PIik7cmV0dXJuIDA7fQ0KICAgLy8gcHV0cygicXdxIik7DQogICAgZm9yKGludCBpPTE7aTw9bjtpKyspaWYoZmluZChpKT09aSl7DQogICAgICAgIGlmKHZpc1tpXXx8dmlzW2ZpbmQoaStuKV0pY29udGludWU7DQogICAgICAgIHYucHVzaF9iYWNrKHtmW2ldLGZbZmluZChpK24pXX0pLGMucHVzaF9iYWNrKHtpLGZpbmQoaStuKX0pOw0KICAgICAgICB2aXNbaV09dmlzW2ZpbmQoaStuKV09MTsNCiAgICB9DQogICAgZm9yKGludCBpPTE7aTw9bjtpKyspYW5zW2ZpbmQoaSldLnB1c2hfYmFjayhpKTsNCiAgICBpbnQgY250PXYuc2l6ZSgpOw0KICAgIGdbMF1bMF09MTsNCiAgICAvL2ZvcihpbnQgaT0xO2k8PWNudDtpKyspcHJpbnRmKCIlbGxkICVsbGRcbiIsdltpLTFdLmZpcnN0LHZbaS0xXS5zZWNvbmQpO3B1dHMoIiIpOw0KICAgIC8vZm9yKGludCBpPTE7aTw9Y250O2krKylwcmludGYoIiVsbGQgJWxsZFxuIixjW2ktMV0uZmlyc3QsY1tpLTFdLnNlY29uZCk7cHV0cygiIik7DQogICAgZm9yKGludCBpPTE7aTw9Y250O2krKylnW2ldPShnW2ktMV08PHZbaS0xXS5maXJzdCl8KGdbaS0xXTw8dltpLTFdLnNlY29uZCk7DQogICAgLy9mb3IoaW50IGk9MTtpPD1uO2krKylwcmludGYoIiVsbGQgIixnW2NudF1baV09PTEpO3B1dHMoIiIpOw0KICAgIGlmKCFnW2NudF1bcV0pe3B1dHMoIk5PIik7cmV0dXJuIDA7fQ0KICAgIHB1dHMoIllFUyIpOw0KICAgIGRmcyhjbnQscSk7DQogICAgcmV0dXJuIDA7DQp9"}]