[{"id":"1475","submission_id":"1475","filename":"2.cpp","source":"I2luY2x1ZGUgPGlvc3RyZWFtPg0KI2luY2x1ZGUgPHF1ZXVlPg0KI2luY2x1ZGUgPHZlY3Rvcj4NCiNpbmNsdWRlIDxjc3RyaW5nPg0KI2RlZmluZSBtYXhuIDUwMTANCiNkZWZpbmUgbGwgbG9uZyBsb25nDQp1c2luZyBuYW1lc3BhY2Ugc3RkOw0KDQppbnQgbjsNCmNoYXIgc1ttYXhuXTsNCg0Kdm9pZCB3b3JrKCkgeyANCgljaW4gPj4gcyArIDE7DQoJbiA9IHN0cmxlbihzICsgMSk7IA0KCWludCBhbnMgPSAwOyANCglmb3IgKGludCBrID0gMjsgayA8IG47ICsraykgew0KCQl2ZWN0b3I8cGFpcjxpbnQsIGludD4+IHZlYzsNCgkJaW50IGwgPSBrLCByID0gazsgDQoJCXdoaWxlIChsID49IDEgJiYgciA8PSBuKSB7IA0KCQkJaWYgKHNbbF0gIT0gc1tyXSkgdmVjLmVtcGxhY2VfYmFjayhsLCByKTsNCgkJCWlmICghdmVjLnNpemUoKSkgYW5zID0gbWF4KGFucywgciAtIGwgKyAxKTsNCgkJCWlmICh2ZWMuc2l6ZSgpID09IDEpIHsNCgkJCQlwYWlyPGludCwgaW50PiB4ID0gdmVjWzBdOw0KCQkJCWlmIChzW3guZmlyc3RdID09IHNba10gfHwgc1t4LnNlY29uZF0gPT0gc1trXSkgDQoJCQkJCWFucyA9IG1heChhbnMsIHIgLSBsICsgMSk7DQoJCQl9DQoJCQlpZiAodmVjLnNpemUoKSA9PSAyKSB7DQoJCQkJcGFpcjxpbnQsIGludD4geCA9IHZlY1swXSwgeSA9IHZlY1sxXTsNCgkJCQlpZiAoc1t4LmZpcnN0XSA9PSBzW3kuc2Vjb25kXSAmJiBzW3guc2Vjb25kXSA9PSBzW3kuZmlyc3RdKQ0KCQkJCQlhbnMgPSBtYXgoYW5zLCByIC0gbCArIDEpOyANCgkJCQlpZiAoc1t4LmZpcnN0XSA9PSBzW3kuZmlyc3RdICYmIHNbeC5zZWNvbmRdID09IHNbeS5zZWNvbmRdKQ0KCQkJCQlhbnMgPSBtYXgoYW5zLCByIC0gbCArIDEpOw0KCQkJfQ0KCQkJaWYgKHZlYy5zaXplKCkgPiAyKSBicmVhazsNCgkJCS0tbCwgKytyOw0KCQl9DQoJfQ0KCWZvciAoaW50IGsgPSAxOyBrIDwgbjsgKytrKSB7IA0KCQl2ZWN0b3I8cGFpcjxpbnQsIGludD4+IHZlYzsNCgkJaW50IGwgPSBrLCByID0gayArIDE7IA0KCQl3aGlsZSAobCA+PSAxICYmIGsgPD0gbikgeyANCgkJCWlmIChzW2xdICE9IHNbcl0pIHZlYy5lbXBsYWNlX2JhY2sobCwgcik7DQoJCQlpZiAoIXZlYy5zaXplKCkpIGFucyA9IG1heChhbnMsIHIgLSBsICsgMSk7IA0KCQkJaWYgKHZlYy5zaXplKCkgPT0gMikgew0KCQkJCXBhaXI8aW50LCBpbnQ+IHggPSB2ZWNbMF0sIHkgPSB2ZWNbMV07DQoJCQkJaWYgKHNbeC5maXJzdF0gPT0gc1t5LnNlY29uZF0gJiYgc1t4LnNlY29uZF0gPT0gc1t5LmZpcnN0XSkNCgkJCQkJYW5zID0gbWF4KGFucywgciAtIGwgKyAxKTsgDQoJCQkJaWYgKHNbeC5maXJzdF0gPT0gc1t5LmZpcnN0XSAmJiBzW3guc2Vjb25kXSA9PSBzW3kuc2Vjb25kXSkNCgkJCQkJYW5zID0gbWF4KGFucywgciAtIGwgKyAxKTsNCgkJCX0NCgkJCWlmICh2ZWMuc2l6ZSgpID4gMikgYnJlYWs7DQoJCQktLWwsICsrcjsNCgkJfQ0KCX0NCglpZiAoYW5zID09IDEpIGFucyA9IDA7DQoJY291dCA8PCBhbnMgPDwgIlxuIjsNCn0NCg0KaW50IG1haW4oKSB7IA0KCWlvczo6c3luY193aXRoX3N0ZGlvKGZhbHNlKTsNCgljaW4udGllKG51bGxwdHIpOyBjb3V0LnRpZShudWxscHRyKTsgDQoJDQoJaW50IFQ7IGNpbiA+PiBUOw0KCXdoaWxlIChULS0pIHdvcmsoKTsgDQoJcmV0dXJuIDA7IA0KfSA="}]