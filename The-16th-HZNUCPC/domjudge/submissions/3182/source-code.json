[{"id":"3182","submission_id":"3182","filename":"2.cpp","source":"I2luY2x1ZGUgPGlvc3RyZWFtPg0KI2luY2x1ZGUgPHF1ZXVlPg0KI2luY2x1ZGUgPHZlY3Rvcj4NCiNpbmNsdWRlIDxjc3RyaW5nPg0KI2luY2x1ZGUgPHN0YWNrPg0KI2luY2x1ZGUgPGJpdHNldD4NCiNpbmNsdWRlIDxhbGdvcml0aG0+DQojZGVmaW5lIG1heG4gMjAwMDEwDQojZGVmaW5lIG1heG0gMjAwMDEwDQojZGVmaW5lIGxsIGxvbmcgbG9uZw0KdXNpbmcgbmFtZXNwYWNlIHN0ZDsNCg0KaW50IG4sIG0sIGs7DQoNCmlubGluZSBpbnQgdHJhbnMoaW50IHgpIHsgcmV0dXJuIHggPiBuID8geCAtIG4gOiB4ICsgbjsgfQ0KDQppbnQgZmFbbWF4bl07DQp2b2lkIGluaXRfZmEoaW50IG4pIHsgZm9yIChpbnQgaSA9IDE7IGkgPD0gbjsgKytpKSBmYVtpXSA9IGk7IH0gDQppbnQgZmluZChpbnQgeCkgeyANCgl2ZWN0b3I8aW50PiB2ZWM7DQoJd2hpbGUgKGZhW3hdICE9IHgpIHsgDQoJCXZlYy5wdXNoX2JhY2soeCk7DQoJCXggPSBmYVt4XTsNCgl9DQoJZm9yIChhdXRvIHUgOiB2ZWMpIGZhW3VdID0geDsNCglyZXR1cm4geDsNCn0NCnZvaWQgbWVyZ2UoaW50IHgsIGludCB5KSB7IA0KCXggPSBmaW5kKHgpLCB5ID0gZmluZCh5KTsNCglpZiAoeCA9PSB5KSByZXR1cm4gOw0KCWZhW3hdID0geTsNCn0NCg0KYm9vbCB2aXNbbWF4bl07DQp2ZWN0b3I8aW50PiBBW21heG5dOyBpbnQgYVttYXhuXTsNCg0KY29uc3QgaW50IE4gPSAxMDAwMTA7DQpiaXRzZXQ8Tj4gZltOXTsNCg0Kdm9pZCB3b3JrKCkgeyANCglmb3IgKGludCBpID0gMTsgaSA8PSAyICogbjsgKytpKSANCgkJQVtmaW5kKGkpXS5wdXNoX2JhY2soaSksIGFbZmluZChpKV0gKz0gaSA8PSBuOw0KCXZlY3RvcjxpbnQ+IHZlYzsNCglmb3IgKGludCBpID0gMTsgaSA8PSAyICogbjsgKytpKSB7IA0KCQlpZiAodmlzW2ldIHx8ICFBW2ldLnNpemUoKSkgY29udGludWU7DQoJCXZlYy5wdXNoX2JhY2soaSk7DQoJCXZpc1tmaW5kKHRyYW5zKGkpKV0gPSAxOw0KCX0gDQoJDQoJaW50IHRvcCA9IHZlYy5zaXplKCk7IGZbMF1bMF0gPSAxOyANCglmb3IgKGludCBvID0gMCwgaSA9IHZlY1tvXTsgbyA8IHRvcDsgKytvKSB7DQoJCWkgPSB2ZWNbb107DQoJCWludCB2MSA9IGFbaV0sIHYyID0gQVtpXS5zaXplKCkgLSBhW2ldOw0KCQlmW28gKyAxXSA9IGZbb10gPDwgdjE7DQoJCWZbbyArIDFdIHw9IGZbb10gPDwgdjI7DQoJfQ0KCWlmIChuID09IDEwMDAwMCkgcmV0dXJuIDsNCglpZiAoIWZbdG9wXVtrXSkgcmV0dXJuIGNvdXQgPDwgIk5PIiA8PCAiXG4iLCB2b2lkKCk7DQoJdmVjdG9yPGludD4gYW5zOw0KCWZvciAoaW50IGkgPSB0b3A7IGk7IC0taSkgeyANCgkJaW50IHYxID0gYVt2ZWNbaSAtIDFdXSwgdjIgPSBBW3ZlY1tpIC0gMV1dLnNpemUoKSAtIHYxOw0KCQlpZiAoayA+PSB2MSAmJiBmW2kgLSAxXVtrIC0gdjFdKSB7DQoJCQlrIC09IHYxOw0KCQkJZm9yIChhdXRvIHUgOiBBW3ZlY1tpIC0gMV1dKQ0KCQkJCWlmICh1IDw9IG4pIGFucy5wdXNoX2JhY2sodSk7DQoJCX0gZWxzZSBpZiAoayA+PSB2MiAmJiBmW2kgLSAxXVtrIC0gdjJdKSB7IA0KCQkJayAtPSB2MjsNCgkJCWZvciAoYXV0byB1IDogQVt2ZWNbaSAtIDFdXSkNCgkJCQlpZiAodSA+IG4pIGFucy5wdXNoX2JhY2sodSAtIG4pOw0KCQl9DQoJfQ0KCWNvdXQgPDwgIllFUyIgPDwgIlxuIjsNCglzb3J0KGFucy5iZWdpbigpLCBhbnMuZW5kKCkpOw0KCWZvciAoYXV0byB1IDogYW5zKSBjb3V0IDw8IHUgPDwgIiAiOyBjb3V0IDw8ICJcbiI7DQp9DQoNCmludCBtYWluKCkgeyANCglpb3M6OnN5bmNfd2l0aF9zdGRpbyhmYWxzZSk7DQoJY2luLnRpZShudWxscHRyKTsgY291dC50aWUobnVsbHB0cik7IA0KCQ0KCWZyZW9wZW4oIjEuaW4iLCAiciIsIHN0ZGluKTsNCglmcmVvcGVuKCIxLm91dCIsICJ3Iiwgc3Rkb3V0KTsNCgkNCgljaW4gPj4gbiA+PiBrID4+IG07IGluaXRfZmEoMiAqIG4pOw0KCWZvciAoaW50IGkgPSAxOyBpIDw9IG07ICsraSkgeyANCgkJaW50IG8sIHgsIHk7IGNpbiA+PiBvID4+IHggPj4geTsNCgkJbWVyZ2UoeCwgeSArIG8gKiBuKSwgbWVyZ2UoeCArIG4sIHkgKyAobyBeIDEpICogbik7DQoJfQ0KCWZvciAoaW50IGkgPSAxOyBpIDw9IG47ICsraSkNCgkJaWYgKGZpbmQoaSkgPT0gZmluZChpICsgbikpIHJldHVybiBjb3V0IDw8ICJOTyIgPDwgIlxuIiwgMDsNCgl3b3JrKCk7DQoJcmV0dXJuIDA7IA0KfSA="}]