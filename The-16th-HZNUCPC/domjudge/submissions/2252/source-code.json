[{"id":"2252","submission_id":"2252","filename":"I.cpp","source":"I2luY2x1ZGU8Yml0cy9zdGRjKysuaD4NCg0KdXNpbmcgbmFtZXNwYWNlIHN0ZDsNCg0KDQp0eXBlZGVmIGxvbmcgbG9uZyBsbDsNCmludCB0Ow0KY2hhciBzWzEwMDAwXTsNCmludCBtYWluKCl7DQogICAgc2NhbmYoIiVkIiwmdCk7DQogICAgd2hpbGUodC0tKXsNCiAgICAgICBzY2FuZigiJXMiLHMpOw0KICAgICAgIGludCBuID0gc3RybGVuKHMpOw0KICAgICAgIGludCBtYXhsZW49MDsNCiAgICAgICBmb3IoaW50IGk9MDtpPG47aSsrKXsNCiAgICAgICAgICAgaW50IGw9aS0xLHI9aSsxOw0KICAgICAgICAgICBpbnQganVkZ2U9MDsNCiAgICAgICAgICAgaW50IGxlbiA9IDA7DQogICAgICAgICAgIGNoYXIgcHJlYSxwcmViOw0KICAgICAgICAgICB3aGlsZShsPj0wJiZyPG4pew0KICAgICAgICAgICAgICAgIGlmKHNbbF09PXNbcl0mJihqdWRnZT09MHx8anVkZ2U9PTIpKXsNCiAgICAgICAgICAgICAgICAgICAgbGVuPXItbCsxOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBpZihzW2xdIT1zW3JdKXsNCiAgICAgICAgICAgICAgICAgICAgaWYoanVkZ2U9PTApew0KICAgICAgICAgICAgICAgICAgICAgICAganVkZ2U9MTsNCiAgICAgICAgICAgICAgICAgICAgICAgIHByZWEgPSBzW2xdOw0KICAgICAgICAgICAgICAgICAgICAgICAgcHJlYiA9IHNbcl07DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZihqdWRnZT09MSl7DQogICAgICAgICAgICAgICAgICAgICAgICBpZigocHJlYT09c1tsXSZwcmViPT1zW3JdKXx8KHByZWE9PXNbcl0mJnByZWI9PXNbbF0pKXsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZW49ci1sKzE7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAganVkZ2U9MjsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2V7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgZWxzZXsNCiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGwtLTsNCiAgICAgICAgICAgICAgICByKys7DQogICAgICAgICAgIH0NCiAgICAgICAgICAgbWF4bGVuPW1heChtYXhsZW4sbGVuKTsNCiAgICAgICB9DQogICAgICAgZm9yKGludCBpPTA7aTxuLTE7aSsrKXsNCiAgICAgICAgICAgaWYoc1tpXSE9c1tpKzFdKQ0KICAgICAgICAgICAgY29udGludWU7DQogICAgICAgICAgIGludCBsZW49MjsNCiAgICAgICAgICAgaW50IGw9aS0xLHI9aSsyOw0KICAgICAgICAgICBpbnQganVkZ2U9MDsNCiAgICAgICAgICAgY2hhciBwcmVhLHByZWI7DQogICAgICAgICAgIHdoaWxlKGw+PTAmJnI8bil7DQogICAgICAgICAgICAgICAgaWYoc1tsXT09c1tyXSYmKGp1ZGdlPT0wfHxqdWRnZT09Mikpew0KICAgICAgICAgICAgICAgICAgICBsZW49ci1sKzE7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGlmKHNbbF0hPXNbcl0pew0KICAgICAgICAgICAgICAgICAgICBpZihqdWRnZT09MCl7DQogICAgICAgICAgICAgICAgICAgICAgICAvL2NvdXQ8PGw8PGVuZGw7DQogICAgICAgICAgICAgICAgICAgICAgICBqdWRnZT0xOw0KICAgICAgICAgICAgICAgICAgICAgICAgcHJlYSA9IHNbbF07DQogICAgICAgICAgICAgICAgICAgICAgICBwcmViID0gc1tyXTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICBlbHNlIGlmKGp1ZGdlPT0xKXsNCiAgICAgICAgICAgICAgICAgICAgICAgLy8gY291dDw8c1tsXTw8IiAiPDxzW3JdPDxlbmRsOw0KICAgICAgICAgICAgICAgICAgICAgICAgaWYoKHByZWE9PXNbbF0mJnByZWI9PXNbcl0pfHwocHJlYT09c1tyXSYmcHJlYj09c1tsXSkpew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxlbj1yLWwrMTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBqdWRnZT0yOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgZWxzZXsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICBlbHNlew0KICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgbC0tOw0KICAgICAgICAgICAgICAgIHIrKzsNCiAgICAgICAgICAgfQ0KICAgICAgICAgICAvL2NvdXQ8PGw8PCIgIjw8cjw8ZW5kbDsNCiAgICAgICAgICAgbWF4bGVuPW1heChtYXhsZW4sbGVuKTsNCiAgICAgICB9DQogICAgICAgcHJpbnRmKCIlZFxuIixtYXhsZW4pOw0KDQogICAgfQ0KICAgIHJldHVybiAwOw0KfQ0K"}]