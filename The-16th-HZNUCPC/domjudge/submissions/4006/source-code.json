[{"id":"4006","submission_id":"4006","filename":"abc.cpp","source":"I2luY2x1ZGUgPGJpdHMvc3RkYysrLmg+DQoNCnVzaW5nIG5hbWVzcGFjZSBzdGQ7DQp1c2luZyBsbCA9IGxvbmcgbG9uZzsNCnVzaW5nIHB0ID0gY29tcGxleDxsb25nIGxvbmc+Ow0KLyoNCiNkZWZpbmUgeCByZWFsKCkNCiNkZWZpbmUgeSBpbWFnKCkNCg0KaW50IHBvaW50X2NvdmVyZWQocHQgYSwgcHQgYikgew0KCWFzc2VydChhICE9IGIpOw0KCWlmIChhLnggPT0gYi54KSB7DQoJCXJldHVybiBhYnMoYS55IC0gYi55KSAtIDE7DQoJfQ0KCWlmIChhLnkgPT0gYi55KSB7DQoJCXJldHVybiBhYnMoYS54IC0gYi54KSAtIDE7DQoJfQ0KCQ0KCXJldHVybiBfX2djZChhYnMoYS55IC0gYi55KSwgYWJzKGEueCAtIGIueCkpIC0gMTsNCn0NCg0KaW50IGNyb3NzKHB0IGEsIHB0IGIpIHsNCglyZXR1cm4gYS54ICogYi55IC0gYS55ICogYi54Ow0KfQ0KDQppbnQgc2FtZV9saW5lKHB0IGEsIHB0IGIsIHB0IGMpIHsNCglyZXR1cm4gY3Jvc3MoYiAtIGEsIGMgLSBhKSA9PSAwOw0KfQ0KKi8NCiNkZWZpbmUgaW50IGxsDQpjb25zdCBpbnQgbWF4biA9IDVlNSArIDU7DQpzdHJ1Y3QgZHN1IHsNCglpbnQgbGlua1ttYXhuXTsNCgl2ZWN0b3I8aW50PiBnb29kW21heG5dLCBiYWRbbWF4bl07DQovLwlpbnQgZ29vZFttYXhuXSwgYmFkW21heG5dOw0KCXZvaWQgaW5pdChpbnQgbikgew0KCQlpb3RhKGxpbmssIGxpbmsgKyBuICsgMSwgMCk7DQovLwkJZmlsbChnb29kLCBnb29kICsgbiArIDEsIDApOw0KLy8JCWZpbGwoYmFkLCBiYWQgKyBuICsgMSwgMCk7DQoJCWZvciAoaW50IGkgPSAwOyBpIDwgbjsgKytpKSB7DQoJCQlnb29kW2ldLmNsZWFyKCk7DQoJCQliYWRbaV0uY2xlYXIoKTsNCgkJfQ0KCX0NCgkNCgl2b2lkIGFwcGVuZCh2ZWN0b3I8aW50PiYgYSwgdmVjdG9yPGludD4mIGIpIHsNCgkJaWYgKGEuc2l6ZSgpIDwgYi5zaXplKCkpIHsNCgkJCXN3YXAoYSwgYik7DQoJCX0NCgkJZm9yIChhdXRvIGMgOiBiKSB7DQoJCQlhLnB1c2hfYmFjayhjKTsNCgkJfQ0KCX0NCgkNCglpbnQgZmluZChpbnQgeCkgew0KCQl3aGlsZSAobGlua1t4XSAhPSB4KSB7DQoJCQl4ID0gbGlua1t4XTsNCgkJfQ0KCQlyZXR1cm4geDsNCgl9DQoJDQoNCglpbnQgbWVyZ2UoaW50IHUsIGludCB2KSB7DQoJCXUgPSBmaW5kKHUpOw0KCQl2ID0gZmluZCh2KTsNCgkJaWYgKHUgPT0gdikgcmV0dXJuIGZhbHNlOw0KLy8JCWdvb2Rbdl0gKz0gZ29vZFt1XTsNCi8vCQliYWRbdl0gKz0gYmFkW3VdOw0KCQlhcHBlbmQoZ29vZFt2XSwgZ29vZFt1XSk7DQoJCWFwcGVuZChiYWRbdl0sIGJhZFt1XSk7DQoJCWxpbmtbdV0gPSB2Ow0KCQlyZXR1cm4gdHJ1ZTsNCgl9CQ0KfSBkczsNCmludCB1c2VkX2NudFttYXhuXTsNCnZvaWQgc29sdmUoKSB7DQoJaW50IG4sIHEsIG07DQoJY2luID4+IG4gPj4gcSA+PiBtOw0KCWRzLmluaXQoMiAqIG4pOw0KCWZvciAoaW50IGkgPSAwOyBpIDwgbjsgKytpKSB7DQoJCWRzLmdvb2RbMiAqIGkgKyAxXS5wdXNoX2JhY2soaSk7DQoJCWRzLmJhZFsyICogaV0ucHVzaF9iYWNrKGkpOw0KCX0NCgl3aGlsZSAobS0tKSB7DQoJCWludCB1LCB2LCB3Ow0KCQljaW4gPj4gdyA+PiB1ID4+IHY7DQoJCXUtLSwgdi0tOw0KCQlpZiAodyA9PSAwKSB7DQoJCQlkcy5tZXJnZSgyICogdSwgMiAqIHYpOw0KCQkJZHMubWVyZ2UoMiAqIHUgKyAxLCAyICogdiArIDEpOw0KCQl9IGVsc2Ugew0KCQkJZHMubWVyZ2UoMiAqIHUsIDIgKiB2ICsgMSk7DQoJCQlkcy5tZXJnZSgyICogdSArIDEsIDIgKiB2KTsNCgkJfQ0KCX0NCgl2ZWN0b3I8dHVwbGU8dmVjdG9yPGludD4sIHZlY3RvcjxpbnQ+Pj4gY2FuZGlkYXRlOw0KCWZvciAoaW50IGkgPSAwOyBpIDwgbjsgKytpKSB7DQoJCWlmIChkcy5maW5kKDIgKiBpKSA9PSBkcy5maW5kKDIgKiBpICsgMSkpIHsNCgkJCWNvdXQgPDwgIk5PXG4iOw0KCQkJcmV0dXJuOw0KCQl9DQoJfQ0KDQoJdmVjdG9yPGludD4gdmlzKDIgKiBuKTsNCglpbnQgcyA9IDA7DQoJZm9yIChpbnQgaSA9IDA7IGkgPCBuOyArK2kpIHsNCgkJaW50IHggPSBkcy5maW5kKDIgKiBpKTsNCgkJaWYgKHZpc1t4XSkgY29udGludWU7DQoJCXZpc1t4XSA9IDE7DQoJCXZpc1tkcy5maW5kKDIgKiBpICsgMSldID0gMTsNCgkJDQovLwkJIGNvdXQgPDwgImdvb2RcbiI7DQovLwkJZm9yIChhdXRvIHggOiBkcy5nb29kW3hdKSB7DQovLwkJCWNvdXQgPDwgeCA8PCAiICI7DQovLwkJfQ0KLy8JCWNvdXQgPDwgIlxuYmFkXG4iOw0KLy8JCWZvciAoYXV0byB4IDogZHMuYmFkW3hdKSB7DQovLwkJCWNvdXQgPDwgeCA8PCAiICI7DQovLwkJfQ0KLy8JCWNvdXQgPDwgIlxuLS0tXG4iOyANCgkJDQoJCWNhbmRpZGF0ZS5wdXNoX2JhY2soe3N0ZDo6bW92ZShkcy5nb29kW3hdKSwgc3RkOjptb3ZlKGRzLmJhZFt4XSl9KTsNCgkNCgkJDQoJfQ0KCQ0KDQoJDQoJbWFwPGludCwgaW50PiBjbnQ7DQoJZm9yIChhdXRvJiBbZ29vZCwgYmFkXSA6IGNhbmRpZGF0ZSkgew0KCQlpZiAoZ29vZC5zaXplKCkgPiBiYWQuc2l6ZSgpKSB7DQoJCQlzd2FwKGdvb2QsIGJhZCk7DQoJCX0NCgkJcyArPSBnb29kLnNpemUoKTsNCgkJaW50IGRpZmYgPSBiYWQuc2l6ZSgpIC0gZ29vZC5zaXplKCk7DQoJCWNudFtkaWZmXSsrOw0KCX0JDQoJDQoJDQoJdmVjdG9yPHBhaXI8aW50LCBpbnQ+PiBzdG9yZTsNCglmb3IgKGludCBkaWZmID0gMTsgZGlmZiA8PSBuOyArK2RpZmYpIHsNCgkJaW50IG51bSA9IGNudFtkaWZmXTsNCgkJaWYgKG51bSA9PSAwKSBjb250aW51ZTsNCi8vCWZvciAoYXV0byBbZGlmZiwgbnVtXSA6IGNudCkgew0KLy8JCWlmIChudW0gPT0gMCkgYw0KLy8JCXZlY3RvcjxpbnQ+IHN0b3JlOw0KCQlpbnQgY3VyID0gMTsNCgkJd2hpbGUgKGN1ciA8IG51bSkgew0KLy8JCQlzdG9yZS5wdXNoX2JhY2soY3VyKTsNCgkJCXN0b3JlLmVtcGxhY2VfYmFjayhkaWZmLCBkaWZmICogY3VyKTsNCgkJCW51bSAtPSBjdXI7DQoJCQljdXIgPDw9IDE7DQoJCX0NCgkJaWYgKG51bSA+IDApIHsNCgkJCXN0b3JlLmVtcGxhY2VfYmFjayhkaWZmLCBkaWZmICogbnVtKTsNCgkJfQ0KCQkNCgl9DQoJDQovLwljb3V0IDw8ICJpbml0ICIgPDwgcyA8PCAiXG4iOw0KCWludCBudW1faXRlbSA9IHN0b3JlLnNpemUoKTsNCi8vCWZvciAoYXV0byBbeCwgeV0gOiBzdG9yZSkgew0KLy8JCWNvdXQgPDwgeCA8PCAiICIgPDwgeSA8PCAiXG4iOw0KLy8JfQ0KCXZlY3Rvcjx2ZWN0b3I8aW50Pj4gZHAobnVtX2l0ZW0gKyAxLCB2ZWN0b3I8aW50PihuICsgMSkpOw0KCWRwWzBdW3NdID0gMTsNCi8vCXZlY3Rvcjx2ZWN0b3I8cGFpcjxpbnQsIGludD4+IHAobnVtX2l0ZW0gKyAxLCB2ZWN0b3I8aW50PihuICsgMSkpOw0KCWZvciAoaW50IGkgPSAwOyBpIDwgbnVtX2l0ZW07ICsraSkgew0KCQlhdXRvIFtncm91cF9zaXplLCB2YWxdID0gc3RvcmVbaV07DQoJCWRwW2kgKyAxXSA9IGRwW2ldOw0KCQlmb3IgKGludCBqID0gdmFsOyBqIDw9IG47ICsraikgew0KCQkJaWYgKGRwW2ldW2ogLSB2YWxdKSB7DQoJCQkJZHBbaSArIDFdW2pdID0gMTsNCi8vCQkJCXBbaV1bal0gPSB7aSwgaiAtIHZhbH07DQoJCQl9DQoJCX0NCgl9DQoJDQoJDQoJaWYgKGRwW251bV9pdGVtXVtxXSA9PSAwKSB7DQoJCWNvdXQgPDwgIk5PXG4iOw0KCQlyZXR1cm47DQoJfQ0KCQ0KCQ0KCWludCBjdXIgPSBxOw0KCWZvciAoaW50IGkgPSBudW1faXRlbSAtIDE7IGkgPj0gMDsgLS1pKSB7DQoJCWF1dG8gW2dyb3VwX3NpemUsIHZhbF0gPSBzdG9yZVtpXTsNCgkJaWYgKGdyb3VwX3NpemUgPT0gMCkgew0KCQkJY29udGludWU7DQoJCX0NCgkJaWYgKGRwW2ldW2N1ciAtIHZhbF0pIHsNCgkJCXVzZWRfY250W2dyb3VwX3NpemVdICs9IHZhbCAvIGdyb3VwX3NpemU7DQoJCQljdXIgLT0gdmFsOw0KLy8JCQljb3V0IDw8ICJ0YWtlICIgPDwgdmFsIDw8ICJcbiI7DQoJCX0gDQoJfQ0KCQ0KCQ0KCQ0KCXZlY3RvcjxpbnQ+IGlzX2dvb2Qobik7DQoJDQoJZm9yIChhdXRvJiBbZ29vZCwgYmFkXSA6IGNhbmRpZGF0ZSkgew0KCQlpbnQgZGlmZiA9IGJhZC5zaXplKCkgLSBnb29kLnNpemUoKTsNCgkJaWYgKHVzZWRfY250W2RpZmZdKSB7DQoJCQl1c2VkX2NudFtkaWZmXS0tOw0KCQkJZm9yIChhdXRvIHggOiBiYWQpIHsNCgkJCQlpc19nb29kW3hdID0gMTsNCgkJCX0NCgkJfSBlbHNlIHsNCgkJCWZvciAoYXV0byB4IDogZ29vZCkgew0KCQkJCWlzX2dvb2RbeF0gPSAxOw0KCQkJfQ0KCQl9DQoJfQ0KDQoJY291dCA8PCAiWUVTXG4iOw0KCWZvciAoaW50IGkgPSAwOyBpIDwgbjsgKytpKSB7DQoJCWlmIChpc19nb29kW2ldKSB7DQoJCQljb3V0IDw8IGkgKyAxPDwgIiAiOw0KCQl9DQoJfQ0KCWNvdXQgPDwgIlxuIjsNCn0NCg0Kc2lnbmVkIG1haW4oKSB7DQoNCglzb2x2ZSgpOw0KCQ0KfQ0KDQoNCi8qDQo0IDIgMg0KMCAzIDQNCjAgMSAyDQoNCjQgMiA0DQoxIDEgMw0KMSAyIDQNCjAgMyA0DQowIDEgMg0KDQoxMyA3IDExDQowIDEgMg0KMCAxIDMNCjAgMSA0DQowIDEgNQ0KMSAxIDYNCjEgMSA3DQowIDggOQ0KMCA4IDEwDQowIDggMTENCjEgMTMgMTINCjEgMTIgMTMNCiov"}]