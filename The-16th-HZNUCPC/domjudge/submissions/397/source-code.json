[{"id":"397","submission_id":"397","filename":"a.cpp","source":"Ly8gI2RlZmluZSBERUJVRw0KI2luY2x1ZGUgPGJpdHMvc3RkYysrLmg+DQojZGVmaW5lIGxsIGxvbmcgbG9uZw0KI2RlZmluZSBpbnQgbG9uZyBsb25nDQoNCnVzaW5nIG5hbWVzcGFjZSBzdGQ7DQpjb25zdCBpbnQgTUFYTiA9IDEwNTsNCnN0cnVjdCBQb2ludCB7DQogICAgaW50IHgsIHk7DQogICAgUG9pbnQoKSB7fQ0KICAgIFBvaW50KGludCBhLCBpbnQgYikgOiB4KGEpLCB5KGIpIHt9DQogICAgUG9pbnQgb3BlcmF0b3IgLSAoUG9pbnQgY29uc3QgJmIpIGNvbnN0IHsNCiAgICAgICAgcmV0dXJuIFBvaW50KHggLSBiLngsIHkgLSBiLnkpOw0KICAgIH0NCiAgICBsbCBvcGVyYXRvciAqIChQb2ludCBjb25zdCAmYikgY29uc3Qgew0KICAgICAgICByZXR1cm4geCAqIGIueSAtIHkgKiBiLng7DQogICAgfQ0KICAgIGludCBnZXRQb2ludEVkZ2UoUG9pbnQgJmIpIHsNCiAgICAgICAgUG9pbnQgYyA9IGIgLSAqdGhpczsNCiAgICAgICAgLy8gY291dCA8PCBfX2djZChhYnMoYy54KSwgYWJzKGMueSkpIC0gMSA8PCBlbmRsOw0KICAgICAgICByZXR1cm4gX19nY2QoYWJzKGMueCksIGFicyhjLnkpKSAtIDE7DQogICAgfQ0KfXBbTUFYTl07DQoNCmxsIGdldEluc2lkZXMoUG9pbnQgJmEsIFBvaW50ICZiLCBQb2ludCAmYykgew0KICAgIGxsIGFyZWEgPSBhYnMoKGIgLSBhKSAqIChjIC0gYSkpIC8gMjsNCiAgICBpZiAoYXJlYSA9PSAwKSByZXR1cm4gMDsNCiAgICBsbCBlZGdlcyA9IGEuZ2V0UG9pbnRFZGdlKGIpICsgYi5nZXRQb2ludEVkZ2UoYykgKyBjLmdldFBvaW50RWRnZShhKSArIDM7DQogICAgcmV0dXJuIGVkZ2VzOw0KICAgIC8vIGNvdXQgPDwgYXJlYSA8PCAnICcgPDwgZWRnZXMgPDwgZW5kbDsNCiAgICAvLyByZXR1cm4gYXJlYSAtIChlZGdlcyAvIDIgLSAxKTsNCn0NCg0Kdm9pZCBzb2x2ZSgpIHsNCiAgICBpbnQgbjsNCiAgICBjaW4gPj4gbjsNCiAgICBmb3IgKGludCBpID0gMDsgaSA8IG47ICsraSkgew0KICAgICAgICBjaW4gPj4gcFtpXS54ID4+IHBbaV0ueSA7DQogICAgfQ0KICAgIGxsIHJlcyA9IDA7DQogICAgZm9yIChpbnQgaSA9IDA7IGkgPCBuOyArK2kpIHsNCiAgICAgICAgZm9yIChpbnQgaiA9IGkgKyAxOyBqIDwgbjsgKytqKSB7DQogICAgICAgICAgICBmb3IgKGludCBrID0gaiArIDE7IGsgPCBuOyArK2spIHsNCiAgICAgICAgICAgICAgICByZXMgPSBtYXgocmVzLCBnZXRJbnNpZGVzKHBbaV0sIHBbal0sIHBba10pKTsNCiAgICAgICAgICAgICAgICAvLyBjb3V0IDw8ICI9PT09PT09PT09PT0iIDw8IGVuZGw7DQogICAgICAgICAgICAgICAgLy8gaW50IHRlbXAgPSBnZXRJbnNpZGVzKHBbaV0sIHBbal0sIHBba10pOw0KICAgICAgICAgICAgICAgIC8vIGNvdXQgPDwgaSA8PCAnICcgPDwgaiA8PCAnICcgPDwgayA8PCAiOiIgPDwgdGVtcCA8PCBlbmRsOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgfQ0KICAgIGNvdXQgPDwgcmVzIDw8IGVuZGw7DQp9DQoNCnNpZ25lZCBtYWluKHZvaWQpIHsNCiNpZmRlZiBERUJVRw0KICAgIGZyZW9wZW4oImEuaW4iLCAiciIsIHN0ZGluKTsNCiAgICBmcmVvcGVuKCJhLm91dCIsICJ3Iiwgc3Rkb3V0KTsNCiAgICBhdXRvIG5vdyA9IGNsb2NrKCk7DQojZW5kaWYNCiAgICBpb3M6OnN5bmNfd2l0aF9zdGRpbyhmYWxzZSk7IGNpbi50aWUoMCk7IGNvdXQudGllKDApOw0KICAgIGNvdXQgPDwgZml4ZWQgPDwgc2V0cHJlY2lzaW9uKDYpOw0KICAgIHNvbHZlKCk7DQojaWZkZWYgREVCVUcNCiAgICBjZXJyIDw8IGRvdWJsZShjbG9jaygpIC0gbm93KSAvIChkb3VibGUpQ0xPQ0tTX1BFUl9TRUMgKiAxMDAwIDw8ICIgbXMuIiA8PCBlbmRsOw0KI2VuZGlmDQogICAgcmV0dXJuIDA7DQp9"}]