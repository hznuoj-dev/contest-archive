[{"id":"1278","submission_id":"1278","filename":"a.cpp","source":"I2luY2x1ZGU8Yml0cy9zdGRjKysuaD4NCg0KI2RlZmluZSBsbCBsb25nIGxvbmcNCg0KdXNpbmcgbmFtZXNwYWNlIHN0ZDsNCg0KaW50IGRpcls0XVsyXT17ezEsMH0sey0xLDB9LHswLDF9LHswLC0xfX07DQppbnQgc1syNV1bMjVdOw0KYm9vbCB2aXNbMjVdWzI1XTsNCg0KaW50IGRmczEoaW50IHgsaW50IHkpew0KCWludCBhbnM9MDsNCgl2aXNbeF1beV09MTsNCglmb3IoaW50IGk9MDtpPDQ7aSsrKQ0KCXsNCgkJaW50IHR4PWRpcltpXVswXSt4Ow0KCQlpbnQgdHk9ZGlyW2ldWzFdK3k7DQoJCWlmKHR4Pj0xJiZ0eDw9MTkmJnR5Pj0xJiZ0eTw9MTkpDQoJCXsNCgkJCWlmKHNbdHhdW3R5XT09MCkNCgkJCXsNCgkJCQlhbnMrKzsNCgkJCX0NCgkJCWVsc2UgaWYoc1t0eF1bdHldPT0xJiZ2aXNbdHhdW3R5XT09MCkNCgkJCXsNCgkJCQlhbnMrPWRmczEodHgsdHkpOw0KCQkJfQ0KCQl9DQoJfQ0KCXJldHVybiBhbnM7DQp9DQppbnQgZGZzMihpbnQgeCxpbnQgeSl7DQoJaW50IGFucz0wOw0KCXZpc1t4XVt5XT0xOw0KCWZvcihpbnQgaT0wO2k8NDtpKyspDQoJew0KCQlpbnQgdHg9ZGlyW2ldWzBdK3g7DQoJCWludCB0eT1kaXJbaV1bMV0reTsNCgkJaWYodHg+PTEmJnR4PD0xOSYmdHk+PTEmJnR5PD0xOSkNCgkJew0KCQkJaWYoc1t0eF1bdHldPT0wKQ0KCQkJew0KCQkJCWFucysrOw0KCQkJfQ0KCQkJZWxzZSBpZihzW3R4XVt0eV09PTImJnZpc1t0eF1bdHldPT0wKQ0KCQkJew0KCQkJCWFucys9ZGZzMih0eCx0eSk7DQoJCQl9DQoJCX0NCgl9DQoJcmV0dXJuIGFuczsNCn0NCg0Kdm9pZCBnb25lMShpbnQgeCxpbnQgeSl7DQoJc1t4XVt5XT0wOw0KCWZvcihpbnQgaT0wO2k8NDtpKyspDQoJew0KCQlpbnQgdHg9ZGlyW2ldWzBdK3g7DQoJCWludCB0eT1kaXJbaV1bMV0reTsNCgkJaWYodHg+PTEmJnR4PD0xOSYmdHk+PTEmJnR5PD0xOSkNCgkJew0KCQkJaWYoc1t0eF1bdHldPT0xKQ0KCQkJew0KCQkJCWdvbmUxKHR4LHR5KTsNCgkJCX0NCgkJfQ0KCX0NCglyZXR1cm4gOw0KfQ0KDQp2b2lkIGdvbmUyKGludCB4LGludCB5KXsNCglzW3hdW3ldPTA7DQoJZm9yKGludCBpPTA7aTw0O2krKykNCgl7DQoJCWludCB0eD1kaXJbaV1bMF0reDsNCgkJaW50IHR5PWRpcltpXVsxXSt5Ow0KCQlpZih0eD49MSYmdHg8PTE5JiZ0eT49MSYmdHk8PTE5KQ0KCQl7DQoJCQlpZihzW3R4XVt0eV09PTIpDQoJCQl7DQoJCQkJZ29uZTIodHgsdHkpOw0KCQkJfQ0KCQl9DQoJfQ0KCXJldHVybiA7DQp9DQoNCmludCBtYWluKCkNCnsNCglpbnQgVDsNCgl3aGlsZSh+c2NhbmYoIiVkIiwmVCkpDQoJew0KCQl3aGlsZShULS0pDQoJCXsNCgkJCW1lbXNldCh2aXMsMCxzaXplb2YodmlzKSk7DQoJCQltZW1zZXQocywwLHNpemVvZihzKSk7DQoJCQlpbnQgbjsNCgkJCWludCByZXM9MDsNCgkJCXNjYW5mKCIlZCIsJm4pOw0KCQkJZm9yKGludCBpPTA7aTxuO2krKykNCgkJCXsNCgkJCQlpbnQgeCx5LHo7DQoJCQkJc2NhbmYoIiVkICVkICVkIiwmeCwmeSwmeik7DQoJCQkJaWYoc1t4XVt5XSE9MCkNCgkJCQl7DQoJCQkJCWNvbnRpbnVlOw0KCQkJCX0NCgkJCQlpZih6PT0xKQ0KCQkJCXsNCgkJCQkJYm9vbCBrZXk9dHJ1ZTsNCgkJCQkJaW50IHN1bT0wOw0KCQkJCQltZW1zZXQodmlzLDAsc2l6ZW9mKHZpcykpOw0KCQkJCQlmb3IoaW50IGo9MDtqPDQ7aisrKQ0KCQkJCQl7DQoJCQkJCQlpbnQgdHg9eCtkaXJbal1bMF07DQoJCQkJCQlpbnQgdHk9eStkaXJbal1bMV07DQoJCQkJCQlpZih0eD49MSYmdHg8PTE5JiZ0eT49MSYmdHk8PTE5KQ0KCQkJCQkJew0KCQkJCQkJCWlmKHNbdHhdW3R5XT09MiYmdmlzW3R4XVt0eV09PTApDQoJCQkJCQkJew0KCQkJCQkJCQlpZihkZnMyKHR4LHR5KT09MCkNCgkJCQkJCQkJew0KCQkJCQkJCQkJZ29uZTIodHgsdHkpOw0KCQkJCQkJCQl9DQoJCQkJCQkJfQ0KCQkJCQkJfQ0KCQkJCQl9DQovLwkJCQkJbWVtc2V0KHZpcywwLHNpemVvZih2aXMpKTsNCgkJCQkJZm9yKGludCBqPTA7ajw0O2orKykNCgkJCQkJew0KCQkJCQkJaW50IHR4PXgrZGlyW2pdWzBdOw0KCQkJCQkJaW50IHR5PXkrZGlyW2pdWzFdOw0KCQkJCQkJaWYodHg+PTEmJnR4PD0xOSYmdHk+PTEmJnR5PD0xOSkNCgkJCQkJCXsNCgkJCQkJCQlpZihzW3R4XVt0eV09PTApDQoJCQkJCQkJew0KCQkJCQkJCQlzdW0rKzsNCgkJCQkJCQl9DQoJCQkJCQkJZWxzZSBpZihzW3R4XVt0eV09PTEmJnZpc1t0eF1bdHldPT0wKQ0KCQkJCQkJCXsNCgkJCQkJCQkJaW50IGs9ZGZzMSh0eCx0eSk7DQoJCQkJCQkJCWlmKGs9PTEpDQoJCQkJCQkJCXsNCgkJCQkJCQkJCWtleT1mYWxzZTsNCgkJCQkJCQkJCWJyZWFrOw0KCQkJCQkJCQl9DQoJCQkJCQkJCWVsc2UNCgkJCQkJCQkJew0KCQkJCQkJCQkJc3VtKz1rLTE7DQoJCQkJCQkJCX0NCgkJCQkJCQl9DQoJCQkJCQl9DQoJCQkJCX0NCgkJCQkJaWYoa2V5PT1mYWxzZXx8c3VtPT0wKQ0KCQkJCQl7DQoJCQkJCQlzW3hdW3ldPTA7DQoJCQkJCX0NCgkJCQkJZWxzZQ0KCQkJCQl7DQoJCQkJCQlzW3hdW3ldPXo7DQoJCQkJCX0NCgkJCQl9DQoJCQkJZWxzZSBpZih6PT0yKQ0KCQkJCXsNCgkJCQkJYm9vbCBrZXk9dHJ1ZTsNCgkJCQkJaW50IHN1bT0wOw0KCQkJCQltZW1zZXQodmlzLDAsc2l6ZW9mKHZpcykpOw0KCQkJCQlmb3IoaW50IGo9MDtqPDQ7aisrKQ0KCQkJCQl7DQoJCQkJCQlpbnQgdHg9eCtkaXJbal1bMF07DQoJCQkJCQlpbnQgdHk9eStkaXJbal1bMV07DQoJCQkJCQlpZih0eD49MSYmdHg8PTE5JiZ0eT49MSYmdHk8PTE5KQ0KCQkJCQkJew0KCQkJCQkJCWlmKHNbdHhdW3R5XT09MSYmdmlzW3R4XVt0eV09PTApDQoJCQkJCQkJew0KCQkJCQkJCQlpZihkZnMxKHR4LHR5KT09MCkNCgkJCQkJCQkJew0KCQkJCQkJCQkJZ29uZTEodHgsdHkpOw0KCQkJCQkJCQl9DQoJCQkJCQkJfQ0KCQkJCQkJfQ0KCQkJCQl9DQovLwkJCQkJbWVtc2V0KHZpcywwLHNpemVvZih2aXMpKTsNCgkJCQkJZm9yKGludCBqPTA7ajw0O2orKykNCgkJCQkJew0KCQkJCQkJaW50IHR4PXgrZGlyW2pdWzBdOw0KCQkJCQkJaW50IHR5PXkrZGlyW2pdWzFdOw0KCQkJCQkJaWYodHg+PTEmJnR4PD0xOSYmdHk+PTEmJnR5PD0xOSkNCgkJCQkJCXsNCgkJCQkJCQlpZihzW3R4XVt0eV09PTApDQoJCQkJCQkJew0KCQkJCQkJCQlzdW0rKzsNCgkJCQkJCQl9DQoJCQkJCQkJZWxzZSBpZihzW3R4XVt0eV09PTImJnZpc1t0eF1bdHldPT0wKQ0KCQkJCQkJCXsNCgkJCQkJCQkJaW50IGs9ZGZzMih0eCx0eSk7DQoJCQkJCQkJCWlmKGs9PTEpDQoJCQkJCQkJCXsNCgkJCQkJCQkJCWtleT1mYWxzZTsNCgkJCQkJCQkJCWJyZWFrOw0KCQkJCQkJCQl9DQoJCQkJCQkJCWVsc2UNCgkJCQkJCQkJew0KCQkJCQkJCQkJc3VtKz1rLTE7DQoJCQkJCQkJCX0NCgkJCQkJCQl9DQoJCQkJCQl9DQoJCQkJCX0NCgkJCQkJaWYoa2V5PT1mYWxzZXx8c3VtPT0wKQ0KCQkJCQl7DQoJCQkJCQlzW3hdW3ldPTA7DQoJCQkJCX0NCgkJCQkJZWxzZQ0KCQkJCQl7DQoJCQkJCQlzW3hdW3ldPXo7DQoJCQkJCX0NCgkJCQl9DQoJCQl9DQoJCQlmb3IoaW50IGk9MTtpPD0xOTtpKyspDQoJCQl7DQoJCQkJZm9yKGludCBqPTE7ajw9MTk7aisrKQ0KCQkJCXsNCgkJCQkJaWYoc1tpXVtqXT09MiYmdmlzW2ldW2pdPT0wKQ0KCQkJCQl7DQoJCQkJCQlpZihkZnMyKGksaik9PTApDQoJCQkJCQl7DQoJCQkJCQkJZ29uZTIoaSxqKTsNCgkJCQkJCX0NCgkJCQkJfQ0KCQkJCX0NCgkJCX0NCgkJCW1lbXNldCh2aXMsMCxzaXplb2YodmlzKSk7DQoJCQlmb3IoaW50IGk9MTtpPD0xOTtpKyspDQoJCQl7DQoJCQkJZm9yKGludCBqPTE7ajw9MTk7aisrKQ0KCQkJCXsNCgkJCQkJaWYoc1tpXVtqXT09MSYmdmlzW2ldW2pdPT0wKQ0KCQkJCQl7DQoJCQkJCQlyZXMrPWRmczEoaSxqKTsNCgkJCQkJfQ0KCQkJCX0NCgkJCX0NCgkJCXByaW50ZigiJWRcbiIscmVzKTsNCi8vCQkJZm9yKGludCBpPTE7aTw9MTk7aSsrKQ0KLy8JCQl7DQovLwkJCQlmb3IoaW50IGo9MTtqPD0xOTtqKyspDQovLwkJCQl7DQovLwkJCQkJY291dDw8c1tpXVtqXTw8IiAiOw0KLy8JCQkJfQ0KLy8JCQkJY291dDw8ZW5kbDsNCi8vCQkJfQ0KCQl9DQoJfQ0KCXJldHVybiAwOw0KfQ0K"}]