[{"id":"4087","submission_id":"4087","filename":"A.cpp","source":"I2luY2x1ZGU8Yml0cy9zdGRjKysuaD4NCnVzaW5nIG5hbWVzcGFjZSBzdGQ7DQoNCiNkZWZpbmUgaW50IGxvbmcgbG9uZw0KDQpjb25zdCBpbnQgTiA9IDJlNSArMTAsIGluZiA9IDFlMTcsIG1vZCA9IDFlOSArNzsNCg0KaW50IG4sIG0sIGssIHgsIHksIGFbTl0sIGJbTl07DQpjaGFyIHNbTl0sIHBbTl07DQoNCmludCBzdFtOXTsNCnZlY3RvcjxpbnQ+RzFbTl0sRzJbTl07DQoNCmludCBkZnMoaW50IHUsaW50IHYsaW50IHcpew0KICAgIHN0W3VdPXc7DQogICAgZm9yKGludCBpOkcxW3VdKXsNCiAgICAgICAgaWYoc3RbaV0hPTApew0KICAgICAgICAgICAgaWYoc3RbaV0hPTEtdyl7DQogICAgICAgICAgICAgICAgcmV0dXJuIDA7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBjb250aW51ZTsNCiAgICAgICAgfQ0KICAgICAgICByZXR1cm4gZGZzKGksdSx3PT0xPzA6MSk7DQogICAgfQ0KICAgIGZvcihpbnQgaTpHMlt1XSl7DQogICAgICAgIGlmKHN0W2ldIT0wKXsNCiAgICAgICAgICAgIGlmKHN0W2ldIT13KXsNCiAgICAgICAgICAgICAgICByZXR1cm4gMDsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGNvbnRpbnVlOw0KICAgICAgICB9DQogICAgICAgIHJldHVybiBkZnMoaSx1LHc9PTE/MTowKTsNCiAgICB9DQp9DQoNCmludCBvayhpbnQgeCxpbnQgeSl7DQogICAgcXVldWU8aW50PnE7DQogICAgcS5wdXNoKHkpOw0KICAgIHdoaWxlKHEuc2l6ZSgpKXsNCiAgICAgICAgaW50IHQ9cS5mcm9udCgpOw0KICAgICAgICBxLnBvcCgpOw0KICAgICAgICBmb3IoaW50IGk6RzFbdF0pew0KICAgICAgICAgICAgaWYoc3RbaV0hPTApew0KICAgICAgICAgICAgICAgIHN0W2ldPTA7DQogICAgICAgICAgICAgICAgcS5wdXNoKGkpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIGZvcihpbnQgaTpHMlt0XSl7DQogICAgICAgICAgICBpZihzdFtpXSE9MCl7DQogICAgICAgICAgICAgICAgc3RbaV09MDsNCiAgICAgICAgICAgICAgICBxLnB1c2goaSk7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICB9DQogICAgc3RbeV09eDsNCiAgICByZXR1cm4gZGZzKHksMCx4KTsNCn0NCnZvaWQgcnVuKCl7DQogICAgY2luPj5uPj5tOw0KICAgIGZvcihpbnQgaT0xO2k8PW07aSsrKXsNCiAgICAgICAgY2luPj5rPj54Pj55Ow0KICAgICAgICBpZihrPT0xKXsNCiAgICAgICAgICAgIEcxW3hdLnB1c2hfYmFjayh5KTsNCiAgICAgICAgfQ0KICAgICAgICBlbHNlew0KICAgICAgICAgICAgRzJbeF0ucHVzaF9iYWNrKHkpOw0KICAgICAgICB9DQogICAgfQ0KDQogICAgZm9yKGludCBpPTE7aTw9bjtpKyspew0KICAgICAgICBpZihzdFtpXSljb250aW51ZTsNCiAgICAgICAgaWYob2soMSxpKSl7DQoNCiAgICAgICAgICAgIGNvbnRpbnVlOw0KICAgICAgICB9DQogICAgICAgIGVsc2UgaWYob2soMCxpKSl7DQoNCiAgICAgICAgICAgIGNvbnRpbnVlOw0KICAgICAgICB9DQogICAgICAgIGNvdXQ8PCJOT1xuIjsNCiAgICAgICAgICAgIHJldHVybjsNCiAgICB9DQogICAgY291dDw8IllFU1xuIjsNCiAgICBmb3IoaW50IGk9MTtpPD1uO2krKyl7DQogICAgICAgIGlmKHN0W2ldPT0yKXsNCiAgICAgICAgICAgIGNvdXQ8PGk8PCIgXG4iW2k9PW5dOw0KICAgICAgICB9DQogICAgfQ0KfQ0KDQpzaWduZWQgbWFpbigpew0KICAgIGlvc19iYXNlOjpzeW5jX3dpdGhfc3RkaW8oMCk7DQogICAgY2luLnRpZSgwKSxjb3V0LnRpZSgwKTsNCiAgICBpbnQgVDsNCiAgICAvL2ZvcihjaW4+PlQ7VD4wO1QtLSkNCiAgICBydW4oKTtyZXR1cm4gMDsNCn0NCi8vdU04WjB1d1dzWjJPDQo="}]