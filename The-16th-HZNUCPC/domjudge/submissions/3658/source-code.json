[{"id":"3658","submission_id":"3658","filename":"Bnew.cpp","source":"I2luY2x1ZGU8Yml0cy9zdGRjKysuaD4NCiNkZWZpbmUgaW50IF9faW50MTI4DQojZGVmaW5lIGxpIGxvbmcgbG9uZw0KdXNpbmcgbmFtZXNwYWNlIHN0ZDsNCmlubGluZSBpbnQgcmVhZCgpew0KCWludCB4PTAsZj0xO2NoYXIgYz1nZXRjaGFyKCk7DQoJd2hpbGUoIWlzZGlnaXQoYykpIHsNCgkJaWYoYz09Jy0nKSBmPS0xO2M9Z2V0Y2hhcigpOw0KCX0NCgl3aGlsZShpc2RpZ2l0KGMpKXsNCgkJeD14KjEwK2MtJzAnO2M9Z2V0Y2hhcigpOw0KCX0NCglyZXR1cm4geCpmOw0KfQ0KY29uc3QgaW50IE49MmU1KzUsbW9kPShpbnQpKDFlOSs3KSo5OTgyNDQzNTM7DQppbnQgdCxuLHRvcCxiW05dOw0KaW50IGM9MTMxLHBbTl0saHhbTl0saHlbTl0saHgyW05dLGh5MltOXSxoM1tOXSxpbmY9MWUxODsNCmRvdWJsZSBwaT1hY29zKC0xKTsNCm1hcDxhcnJheTxpbnQsNT4saW50Pm1wOw0Kc3RydWN0IFB7DQoJaW50IHgseTsNCglQIG9wZXJhdG9yLShQIGEpe3JldHVybiB7eC1hLngseS1hLnl9O30NCglpbnQgb3BlcmF0b3JeKFAgYSl7cmV0dXJuIHgqYS54K3kqYS55O30NCglpbnQgb3BlcmF0b3IqKFAgYSl7cmV0dXJuIHgqYS55LXkqYS54O30NCglpbnQgbGVuMigpe3JldHVybiB4KngreSp5O30NCglmcmllbmQgZG91YmxlIHJhZChQIGEsUCBiKXtyZXR1cm4gYXRhbjIoYSpiLGFeYik7fQ0KfWFbTl0sc1tOXTsNCmludCBxcnkoaW50ICpoLGludCBsLGludCByKXsNCglyZXR1cm4gKGhbcl0taFtsLTFdKnBbci1sKzFdJW1vZCttb2QpJW1vZDsNCn0NCnZvaWQgQ29udmV4KFAgKmEsaW50IG4sUCAqcyxpbnQgJnRvcCl7DQoJc29ydChhKzEsYSsxK24sW10oUCB4LFAgeSl7cmV0dXJuIHgueF55Lng/eC54PHkueDp4Lnk8eS55O30pOw0KCXRvcD0wOw0KCWZvcihpbnQgaT0xO2k8PW47aSsrKXsNCgkJd2hpbGUodG9wPjEmJihhW2ldLXNbdG9wLTFdKSooc1t0b3BdLXNbdG9wLTFdKT49MCkgdG9wLS07DQoJCXNbKyt0b3BdPWFbaV07DQoJfQ0KCWZvcihpbnQgdG1wPXRvcCxpPW4tMTtpPj0xO2ktLSl7DQoJCXdoaWxlKHRvcD50bXAmJihhW2ldLXNbdG9wLTFdKSooc1t0b3BdLXNbdG9wLTFdKT49MCkgdG9wLS07DQoJCXNbKyt0b3BdPWFbaV07DQoJfQ0KCWlmKG4+MSkgdG9wLS07DQp9DQpzaWduZWQgbWFpbigpew0KCS8vZnJlb3BlbigidGVzdC5pbiIsInIiLHN0ZGluKTsNCgl0PXJlYWQoKSxwWzBdPTE7DQoJZm9yKGludCBpPTE7aTxOO2krKykgcFtpXT1wW2ktMV0qYyVtb2Q7DQoJd2hpbGUodC0tKXsNCgkJbj1yZWFkKCk7DQoJCWZvcihpbnQgaT0xO2k8PW47aSsrKSBhW2ldLng9cmVhZCgpLGFbaV0ueT1yZWFkKCk7DQoJCUNvbnZleChhLG4scyx0b3ApOw0KCQkvL2ZvcihpbnQgaT0xO2k8PXRvcDtpKyspIGNvdXQ8PCJjb252OiAiPDwobGkpc1tpXS54PDwiICI8PChsaSlzW2ldLnk8PGVuZGw7DQoJCWFycmF5PGludCw1Pm1uPXtpbmYsaW5mLGluZixpbmYsaW5mfTsNCgkJZm9yKGludCBvPTA7bzwyO28rKyl7DQoJCQkvL2hhc2ggYW5nbGUNCgkJCWludCBnPTA7DQoJCQlmb3IoaW50IGk9MTtpPD10b3A7aSsrKXsNCgkJCQlQIHg9c1tpPjE/aS0xOnRvcF0tc1tpXSx5PXNbaTx0b3A/aSsxOjFdLXNbaV07DQoJCQkJYVtpXT17KHgqeSkqKHgqeSkseC5sZW4yKCkqeS5sZW4yKCl9Ow0KCQkJCS8vY291dDw8Im92bzE6ICI8PChsaSlhW2ldLng8PCIgIjw8KGxpKWFbaV0ueTw8ZW5kbDsNCgkJCQlnPV9fZ2NkKGFbaV0ueCxhW2ldLnkpOw0KCQkJCWFbaV0ueC89ZyxhW2ldLnkvPWc7DQoJCQkJLy9nPV9fZ2NkKGcsYVtpXS54KSxnPV9fZ2NkKGcsYVtpXS55KTsNCgkJCQkvL2NvdXQ8PCJxd3E6ICI8PHgueDw8IiAiPDx4Lnk8PCIgIjw8eS54PDwiICI8PHkueTw8ZW5kbDsNCgkJCQkvL2NvdXQ8PCJsZW4yOiAiPDwobGkpeC5sZW4yKCk8PCIgIjw8KGxpKXkubGVuMigpPDxlbmRsOw0KCQkJCS8vY291dDw8Im92bzI6ICI8PChsaSlhW2ldLng8PCIgIjw8KGxpKWFbaV0ueTw8ZW5kbDsNCgkJCX0NCgkJCWZvcihpbnQgaT0xO2k8PXRvcDtpKyspIGFbaSt0b3BdPWFbaV07DQoJCQlmb3IoaW50IGk9MTtpPD10b3ArdG9wO2krKykNCgkJCQloeFtpXT0oaHhbaS0xXSpjJW1vZCthW2ldLngpJW1vZCxoeVtpXT0oaHlbaS0xXSpjJW1vZCthW2ldLnkpJW1vZDsNCgkJCS8vaGFzaCBsZW4NCgkJCWc9MDsNCgkJCWludCBtbmxlbj0xZTE4Ow0KCQkJZm9yKGludCBpPTE7aTw9dG9wO2krKykgbW5sZW49bWluKG1ubGVuLChzW2k8dG9wP2krMToxXS1zW2ldKS5sZW4yKCkpOw0KCQkJZm9yKGludCBpPTE7aTw9dG9wO2krKyl7DQoJCQkJYVtpXT17KHNbaTx0b3A/aSsxOjFdLXNbaV0pLmxlbjIoKSxtbmxlbn07DQoJCQkJZz1fX2djZChnLGFbaV0ueCksZz1fX2djZChnLGFbaV0ueSk7DQoJCQl9DQoJCQlmb3IoaW50IGk9MTtpPD10b3A7aSsrKQ0KCQkJCWFbaV0ueC89ZyxhW2ldLnkvPWcsYVtpK3RvcF09YVtpXTsNCgkJCWZvcihpbnQgaT0xO2k8PXRvcCt0b3A7aSsrKQ0KCQkJCWh4MltpXT0oaHgyW2ktMV0qYyVtb2QrYVtpXS54KSVtb2QsaHkyW2ldPShoeTJbaS0xXSpjJW1vZCthW2ldLnkpJW1vZDsNCgkJCS8vaGFzaCB4aWFuZyB4aWFuDQoJCQlmb3IoaW50IGk9MTtpPD10b3A7aSsrKXsNCgkJCQlQIHg9c1tpPjE/aS0xOnRvcF0tc1tpXSx5PXNbaTx0b3A/aSsxOjFdLXNbaV07DQoJCQkJYltpXT1yYWQoeCx5KTw9cGkvMj8xOjIsYltpK3RvcF09YltpXTsNCgkJCX0NCgkJCWZvcihpbnQgaT0xO2k8PXRvcCt0b3A7aSsrKQ0KCQkJCWgzW2ldPShoM1tpLTFdKmMlbW9kK2JbaV0pJW1vZDsNCgkJCWZvcihpbnQgaT0xO2k8dG9wO2krKyl7DQoJCQkJaW50IGo9aSt0b3AtMTsNCgkJCQltbj1taW4obW4sYXJyYXk8aW50LDU+e3FyeShoeCxpLGopLHFyeShoeSxpLGopLHFyeShoeDIsaSxqKSxxcnkoaHkyLGksaikscXJ5KGgzLGksail9KTsNCgkJCX0NCgkJCXJldmVyc2UocysxLHMrMSt0b3ApOw0KCQl9DQoJCS8vZm9yKGludCBpPTA7aTw1O2krKykgY291dDw8KGxvbmcgbG9uZyltbltpXTw8IiAiOyBwdXRzKCIiKTsNCgkJcHJpbnRmKCIlbGxkXG4iLChsb25nIGxvbmcpbXBbbW5dKTsNCgkJbXBbbW5dKys7DQoJfQ0KCXJldHVybiAwOw0KfQ=="}]