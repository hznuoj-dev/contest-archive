[{"id":"2975","submission_id":"2975","filename":"Untitled3.cpp","source":"I2luY2x1ZGU8Yml0cy9zdGRjKysuaD4NCnVzaW5nIG5hbWVzcGFjZSBzdGQ7DQpjb25zdCBpbnQgTiA9IDJlNSArIDEwMDsNCmludCBuLG0scTsNCmludCBmYVtOXSxzeltOXTsNCmludCBmb3VuZChpbnQgeCkNCnsNCglpZih4ID09IGZhW3hdKXJldHVybiB4Ow0KCWVsc2UgcmV0dXJuIGZhW3hdID0gZm91bmQoZmFbeF0pOw0KfQ0Kdm9pZCB1bml0eShpbnQgeCxpbnQgeSkNCnsNCi8vCWNvdXQgPDwnICc8PCB4IDw8ICcgJyA8PCB5IDw8ICdcbic7DQoJeCA9IGZvdW5kKHgpOw0KCXkgPSBmb3VuZCh5KTsNCglpZih4ID09IHkpcmV0dXJuOw0KCWlmKHN6W3hdID4gc3pbeV0pc3dhcCh4LHkpOy8veSBkYQ0KCWZhW3hdID0geTsNCglzelt5XSArPSBzelt4XTsNCn0NCmludCBoYW8oaW50IHgpDQp7DQoJcmV0dXJuIHggKiAyIC0gMTsNCn0NCmludCBodWFpKGludCB4KQ0Kew0KCXJldHVybiB4ICogMjsNCn0NCmludCBnZXR5dWFuKGludCB4KQ0Kew0KCWlmKHggJiAxKXJldHVybiB4IC8gMiArIDE7DQoJZWxzZSByZXR1cm4geCAvIDI7DQp9DQppbnQgdmlzW05dOw0Kc3RydWN0IEF7DQoJaW50IGEsYjsNCglpbnQgaWQ7DQp9dFtOXTsNCi8vaW50IGFbTl0sYltOXTsNCnZlY3RvcjxpbnQ+IGJlbG9uZ1tOXTsNCmludCBkcFtOXSx0bXBbMl1bTl07DQpwYWlyPGludCxpbnQ+IHFpYW5bTl0sdG1wcWlhblsyXVtOXTsNCmludCBwcmVbTl0sc3VmW05dOw0Kc2lnbmVkIG1haW4oKQ0Kew0KCXNjYW5mKCIlZCVkJWQiLCZuLCZxLCZtKTsNCglmb3IoaW50IGkgPSAxOyBpIDw9IDIgKiBuOyArK2kpew0KCQlmYVtpXSA9IGk7DQoJCXN6W2ldID0gMTsNCgl9DQoJZm9yKGludCBpID0gMTsgaSA8PSBtOyArK2kpew0KCQlpbnQgayxhLGI7DQoJCXNjYW5mKCIlZCVkJWQiLCZrLCZhLCZiKTsNCgkJaWYoayA9PSAwKXsNCgkJCXVuaXR5KGhhbyhhKSxoYW8oYikpOw0KCQkJdW5pdHkoaHVhaShhKSxodWFpKGIpKTsNCgkJfWVsc2V7DQoJCQl1bml0eShodWFpKGEpLGhhbyhiKSk7DQoJCQl1bml0eShoYW8oYSksaHVhaShiKSk7DQoJCX0NCgl9DQoJDQoJaW50IGNudCA9IDA7DQoJZm9yKGludCBpID0gMTsgaSA8PSBuOyArK2kpew0KCQlpZihmb3VuZChoYW8oaSkpID09IGZvdW5kKGh1YWkoaSkpKXsNCi8vCQkJY291dCA8PCIhXG4iOw0KCQkJcHJpbnRmKCJOT1xuIik7DQoJCQlyZXR1cm4gMDsNCgkJfQ0KCX0NCglmb3IoaW50IGkgPSAxOyBpIDw9IDIgKiBuOyArK2kpew0KLy8JCWNvdXQgPDwgZm91bmQoaSkgPDwgJyAnIDw8IGkgPDwgJ1xuJzsNCgkJYmVsb25nW2ZvdW5kKGkpXS5wdXNoX2JhY2soaSk7DQoJfQ0KCWZvcihpbnQgaSA9IDE7IGkgPD0gMiAqIG47ICsraSl7DQoJCWlmKGJlbG9uZ1tpXS5lbXB0eSgpKWNvbnRpbnVlOw0KCQlpbnQgaGFvY250ID0gMCxodWFpY250ID0gMDsNCgkJaWYodmlzW2dldHl1YW4oYmVsb25nW2ldLmJhY2soKSldKWNvbnRpbnVlOw0KCQlmb3IoYXV0byAmIHggOiBiZWxvbmdbaV0pew0KCQkJaWYoeCAmIDEpaGFvY250Kys7DQoJCQllbHNlIGh1YWljbnQrKzsNCgkJCXZpc1tnZXR5dWFuKHgpXSA9IDE7DQoJCX0NCgkJdFsrK2NudF0uYSA9IGhhb2NudDsNCgkJdFtjbnRdLmIgPSBodWFpY250Ow0KCQl0W2NudF0uaWQgPSBpOw0KCX0NCglzb3J0KHQgKyAxLHQgKyBjbnQgKyAxLFtdKEEgJngsQSAmeSl7DQoJCXJldHVybiB4LmEgKyB4LmIgPCB5LmEgKyB5LmI7DQoJfSk7DQoJZm9yKGludCBpID0gMTsgaSA8PSBjbnQ7ICsraSl7DQoJCXByZVtpXSA9IHByZVtpIC0gMV0gKyBtYXgodFtpXS5hLHRbaV0uYik7DQoJfQ0KCWZvcihpbnQgaSA9IGNudDsgaSA+PSAxOyAtLWkpew0KCQlzdWZbaV0gPSBzdWZbaSArIDFdICsgbWF4KHRbaV0uYSx0W2ldLmIpOw0KCX0NCi8vCWNvdXQgPDwgY250IDw8ICJjbnRcbiI7DQovLwljb3V0IDw8IHRbMV0uYSA8PCAnICcgPDx0WzFdLmIgPDwgJ1xuJzsNCglkcFswXSA9IDE7DQoJZm9yKGludCBpID0gMTsgaSA8PSBjbnQ7ICsraSl7DQoJCWludCBsID0gbWF4KHEgLSBzdWZbaSArIDFdLDApLHIgPSBtaW4ocHJlW2ldLHEpOw0KLy8JCWNvdXQgPDwgbCA8PCAnICcgPDwgciA8PCAnXG4nOw0KCQlmb3IoaW50IGogPSByOyBqID49IGw7IC0tail7DQoJCQlpZihqIC0gdFtpXS5hID49IDAgJiYgZHBbaiAtIHRbaV0uYV0pdG1wWzBdW2pdID0gMSx0bXBxaWFuWzBdW2pdID0ge2ogLSB0W2ldLmEsaX07DQoJCQllbHNlIHRtcFswXVtqXSA9IDA7DQoJCQlpZihqIC0gdFtpXS5iID49IDAgJiYgZHBbaiAtIHRbaV0uYl0pdG1wWzFdW2pdID0gMSx0bXBxaWFuWzFdW2pdID0ge2ogLSB0W2ldLmIsaX07DQoJCQllbHNlIHRtcFsxXVtqXSA9IDA7DQoJCX0NCgkJZm9yKGludCBqID0gcjsgaiA+PSBsOyAtLWopew0KCQkJaWYodG1wWzBdW2pdKXsNCgkJCQlkcFtqXSA9IDE7DQoJCQkJcWlhbltqXSA9IHRtcHFpYW5bMF1bal07DQoJCQl9ZWxzZSBpZih0bXBbMV1bal0pew0KCQkJCWRwW2pdID0gMTsNCgkJCQlxaWFuW2pdID0gdG1wcWlhblsxXVtqXTsNCgkJCX0NCgkJfQ0KCX0NCglpZihkcFtxXSl7DQoJCWNvdXQgPDwiWUVTXG4iOw0KCQlpbnQgayA9IHE7DQoJCXZlY3RvcjxpbnQ+IGFuczsNCgkJd2hpbGUoayl7DQoJCQlpbnQgaGFvY250ID0gMCxodWFpY250ID0gMDsNCgkJCWludCBpZCA9IHRbcWlhbltrXS5zZWNvbmRdLmlkOw0KCQkJZm9yKGF1dG8gJiB4IDogYmVsb25nW2lkXSl7DQovLwkJCQljb3V0IDw8IHggPDwgJyAnOw0KCQkJCWlmKHggJiAxKWhhb2NudCsrOw0KCQkJCWVsc2UgaHVhaWNudCsrOw0KCQkJfQ0KLy8JCQljb3V0IDw8IiFcbiI7DQoJCQlpZihoYW9jbnQgPT0gayAtIHFpYW5ba10uZmlyc3Qpew0KCQkJCWZvcihhdXRvICYgeCA6IGJlbG9uZ1tpZF0pew0KCQkJCQlpZih4ICYgMSlhbnMucHVzaF9iYWNrKGdldHl1YW4oeCkpOw0KCQkJCX0NCgkJCX1lbHNlew0KCQkJCWZvcihhdXRvICYgeCA6IGJlbG9uZ1tpZF0pew0KCQkJCQlpZih4ICYgMSk7DQoJCQkJCWVsc2UgYW5zLnB1c2hfYmFjayhnZXR5dWFuKHgpKTsNCgkJCQl9DQoJCQl9DQoJCQlrID0gcWlhbltrXS5maXJzdDsNCgkJfQ0KCQlzb3J0KGFucy5iZWdpbigpLGFucy5lbmQoKSk7DQoJCWZvcihhdXRvICYgeCA6IGFucyl7DQoJCQlwcmludGYoIiVkICIseCk7DQoJCX0NCgkJcHJpbnRmKCJcbiIpOw0KCX1lbHNlew0KCQljb3V0IDw8ICJOT1xuIjsNCgl9DQoJcmV0dXJuIDA7DQp9DQovKg0KNCAyIDQNCjEgMSAzDQoxIDIgNA0KMCAzIDQNCjAgMSAyDQoNCjEzIDcgMTENCjAgMSAyDQowIDEgMw0KMCAxIDQNCjAgMSA1DQoxIDEgNg0KMSAxIDcNCjAgOCA5DQowIDggMTANCjAgOCAxMQ0KMSAxMyAxMg0KMSAxMiAxMw0KKi8="}]