[{"id":"3288","submission_id":"3288","filename":"I.cpp","source":"I2luY2x1ZGU8Yml0cy9zdGRjKysuaD4NCg0KdXNpbmcgbmFtZXNwYWNlIHN0ZDsNCg0KDQp0eXBlZGVmIGxvbmcgbG9uZyBsbDsNCmludCB0Ow0KY2hhciBzWzEwMDAwXTsNCmludCBtYWluKCl7DQogICAgc2NhbmYoIiVkIiwmdCk7DQogICAgd2hpbGUodC0tKXsNCiAgICAgICBzY2FuZigiJXMiLHMpOw0KICAgICAgIGludCBuID0gc3RybGVuKHMpOw0KICAgICAgIGludCBtYXhsZW49MDsNCiAgICAgICBmb3IoaW50IGk9MDtpPG47aSsrKXsNCiAgICAgICAgICAgaW50IGw9aS0xLHI9aSsxOw0KICAgICAgICAgICBpbnQganVkZ2U9MDsNCiAgICAgICAgICAgaW50IGxlbiA9IDA7DQogICAgICAgICAgIGNoYXIgcHJlYSxwcmViOw0KICAgICAgICAgICB3aGlsZShsPj0wJiZyPG4pew0KICAgICAgICAgICAgICAgIGlmKHNbbF09PXNbcl0mJihqdWRnZT09MHx8anVkZ2U9PTIpKXsNCiAgICAgICAgICAgICAgICAgICAgbGVuPXItbCsxOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBpZihzW2xdIT1zW3JdKXsNCiAgICAgICAgICAgICAgICAgICAgaWYoanVkZ2U9PTApew0KICAgICAgICAgICAgICAgICAgICAgICAganVkZ2U9MTsNCiAgICAgICAgICAgICAgICAgICAgICAgIHByZWEgPSBzW2xdOw0KICAgICAgICAgICAgICAgICAgICAgICAgcHJlYiA9IHNbcl07DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZihqdWRnZT09MSl7DQogICAgICAgICAgICAgICAgICAgICAgICBpZigocHJlYT09c1tsXSYmcHJlYj09c1tyXSl8fChwcmVhPT1zW3JdJiZwcmViPT1zW2xdKSl7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGVuPXItbCsxOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGp1ZGdlPTI7DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICBlbHNlew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIGVsc2V7DQogICAgICAgICAgICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBsLS07DQogICAgICAgICAgICAgICAgcisrOw0KICAgICAgICAgICB9DQogICAgICAgICAgIG1heGxlbj1tYXgobWF4bGVuLGxlbik7DQogICAgICAgfQ0KICAgICAgIGZvcihpbnQgaT0wO2k8bjtpKyspew0KICAgICAgICAgICAgaW50IGw9aS0xLHI9aSsxOw0KICAgICAgICAgICBpbnQganVkZ2U9MDsNCiAgICAgICAgICAgaW50IGxlbiA9IDA7DQogICAgICAgICAgIGNoYXIgcHJlYSxwcmViOw0KICAgICAgICAgICB3aGlsZShsPj0wJiZyPG4pew0KICAgICAgICAgICAgICAgIGlmKHNbbF09PXNbcl0pew0KICAgICAgICAgICAgICAgICAgICBsZW49ci1sKzE7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGVsc2V7DQogICAgICAgICAgICAgICAgICAgIGlmKChzW2xdPT1zW2ldfHxzW3JdPT1zW2ldKSYmanVkZ2U9PTApew0KICAgICAgICAgICAgICAgICAgICAgICAganVkZ2U9MTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGxlbj1yLWwrMTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICBlbHNlew0KICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgbC0tOw0KICAgICAgICAgICAgICAgIHIrKzsNCiAgICAgICAgICAgfQ0KICAgICAgICAgICBtYXhsZW49bWF4KG1heGxlbixsZW4pOw0KICAgICAgIH0NCiAgICAgICBmb3IoaW50IGk9MDtpPG4tMTtpKyspew0KICAgICAgICAgICBpbnQgbGVuPTI7DQogICAgICAgICAgIGludCBqdWRnZT0wOw0KICAgICAgICAgICBjaGFyIHByZWEscHJlYjsNCiAgICAgICAgICAgaWYoc1tpXSE9c1tpKzFdKXsNCiAgICAgICAgICAgICAgICBqdWRnZT0xOw0KICAgICAgICAgICAgICAgIHByZWE9c1tpXTsNCiAgICAgICAgICAgICAgICBwcmViPXNbaSsxXTsNCiAgICAgICAgICAgICAgICBsZW49MDsNCiAgICAgICAgICAgfQ0KICAgICAgICAgICBpbnQgbD1pLTEscj1pKzI7DQoNCiAgICAgICAgICAgd2hpbGUobD49MCYmcjxuKXsNCiAgICAgICAgICAgICAgICBpZihzW2xdPT1zW3JdJiYoanVkZ2U9PTB8fGp1ZGdlPT0yKSl7DQogICAgICAgICAgICAgICAgICAgIGxlbj1yLWwrMTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgaWYoc1tsXSE9c1tyXSl7DQogICAgICAgICAgICAgICAgICAgIGlmKGp1ZGdlPT0wKXsNCiAgICAgICAgICAgICAgICAgICAgICAgIC8vY291dDw8bDw8ZW5kbDsNCiAgICAgICAgICAgICAgICAgICAgICAgIGp1ZGdlPTE7DQogICAgICAgICAgICAgICAgICAgICAgICBwcmVhID0gc1tsXTsNCiAgICAgICAgICAgICAgICAgICAgICAgIHByZWIgPSBzW3JdOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIGVsc2UgaWYoanVkZ2U9PTEpew0KICAgICAgICAgICAgICAgICAgICAgICAvLyBjb3V0PDxzW2xdPDwiICI8PHNbcl08PGVuZGw7DQogICAgICAgICAgICAgICAgICAgICAgICBpZigocHJlYT09c1tsXSYmcHJlYj09c1tyXSl8fChwcmVhPT1zW3JdJiZwcmViPT1zW2xdKSl7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGVuPXItbCsxOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGp1ZGdlPTI7DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICBlbHNlew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIGVsc2V7DQogICAgICAgICAgICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBsLS07DQogICAgICAgICAgICAgICAgcisrOw0KICAgICAgICAgICB9DQogICAgICAgICAgIC8vY291dDw8bDw8IiAiPDxyPDxlbmRsOw0KDQogICAgICAgICAgIG1heGxlbj1tYXgobWF4bGVuLGxlbik7DQogICAgICAgfQ0KICAgICAgIHByaW50ZigiJWRcbiIsbWF4bGVuKTsNCg0KICAgIH0NCiAgICByZXR1cm4gMDsNCn0NCg=="}]