[{"id":"1005","submission_id":"1005","filename":"Main.java","source":"DQppbXBvcnQgamF2YS5pby4qOw0KaW1wb3J0IGphdmEudXRpbC4qOw0KaW1wb3J0IGphdmEubWF0aC4qOw0KcHVibGljIGNsYXNzIE1haW4gew0KICBwdWJsaWMgc3RhdGljIHZvaWQgbWFpbihTdHJpbmdbXSBhcmdzKXsNCgkgIElucHV0U3RyZWFtIGlucHV0U3RyZWFtID0gU3lzdGVtLmluOw0KCSAgT3V0cHV0U3RyZWFtIG91dHB1dFN0cmVhbSA9IFN5c3RlbS5vdXQ7DQoJICBJbnB1dFJlYWRlciBpbiA9IG5ldyBJbnB1dFJlYWRlcihpbnB1dFN0cmVhbSk7DQoJICBQcmludFdyaXRlciBvdXQgPSBuZXcgUHJpbnRXcml0ZXIob3V0cHV0U3RyZWFtKTsNCgkgIFRhc2tBIHNvbHZlciA9IG5ldyBUYXNrQSgpOw0KCSAgc29sdmVyLnNvbHZlKDEsaW4sb3V0KTsNCgkgIG91dC5jbG9zZSgpOw0KICB9DQogIA0KICBzdGF0aWMgY2xhc3MgVGFza0F7DQoJICBib29sZWFuIGNoZWNrKGludCB4LGludCB5KXsNCgkJICBpZih4ID4gMCAmJiB4IDwgMjAgJiYgeSA+IDAgJiYgeSA8IDIwKQ0KCQkJICByZXR1cm4gdHJ1ZTsNCgkJICByZXR1cm4gZmFsc2U7DQoJICB9DQoJICBwdWJsaWMgdm9pZCBzb2x2ZShpbnQgdGVzdE51bWJlcixJbnB1dFJlYWRlciBpbixQcmludFdyaXRlciBvdXQpew0KCQkgIGludCB0ID0gaW4ubmV4dEludCgpOw0KCQkgIHdoaWxlKHQtLSA+IDApew0KCQkJICBpbnQgbiA9IGluLm5leHRJbnQoKTsNCgkJCSAgU2V0PEE+IHNldCA9IG5ldyBIYXNoU2V0KCk7DQoJCQkgIGludFtdW10gYSA9IG5ldyBpbnQgWzIwXVsyMF07DQoJCQkgIGZvcihpbnQgaSA9IDA7aSA8IG47aSsrKXsNCgkJCQkgIGludCB4ID0gaW4ubmV4dEludCgpOw0KCQkJCSAgaW50IHkgPSBpbi5uZXh0SW50KCk7DQoJCQkJICBhW3hdW3ldID0gaW4ubmV4dEludCgpOw0KCQkJCSAgc2V0LmFkZChuZXcgQSh4LHkpKTsNCgkJCSAgfQ0KCQkJICBpbnQgY291bnQgPSAwOw0KCQkJICBmb3IoQSBiOnNldCl7DQoJCQkJICBpbnQgeCA9IGIueDsNCgkJCQkgIGludCB5ID0gYi55Ow0KCQkJCSAgaWYoY2hlY2soeC0xLHkpICYmIGFbeC0xXVt5XSAhPSAxKXsNCgkJCQkJICBjb3VudCsrOw0KCQkJCQkgIGFbeC0xXVt5XSA9IDI7DQoJCQkJICB9DQoJCQkJICBpZihjaGVjayh4KzEseSkgJiYgYVt4KzFdW3ldICE9IDEpew0KCQkJCQkgIGNvdW50Kys7DQoJCQkJCSAgYVt4KzFdW3ldID0gMjsNCgkJCQkgIH0NCgkJCQkgIGlmKGNoZWNrKHgseS0xKSAmJiBhW3hdW3ktMV0gIT0gMSl7DQoJCQkJCSAgY291bnQrKzsNCgkJCQkJICBhW3hdW3ktMV0gPSAyOw0KCQkJCSAgfQ0KCQkJCSAgaWYoY2hlY2soeCx5KzEpICYmIGFbeF1beSsxXSAhPSAxKXsNCgkJCQkJICBjb3VudCsrOw0KCQkJCQkgIGFbeF1beSsxXSA9IDI7DQoJCQkJICB9DQoJCQkgIH0NCgkJCSAgb3V0LnByaW50bG4oY291bnQpOw0KCQkgIH0NCgkgIH0NCgkgIGNsYXNzIEF7DQoJCSAgaW50IHgseTsNCgkJICBBKGludCB4LGludCB5KXsNCgkJCSAgdGhpcy54ID0geDsNCgkJCSAgdGhpcy55ID0geTsNCgkJICB9DQoJICB9DQogIH0NCiAgDQogIHN0YXRpYyBjbGFzcyBJbnB1dFJlYWRlcnsNCgkgIHB1YmxpYyBCdWZmZXJlZFJlYWRlciByZWFkZXI7DQoJICBwdWJsaWMgU3RyaW5nVG9rZW5pemVyIHRva2VuaXplcjsNCgkgIHB1YmxpYyBJbnB1dFJlYWRlcihJbnB1dFN0cmVhbSBzdHJlYW0pew0KCQkgIHJlYWRlciA9IG5ldyBCdWZmZXJlZFJlYWRlcihuZXcgSW5wdXRTdHJlYW1SZWFkZXIoc3RyZWFtKSwzMjc2OCk7DQoJCSAgdG9rZW5pemVyID0gbnVsbDsNCgkgIH0NCgkgIGJvb2xlYW4gaGFzTmV4dCgpDQoJICB7DQoJCSB3aGlsZSh0b2tlbml6ZXIgPT0gbnVsbCB8fCAhdG9rZW5pemVyLmhhc01vcmVUb2tlbnMoKSkNCgkJIHsNCgkJCSB0cnkNCgkJCSB7DQoJCQkJIHRva2VuaXplciA9IG5ldyBTdHJpbmdUb2tlbml6ZXIocmVhZGVyLnJlYWRMaW5lKCkpOw0KCQkJIH1jYXRjaChFeGNlcHRpb24gZSkNCgkJCSB7DQoJCQkJIHJldHVybiBmYWxzZTsNCgkJCSB9DQoJCSB9DQoJCSByZXR1cm4gdHJ1ZTsNCgkgIH0NCgkgIHB1YmxpYyBTdHJpbmcgbmV4dCgpew0KCQkgIHdoaWxlKHRva2VuaXplciA9PSBudWxsIHx8ICF0b2tlbml6ZXIuaGFzTW9yZVRva2VucygpKXsNCgkJCSAgdHJ5ew0KCQkJCSAgdG9rZW5pemVyID0gbmV3IFN0cmluZ1Rva2VuaXplcihyZWFkZXIucmVhZExpbmUoKSk7DQoJCQkgIH1jYXRjaChJT0V4Y2VwdGlvbiBlKXsNCgkJCQkgIHRocm93IG5ldyBSdW50aW1lRXhjZXB0aW9uKGUpOw0KCQkJICB9DQoJCSAgfQ0KCQkgIHJldHVybiB0b2tlbml6ZXIubmV4dFRva2VuKCk7DQoJICB9DQoJICBwdWJsaWMgU3RyaW5nIG5leHRMaW5lKCkNCgkgIHsNCgkJICBTdHJpbmcgc3RyID0gbnVsbDsNCgkJICB0cnkNCgkJICB7DQoJCQkgIHN0ciA9IHJlYWRlci5yZWFkTGluZSgpOw0KCQkgIH1jYXRjaChJT0V4Y2VwdGlvbiBlKXsNCgkJCSAgZS5wcmludFN0YWNrVHJhY2UoKTsNCgkJICB9DQoJCSAgcmV0dXJuIHN0cjsNCgkgIH0NCgkgIHB1YmxpYyBpbnQgbmV4dEludCgpew0KCQkgIHJldHVybiBJbnRlZ2VyLnBhcnNlSW50KG5leHQoKSk7DQoJICB9DQoJICBwdWJsaWMgZG91YmxlIG5leHREb3VibGUoKXsNCgkJICByZXR1cm4gRG91YmxlLnBhcnNlRG91YmxlKG5leHQoKSk7DQoJICB9DQoJICBwdWJsaWMgbG9uZyBuZXh0TG9uZygpew0KCQkgIHJldHVybiBMb25nLnBhcnNlTG9uZyhuZXh0KCkpOw0KCSAgfQ0KCSAgcHVibGljIEJpZ0ludGVnZXIgbmV4dEJpZ0ludGVnZXIoKXsNCgkJICByZXR1cm4gbmV3IEJpZ0ludGVnZXIobmV4dCgpKTsNCgkgIH0NCgkgIHB1YmxpYyBCaWdEZWNpbWFsIG5leHRCaWdEZWNpbWFsKCl7DQoJCSAgcmV0dXJuIG5ldyBCaWdEZWNpbWFsKG5leHQoKSk7DQoJICB9DQogIH0NCn0NCg=="}]