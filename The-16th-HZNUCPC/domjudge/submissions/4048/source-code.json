[{"id":"4048","submission_id":"4048","filename":"b.cpp","source":"I2luY2x1ZGU8Yml0cy9zdGRjKysuaD4NCnVzaW5nIG5hbWVzcGFjZSBzdGQ7DQojZGVmaW5lIGludCBsb25nIGxvbmcNCmlubGluZSBpbnQgcmVhZCgpew0KICAgIGludCB4PTAsZj0xO2NoYXIgYz1nZXRjaGFyKCk7DQogICAgd2hpbGUoIWlzZGlnaXQoYykpe2lmKGM9PSctJylmPS0xO2M9Z2V0Y2hhcigpO30NCiAgICB3aGlsZShpc2RpZ2l0KGMpKXg9eCoxMCtjLTQ4LGM9Z2V0Y2hhcigpOw0KICAgIHJldHVybiB4KmY7DQp9DQpjb25zdCBpbnQgTj0xZTUrNTsNCmludCBuLHEsbSxmYVtOPDwxXSxzeltOPDwxXSxmW048PDFdLHZpc1tOPDwxXTsNCmludCBmaW5kKGludCB4KXsNCiAgICByZXR1cm4geD09ZmFbeF0/eDpmYVt4XT1maW5kKGZhW3hdKTsNCn0NCnZvaWQgbWVyZ2UoaW50IHgsaW50IHkpew0KICAgIHg9ZmluZCh4KTt5PWZpbmQoeSk7DQogICAgaWYoeD09eSlyZXR1cm47DQogICAgaWYoeDx5KXN3YXAoeCx5KTsNCiAgICBmYVt4XT15O3N6W3ldKz1zelt4XTtmW3ldKz1mW3hdOw0KfQ0KYml0c2V0PE4+Z1tOXTsNCnZlY3RvcjxpbnQ+YW5zW048PDFdOw0KdmVjdG9yPHBhaXI8aW50LGludD4gPmM7DQp2ZWN0b3I8cGFpcjxpbnQsaW50PiA+djsNCnZvaWQgcHJpbnQoaW50IHgpew0KICAgIC8vIHByaW50ZigiJWxsZDpcbiIseCk7DQogICAgZm9yKGludCBpOmFuc1t4XSlwcmludGYoIiVsbGQgIixpKTsNCiAgICAvLyBwdXRzKCIiKTsNCn0NCnZvaWQgZGZzKGludCB4LGludCBzdW0pDQp7DQogICAgLy9wcmludGYoIiVsbGQgJWxsZFxuIix4LHN1bSk7DQogICAgaWYoeD09MClyZXR1cm47DQogICAgaWYoc3VtLXZbeC0xXS5maXJzdD49MCYmZ1t4LTFdW3N1bS12W3gtMV0uZmlyc3RdKSBkZnMoeC0xLHN1bS12W3gtMV0uZmlyc3QpLHByaW50KGNbeC0xXS5maXJzdCk7DQogICAgZWxzZSBkZnMoeC0xLHN1bS12W3gtMV0uc2Vjb25kKSxwcmludChjW3gtMV0uc2Vjb25kKTsNCn0NCnNpZ25lZCBtYWluKCl7DQogICAgLy9mcmVvcGVuKCJpbi50eHQiLCJyIixzdGRpbik7DQogICAvLyBmcmVvcGVuKCJiLm91dCIsInciLHN0ZG91dCk7DQogICAgbj1yZWFkKCk7cT1yZWFkKCk7bT1yZWFkKCk7DQogICAgZm9yKGludCBpPTE7aTw9KG48PDEpO2krKylmYVtpXT1pLHN6W2ldPTEsZltpXT0oaTw9bik7DQogICAgZm9yKGludCBpPTE7aTw9bTtpKyspew0KICAgICAgICBpbnQgb3A9cmVhZCgpLGE9cmVhZCgpLGI9cmVhZCgpOw0KICAgICAgICAvL2lmKG9wPT0xJiZhPT1iKXtwdXRzKCJOTyIpO3JldHVybiAwO30NCiAgICAgICAgaWYob3A9PTApew0KICAgICAgICAgICAgbWVyZ2UoYSxiKTsNCiAgICAgICAgICAgIG1lcmdlKGErbixiK24pOw0KICAgICAgICB9ZWxzZXsNCiAgICAgICAgICAgIG1lcmdlKGEsYituKTsNCiAgICAgICAgICAgIG1lcmdlKGIsYStuKTsNCiAgICAgICAgfQ0KICAgIH0NCiAgICBmb3IoaW50IGk9MTtpPD1uO2krKylpZihmaW5kKGkpPT1maW5kKGkrbikpe3B1dHMoIk5PIik7cmV0dXJuIDA7fQ0KICAgLy8gcHV0cygicXdxIik7DQogICAgZm9yKGludCBpPTE7aTw9bjtpKyspaWYoZmluZChpKT09aSl7DQogICAgICAgIGlmKHZpc1tpXXx8dmlzW2ZpbmQoaStuKV0pY29udGludWU7DQogICAgICAgIHYucHVzaF9iYWNrKHtmW2ldLGZbZmluZChpK24pXX0pLGMucHVzaF9iYWNrKHtpLGZpbmQoaStuKX0pOw0KICAgICAgICB2aXNbaV09dmlzW2ZpbmQoaStuKV09MTsNCiAgICB9DQogICAgZm9yKGludCBpPTE7aTw9bjtpKyspYW5zW2ZpbmQoaSldLnB1c2hfYmFjayhpKTsNCiAgICBpbnQgY250PXYuc2l6ZSgpOw0KICAgIGdbMF1bMF09MTsNCiAgICAvL2ZvcihpbnQgaT0xO2k8PWNudDtpKyspcHJpbnRmKCIlbGxkICVsbGRcbiIsdltpLTFdLmZpcnN0LHZbaS0xXS5zZWNvbmQpO3B1dHMoIiIpOw0KICAgIC8vZm9yKGludCBpPTE7aTw9Y250O2krKylwcmludGYoIiVsbGQgJWxsZFxuIixjW2ktMV0uZmlyc3QsY1tpLTFdLnNlY29uZCk7cHV0cygiIik7DQogICAgZm9yKGludCBpPTE7aTw9Y250O2krKylnW2ldPShnW2ktMV08PHZbaS0xXS5maXJzdCl8KGdbaS0xXTw8dltpLTFdLnNlY29uZCk7DQogICAgLy9mb3IoaW50IGk9MTtpPD1uO2krKylwcmludGYoIiVsbGQgIixnW2NudF1baV09PTEpO3B1dHMoIiIpOw0KICAgIGlmKCFnW2NudF1bcV0pe3B1dHMoIk5PIik7cmV0dXJuIDA7fQ0KICAgIHB1dHMoIllFUyIpOw0KICAgIGRmcyhjbnQscSk7DQogICAgcmV0dXJuIDA7DQp9"}]