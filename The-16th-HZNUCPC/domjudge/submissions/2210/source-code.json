[{"id":"2210","submission_id":"2210","filename":"c.cpp","source":"I2luY2x1ZGUgPGlvc3RyZWFtPg0KI2luY2x1ZGUgPGFsZ29yaXRobT4NCiNpbmNsdWRlIDx2ZWN0b3I+DQojaW5jbHVkZSA8bWFwPg0KdXNpbmcgbmFtZXNwYWNlIHN0ZDsNCnVzaW5nIGxsID0gbG9uZyBsb25nOw0KdXNpbmcgcGxsID0gcGFpcjxsbCwgbGw+Ow0KYm9vbCBqdWRnZShjaGFyIGEsIGNoYXIgYiwgY2hhciBjLCBjaGFyIGQpDQp7DQogICAgbWFwPGNoYXIsIGludD4gbTsNCiAgICBtW2FdICs9IDE7DQogICAgbVtiXSArPSAxOw0KICAgIG1bY10gKz0gMTsNCiAgICBtW2RdICs9IDE7DQogICAgaWYgKG0uc2l6ZSgpICE9IDIpDQogICAgICAgIHJldHVybiBmYWxzZTsNCiAgICBmb3IgKGF1dG8gaXQgOiBtKQ0KICAgIHsNCiAgICAgICAgaWYgKGl0LnNlY29uZCAhPSAyKQ0KICAgICAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgIH0NCiAgICByZXR1cm4gdHJ1ZTsNCn0NCnZvaWQgc29sdmUoKQ0Kew0KICAgIHN0cmluZyBzOw0KICAgIGNpbiA+PiBzOw0KICAgIGludCBuID0gcy5sZW5ndGgoKTsNCiAgICBpbnQgbXggPSAwOw0KICAgIGZvciAoaW50IGkgPSAwOyBpIDwgbiAtIDE7IGkrKykNCiAgICB7DQogICAgICAgIGludCBsID0gaSwgciA9IGk7DQogICAgICAgIGludCBjbnQgPSAwOw0KICAgICAgICBpbnQgeCwgeTsNCiAgICAgICAgYm9vbCB1c2UgPSBmYWxzZTsNCiAgICAgICAgd2hpbGUgKDEpDQogICAgICAgIHsNCiAgICAgICAgICAgIGwgLT0gMSwgciArPSAxOw0KICAgICAgICAgICAgaWYgKGwgPCAwIHx8IHIgPj0gbikNCiAgICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAgIGlmIChzW2xdICE9IHNbcl0pDQogICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgaWYgKHVzZSkNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBpZiAoIWNudCkNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgIHggPSBsLCB5ID0gcjsNCiAgICAgICAgICAgICAgICAgICAgY250ID0gMTsNCiAgICAgICAgICAgICAgICAgICAgaWYoc1tsXT09c1tpXXx8c1tyXT09c1tpXSl7DQogICAgICAgICAgICAgICAgICAgICAgICBjbnQ9MzsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBlbHNlIGlmIChjbnQgPT0gMXx8Y250PT0zKQ0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgaWYgKGp1ZGdlKHNbeF0sIHNbeV0sIHNbbF0sIHNbcl0pKQ0KICAgICAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICAgICB1c2UgPSB0cnVlOw0KICAgICAgICAgICAgICAgICAgICAgICAgY250ID0gMDsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICBlbHNlDQogICAgICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgaWYgKGNudCAhPSAxKQ0KICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgIG14ID0gbWF4KG14LCByIC0gbCArIDEpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIGwgPSBpICsgMSwgciA9IGk7DQogICAgICAgIGNudCA9IDA7DQogICAgICAgIHgsIHk7DQogICAgICAgIHVzZSA9IGZhbHNlOw0KICAgICAgICB3aGlsZSAoMSkNCiAgICAgICAgew0KICAgICAgICAgICAgbCAtPSAxLCByICs9IDE7DQogICAgICAgICAgICBpZiAobCA8IDAgfHwgciA+PSBuKQ0KICAgICAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgICAgaWYgKHNbbF0gIT0gc1tyXSkNCiAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICBpZiAodXNlKQ0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGlmICghY250KQ0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgeCA9IGwsIHkgPSByOw0KICAgICAgICAgICAgICAgICAgICBjbnQgPSAxOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBlbHNlIGlmIChjbnQgPT0gMSkNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgIGlmIChqdWRnZShzW3hdLCBzW3ldLCBzW2xdLCBzW3JdKSkNCiAgICAgICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAgICAgdXNlID0gdHJ1ZTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGNudCA9IDI7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgZWxzZQ0KICAgICAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGlmIChjbnQgIT0gMSkNCiAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICBteCA9IG1heChteCwgciAtIGwgKyAxKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgIH0NCiAgICBpZiAobXggPT0gMSkgbXggPSAwOw0KICAgIGNvdXQgPDwgbXggPDwgJ1xuJzsNCn0NCmludCBtYWluKCkNCnsNCiAgICBpbnQgdDsNCiAgICBjaW4gPj4gdDsNCiAgICB3aGlsZSAodC0tKQ0KICAgIHsNCiAgICAgICAgc29sdmUoKTsNCiAgICB9DQp9DQo="}]