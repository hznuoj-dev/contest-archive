[{"id":"3164","submission_id":"3164","filename":"C.cpp","source":"I2luY2x1ZGUgPGJpdHMvc3RkYysrLmg+DQp1c2luZyBuYW1lc3BhY2Ugc3RkOw0KdHlwZWRlZiBsb25nIGxvbmcgbGw7DQpjb25zdGV4cHIgbGwgbW9kID0gMWU5ICsgNzsNCnN0cnVjdCBtb2RpbnQNCnsNCiAgICBpbnQgbjsNCiAgICBtb2RpbnQoKSA6IG4oMCkgeyA7IH0NCiAgICBtb2RpbnQobGwgbSkNCiAgICB7DQogICAgICAgIGlmIChtIDwgMCB8fCBtb2QgPD0gMCkNCiAgICAgICAgew0KICAgICAgICAgICAgbSAlPSBtb2Q7DQogICAgICAgICAgICBpZiAobSA8PSAwKQ0KICAgICAgICAgICAgICAgIG0gKz0gbW9kOw0KICAgICAgICB9DQogICAgICAgIG4gPSBtOw0KICAgIH0NCiAgICBvcGVyYXRvciBpbnQoKSB7IHJldHVybiBuOyB9DQp9Ow0KYm9vbCBvcGVyYXRvcj09KG1vZGludCBhLCBtb2RpbnQgYikNCnsNCiAgICByZXR1cm4gYS5uID09IGIubjsNCn0NCmJvb2wgb3BlcmF0b3I8KG1vZGludCBhLCBtb2RpbnQgYikNCnsNCiAgICByZXR1cm4gYS5uIDwgYi5uOw0KfQ0KbW9kaW50IG9wZXJhdG9yKz0obW9kaW50ICZhLCBtb2RpbnQgYikNCnsNCiAgICBhLm4gKz0gYi5uOw0KICAgIGlmIChhLm4gPj0gbW9kKQ0KICAgICAgICBhLm4gLT0gbW9kOw0KICAgIHJldHVybiBhOw0KfQ0KbW9kaW50IG9wZXJhdG9yLT0obW9kaW50ICZhLCBtb2RpbnQgYikNCnsNCiAgICBhLm4gLT0gYi5uOw0KICAgIGlmIChhLm4gPCAwKQ0KICAgICAgICBhLm4gKz0gbW9kOw0KICAgIHJldHVybiBhOw0KfQ0KbW9kaW50IG9wZXJhdG9yKj0obW9kaW50ICZhLCBtb2RpbnQgYikNCnsNCiAgICBhLm4gPSAoKGxsKWEubiAqIGIubikgJSBtb2Q7DQogICAgcmV0dXJuIGE7DQp9DQpsbCBpbnYobGwgYSwgbGwgcCkgeyByZXR1cm4gKGEgPT0gMSA/IDEgOiAoMSAtIHAgKiBpbnYocCAlIGEsIGEpKSAvIGEgKyBwKTsgfQ0KbW9kaW50IG9wZXJhdG9yLyhtb2RpbnQgYSwgbW9kaW50IGIpDQp7DQogICAgcmV0dXJuIGEgKiBtb2RpbnQoaW52KGIsIG1vZCkpOw0KfQ0KbW9kaW50IG9wZXJhdG9yKihtb2RpbnQgYSwgbW9kaW50IGIpIHsgcmV0dXJuIGEgKj0gYjsgfQ0KY29uc3QgaW50IG1heF9uID0gMSA8PCAyMDsNCm1vZGludCBmYWN0W21heF9uXSwgZmFjdGludlttYXhfbl07DQoNCm1vZGludCBjb21iKGludCBhLCBpbnQgYikNCnsNCiAgICBpZiAoYSA8IDAgfHwgYiA8IDAgfHwgYSA8IGIpDQogICAgICAgIHJldHVybiAwOw0KICAgIGVsc2UNCiAgICAgICAgcmV0dXJuIGZhY3RbYV0gKiBmYWN0aW52W2JdICogZmFjdGludlthIC0gYl07DQp9DQoNCmNoYXIgX2FbMjAwMDAxXSwgX2JbMjAwMDAxXTsNCmNoYXIgKmEgPSBfYSwgKmIgPSBfYjsNCmludCBfY291bnRhWzI2XSwgX2NvdW50YlsyNl07DQppbnQgbWFwcFsyNl1bMjZdOw0KaW50ICpjb3VudGEgPSBfY291bnRhLCAqY291bnRiID0gX2NvdW50YjsNCmludCByY250YSwgcmNudGI7DQppbnQgbWFpbigpDQp7DQogICAgLy9pbml0X2YoKQ0KICAgIGZhY3RbMF0gPSBtb2RpbnQoMSk7DQogICAgZm9yIChpbnQgaSA9IDA7IGkgPCBtYXhfbiAtIDE7IGkrKykNCiAgICB7DQogICAgICAgIGZhY3RbaSArIDFdID0gZmFjdFtpXSAqIG1vZGludChpICsgMSk7DQogICAgfQ0KICAgIGZhY3RpbnZbbWF4X24gLSAxXSA9IG1vZGludCgxKSAvIGZhY3RbbWF4X24gLSAxXTsNCiAgICBmb3IgKGludCBpID0gbWF4X24gLSAyOyBpID49IDA7IGktLSkNCiAgICB7DQogICAgICAgIGZhY3RpbnZbaV0gPSBmYWN0aW52W2kgKyAxXSAqIG1vZGludChpICsgMSk7DQogICAgfQ0KDQogICAgLy9tYWluKCkNCiAgICBzY2FuZigiJXMlcyIsIGEsIGIpOw0KICAgIGZvciAoaW50IGkgPSAwOyBhW2ldOyBpKyspDQogICAgew0KICAgICAgICBpZiAoIShjb3VudGFbYVtpXSAtICdhJ10rKykpDQogICAgICAgICAgICByY250YSsrOw0KICAgICAgICBpZiAoIShjb3VudGJbYltpXSAtICdhJ10rKykpDQogICAgICAgICAgICByY250YisrOw0KICAgICAgICBtYXBwW2FbaV0gLSAnYSddW2JbaV0gLSAnYSddKys7DQogICAgfQ0KICAgIG1vZGludCBhbnMgPSBtb2RpbnQoMCk7DQogICAgZm9yIChpbnQgY2ExID0gMDsgY2ExIDwgMjY7IGNhMSsrKQ0KICAgIHsNCiAgICAgICAgZm9yIChpbnQgY2EyID0gMDsgY2EyIDw9IGNhMTsgY2EyKyspDQogICAgICAgIHsNCiAgICAgICAgICAgIGZvciAoaW50IGNiMSA9IDA7IGNiMSA8IDI2OyBjYjErKykNCiAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICBmb3IgKGludCBjYjIgPSAwOyBjYjIgPD0gY2IxOyBjYjIrKykNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgIGlmIChjb3VudGFbY2ExXSA9PSAwIHx8IGNvdW50YVtjYTJdID09IDAgfHwgY291bnRiW2NiMV0gPT0gMCB8fCBjb3VudGJbY2IyXSA9PSAwKQ0KICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7DQogICAgICAgICAgICAgICAgICAgIGlmICgoLS1jb3VudGFbY2ExXSkgPT0gMCkNCiAgICAgICAgICAgICAgICAgICAgICAgIHJjbnRhLS07DQogICAgICAgICAgICAgICAgICAgIGlmICgoLS1jb3VudGFbY2EyXSkgPT0gMCkNCiAgICAgICAgICAgICAgICAgICAgICAgIHJjbnRhLS07DQogICAgICAgICAgICAgICAgICAgIGlmICgoKytjb3VudGFbY2IxXSkgPT0gMSkNCiAgICAgICAgICAgICAgICAgICAgICAgIHJjbnRhKys7DQogICAgICAgICAgICAgICAgICAgIGlmICgoKytjb3VudGFbY2IyXSkgPT0gMSkNCiAgICAgICAgICAgICAgICAgICAgICAgIHJjbnRhKys7DQogICAgICAgICAgICAgICAgICAgIGlmICgoLS1jb3VudGJbY2IxXSkgPT0gMCkNCiAgICAgICAgICAgICAgICAgICAgICAgIHJjbnRiLS07DQogICAgICAgICAgICAgICAgICAgIGlmICgoLS1jb3VudGJbY2IyXSkgPT0gMCkNCiAgICAgICAgICAgICAgICAgICAgICAgIHJjbnRiLS07DQogICAgICAgICAgICAgICAgICAgIGlmICgoKytjb3VudGJbY2ExXSkgPT0gMSkNCiAgICAgICAgICAgICAgICAgICAgICAgIHJjbnRiKys7DQogICAgICAgICAgICAgICAgICAgIGlmICgoKytjb3VudGJbY2EyXSkgPT0gMSkNCiAgICAgICAgICAgICAgICAgICAgICAgIHJjbnRiKys7DQoNCiAgICAgICAgICAgICAgICAgICAgaWYgKHJjbnRiID09IHJjbnRhICYmIHJjbnRiID4gMCkNCiAgICAgICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAgICAgLy9wcmludGYoImMxOiVjPC0+JWMoJWQpOyVjPC0+JWMoJWQpO1xuIiwgY2ExICsgJ2EnLCBjYjEgKyAnYScsIG1hcHBbY2ExXVtjYjFdLCBjYTIgKyAnYScsIGNiMiArICdhJywgbWFwcFtjYTJdW2NiMl0pOw0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNiMSA9PSBjYjIgJiYgY2ExID09IGNhMikNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbnMgKz0gY29tYihtYXBwW2NhMV1bY2IxXSwgMik7DQogICAgICAgICAgICAgICAgICAgICAgICBlbHNlDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5zICs9IChtYXBwW2NhMV1bY2IxXSkgKiAobWFwcFtjYjFdW2NiMl0pOw0KICAgICAgICAgICAgICAgICAgICAgICAgLy9wcmludGYoImFucyA9PiAlZFxuIiwgYW5zKTsNCg0KICAgICAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICAgICAgaWYgKCgrK2NvdW50YVtjYTFdKSA9PSAxKQ0KICAgICAgICAgICAgICAgICAgICAgICAgcmNudGErKzsNCiAgICAgICAgICAgICAgICAgICAgaWYgKCgrK2NvdW50YVtjYTJdKSA9PSAxKQ0KICAgICAgICAgICAgICAgICAgICAgICAgcmNudGErKzsNCiAgICAgICAgICAgICAgICAgICAgaWYgKCgtLWNvdW50YVtjYjFdKSA9PSAwKQ0KICAgICAgICAgICAgICAgICAgICAgICAgcmNudGEtLTsNCiAgICAgICAgICAgICAgICAgICAgaWYgKCgtLWNvdW50YVtjYjJdKSA9PSAwKQ0KICAgICAgICAgICAgICAgICAgICAgICAgcmNudGEtLTsNCiAgICAgICAgICAgICAgICAgICAgaWYgKCgrK2NvdW50YltjYjFdKSA9PSAxKQ0KICAgICAgICAgICAgICAgICAgICAgICAgcmNudGIrKzsNCiAgICAgICAgICAgICAgICAgICAgaWYgKCgrK2NvdW50YltjYjJdKSA9PSAxKQ0KICAgICAgICAgICAgICAgICAgICAgICAgcmNudGIrKzsNCiAgICAgICAgICAgICAgICAgICAgaWYgKCgtLWNvdW50YltjYTFdKSA9PSAwKQ0KICAgICAgICAgICAgICAgICAgICAgICAgcmNudGItLTsNCiAgICAgICAgICAgICAgICAgICAgaWYgKCgtLWNvdW50YltjYTJdKSA9PSAwKQ0KICAgICAgICAgICAgICAgICAgICAgICAgcmNudGItLTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICB9DQogICAgcHJpbnRmKCIlbGxkIiwgYW5zKTsNCg0KICAgIHJldHVybiAwOw0KfQ=="}]