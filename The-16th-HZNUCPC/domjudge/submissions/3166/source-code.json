[{"id":"3166","submission_id":"3166","filename":"E6.cpp","source":"I2luY2x1ZGUgPGJpdHMvc3RkYysrLmg+DQojZGVmaW5lIGludCBsb25nIGxvbmcgDQp1c2luZyBuYW1lc3BhY2Ugc3RkOw0KY29uc3QgaW50IE4gPSAxMTA7DQoNCnN0cnVjdCBOb2Rlew0KCWludCB4LHk7DQp9Ow0KDQppbnQgeFtOXSx5W05dOw0KDQovL3N0cnVjdCBOb2Rlew0KLy8JaW50IHgseTsNCi8vfTsNCi8vDQovL2ludCB4W05dLHlbTl07DQovLw0KLy9pbnQgY291bnQoaW50IHgxLGludCB5MSxpbnQgeDIsaW50IHkyKXsNCi8vCWludCBhID0gYWJzKHkyLXkxKSAsIGIgPSBhYnMoeDIteDEpOw0KLy8JaWYoYT5iKSBzd2FwKGEsYik7DQovLwlpZihhPT0wKSByZXR1cm4gYisxOw0KLy8JaWYoYiVhPT0wKSByZXR1cm4gYSsxOw0KLy8JZWxzZSByZXR1cm4gMjsNCi8vfQ0KDQppbnQgY291bnQoaW50IHgxLGludCB5MSxpbnQgeDIsaW50IHkyKXsNCglpbnQgYSA9IGFicyh5Mi15MSkgLCBiID0gYWJzKHgyLXgxKTsNCglpZihhPmIpIHN3YXAoYSxiKTsNCglpZihhPT0wKSByZXR1cm4gYisxOw0KCWlmKGIlYT09MCkgcmV0dXJuIGErMTsNCgllbHNlIHJldHVybiAyOw0KfQ0KDQpzaWduZWQgbWFpbigpew0KCWludCBuO2Npbj4+bjsNCg0KCWZvcihpbnQgaT0xO2k8PW47aSsrKXsNCgkJY2luPj54W2ldPj55W2ldOw0KCX0NCgkNCglpbnQgcmVzID0gMDsNCglmb3IoaW50IGk9MTtpPD1uO2krKykNCgkJZm9yKGludCBqPWkrMTtqPD1uO2orKykNCgkJCWZvcihpbnQgaz1qKzE7azw9bjtrKyspew0KCQkJCWlmKHhbaV09PXhbal0gJiYgeFtqXT09eFtrXSkgY29udGludWU7DQoJCQkJaWYoeVtpXT09eVtqXSAmJiB5W2pdPT15W2tdKSBjb250aW51ZTsNCgkJCQlpZih4W2tdLXhbal0hPTAgJiYgeFtqXS14W2ldIT0wICYmICh5W2tdLXlbal0pKih4W2pdLXhbaV0pID09ICh5W2pdLXlbaV0pKih4W2tdLXhbal0pKXsNCgkJCQkJY29udGludWU7CQ0KCQkJCX0NCgkJCQlyZXMgPSBtYXgocmVzICwgY291bnQoeFtrXSx5W2tdLHhbal0seVtqXSkgKyBjb3VudCh4W2tdLHlba10seFtpXSx5W2ldKSArIGNvdW50KHhbal0seVtqXSx4W2ldLHlbaV0pIC0gMyk7DQoJCQl9DQoJY291dCA8PCByZXMgPDwgZW5kbDsNCglyZXR1cm4gMDsNCn0NCg0KDQoNCg0KDQoNCg0KDQoNCg0K"}]