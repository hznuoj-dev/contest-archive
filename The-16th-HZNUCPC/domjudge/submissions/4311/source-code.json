[{"id":"4311","submission_id":"4311","filename":"abc.cpp","source":"I2luY2x1ZGUgPGJpdHMvc3RkYysrLmg+DQoNCnVzaW5nIG5hbWVzcGFjZSBzdGQ7DQp1c2luZyBsbCA9IGxvbmcgbG9uZzsNCnVzaW5nIHB0ID0gY29tcGxleDxsb25nIGxvbmc+Ow0KLyoNCiNkZWZpbmUgeCByZWFsKCkNCiNkZWZpbmUgeSBpbWFnKCkNCg0KaW50IHBvaW50X2NvdmVyZWQocHQgYSwgcHQgYikgew0KCWFzc2VydChhICE9IGIpOw0KCWlmIChhLnggPT0gYi54KSB7DQoJCXJldHVybiBhYnMoYS55IC0gYi55KSAtIDE7DQoJfQ0KCWlmIChhLnkgPT0gYi55KSB7DQoJCXJldHVybiBhYnMoYS54IC0gYi54KSAtIDE7DQoJfQ0KCQ0KCXJldHVybiBfX2djZChhYnMoYS55IC0gYi55KSwgYWJzKGEueCAtIGIueCkpIC0gMTsNCn0NCg0KaW50IGNyb3NzKHB0IGEsIHB0IGIpIHsNCglyZXR1cm4gYS54ICogYi55IC0gYS55ICogYi54Ow0KfQ0KDQppbnQgc2FtZV9saW5lKHB0IGEsIHB0IGIsIHB0IGMpIHsNCglyZXR1cm4gY3Jvc3MoYiAtIGEsIGMgLSBhKSA9PSAwOw0KfQ0KKi8NCiNkZWZpbmUgaW50IGxsDQpjb25zdCBpbnQgbWF4biA9IDVlNSArIDU7DQpzdHJ1Y3QgZHN1IHsNCglpbnQgbGlua1ttYXhuXTsNCgl2ZWN0b3I8aW50PiBnb29kW21heG5dLCBiYWRbbWF4bl07DQovLwlpbnQgZ29vZFttYXhuXSwgYmFkW21heG5dOw0KCXZvaWQgaW5pdChpbnQgbikgew0KCQlpb3RhKGxpbmssIGxpbmsgKyBuICsgMSwgMCk7DQovLwkJZmlsbChnb29kLCBnb29kICsgbiArIDEsIDApOw0KLy8JCWZpbGwoYmFkLCBiYWQgKyBuICsgMSwgMCk7DQoJCWZvciAoaW50IGkgPSAwOyBpIDwgbjsgKytpKSB7DQoJCQlnb29kW2ldLmNsZWFyKCk7DQoJCQliYWRbaV0uY2xlYXIoKTsNCgkJfQ0KCX0NCgkNCgl2b2lkIGFwcGVuZCh2ZWN0b3I8aW50PiYgYSwgdmVjdG9yPGludD4mIGIpIHsNCgkJaWYgKGEuc2l6ZSgpIDwgYi5zaXplKCkpIHsNCgkJCXN3YXAoYSwgYik7DQoJCX0NCgkJZm9yIChhdXRvIGMgOiBiKSB7DQoJCQlhLnB1c2hfYmFjayhjKTsNCgkJfQ0KCX0NCgkNCglpbnQgZmluZChpbnQgeCkgew0KCQl3aGlsZSAobGlua1t4XSAhPSB4KSB7DQoJCQl4ID0gbGlua1t4XTsNCgkJfQ0KCQlyZXR1cm4geDsNCgl9DQoJDQoNCglpbnQgbWVyZ2UoaW50IHUsIGludCB2KSB7DQoJCXUgPSBmaW5kKHUpOw0KCQl2ID0gZmluZCh2KTsNCgkJaWYgKHUgPT0gdikgcmV0dXJuIGZhbHNlOw0KLy8JCWdvb2Rbdl0gKz0gZ29vZFt1XTsNCi8vCQliYWRbdl0gKz0gYmFkW3VdOw0KLy8JCWFwcGVuZChnb29kW3ZdLCBnb29kW3VdKTsNCi8vCQlhcHBlbmQoYmFkW3ZdLCBiYWRbdV0pOw0KCQlsaW5rW3VdID0gdjsNCgkJcmV0dXJuIHRydWU7DQoJfQkNCn0gZHM7DQppbnQgdXNlZF9jbnRbbWF4bl07DQp2b2lkIHNvbHZlKCkgew0KCWludCBuLCBxLCBtOw0KCWNpbiA+PiBuID4+IHEgPj4gbTsNCglkcy5pbml0KDIgKiBuKTsNCg0KCXdoaWxlIChtLS0pIHsNCgkJaW50IHUsIHYsIHc7DQoJCWNpbiA+PiB3ID4+IHUgPj4gdjsNCgkJdS0tLCB2LS07DQoJCWlmICh3ID09IDApIHsNCgkJCWRzLm1lcmdlKDIgKiB1LCAyICogdik7DQoJCQlkcy5tZXJnZSgyICogdSArIDEsIDIgKiB2ICsgMSk7DQoJCX0gZWxzZSB7DQoJCQlkcy5tZXJnZSgyICogdSwgMiAqIHYgKyAxKTsNCgkJCWRzLm1lcmdlKDIgKiB1ICsgMSwgMiAqIHYpOw0KCQl9DQoJfQ0KCWZvciAoaW50IGkgPSAwOyBpIDwgbjsgKytpKSB7DQoJCWludCB0MSA9IGRzLmZpbmQoMiAqIGkpOw0KCQlpbnQgdDIgPSBkcy5maW5kKDIgKiBpICsgMSk7DQoJCWRzLmJhZFt0MV0ucHVzaF9iYWNrKGkpOw0KCQlkcy5nb29kW3QyXS5wdXNoX2JhY2soaSk7DQoJfQ0KCQ0KCQ0KCXZlY3Rvcjx0dXBsZTx2ZWN0b3I8aW50PiwgdmVjdG9yPGludD4+PiBjYW5kaWRhdGU7DQoJZm9yIChpbnQgaSA9IDA7IGkgPCBuOyArK2kpIHsNCgkJaWYgKGRzLmZpbmQoMiAqIGkpID09IGRzLmZpbmQoMiAqIGkgKyAxKSkgew0KCQkJY291dCA8PCAiTk9cbiI7DQoJCQlyZXR1cm47DQoJCX0NCgl9DQoNCgl2ZWN0b3I8aW50PiB2aXMoMiAqIG4pOw0KCWludCBzID0gMDsNCglmb3IgKGludCBpID0gMDsgaSA8IG47ICsraSkgew0KCQlpbnQgeCA9IGRzLmZpbmQoMiAqIGkpOw0KCQlpZiAodmlzW3hdKSBjb250aW51ZTsNCgkJdmlzW3hdID0gMTsNCgkJdmlzW2RzLmZpbmQoMiAqIGkgKyAxKV0gPSAxOw0KCQkNCi8vCQkgY291dCA8PCAiZ29vZFxuIjsNCi8vCQlmb3IgKGF1dG8geCA6IGRzLmdvb2RbeF0pIHsNCi8vCQkJY291dCA8PCB4IDw8ICIgIjsNCi8vCQl9DQovLwkJY291dCA8PCAiXG5iYWRcbiI7DQovLwkJZm9yIChhdXRvIHggOiBkcy5iYWRbeF0pIHsNCi8vCQkJY291dCA8PCB4IDw8ICIgIjsNCi8vCQl9DQovLwkJY291dCA8PCAiXG4tLS1cbiI7IA0KCQkNCgkJY2FuZGlkYXRlLnB1c2hfYmFjayh7c3RkOjptb3ZlKGRzLmdvb2RbeF0pLCBzdGQ6Om1vdmUoZHMuYmFkW3hdKX0pOw0KCQ0KCQkNCgl9DQoJDQoNCgkNCgltYXA8aW50LCBpbnQ+IGNudDsNCglmb3IgKGF1dG8mIFtnb29kLCBiYWRdIDogY2FuZGlkYXRlKSB7DQoJCWlmIChnb29kLnNpemUoKSA+IGJhZC5zaXplKCkpIHsNCgkJCXN3YXAoZ29vZCwgYmFkKTsNCgkJfQ0KCQlzICs9IGdvb2Quc2l6ZSgpOw0KCQlpbnQgZGlmZiA9IGJhZC5zaXplKCkgLSBnb29kLnNpemUoKTsNCgkJY250W2RpZmZdKys7DQoJfQkNCgkNCgkNCgl2ZWN0b3I8cGFpcjxpbnQsIGludD4+IHN0b3JlOw0KCWZvciAoaW50IGRpZmYgPSAxOyBkaWZmIDw9IG47ICsrZGlmZikgew0KCQlpbnQgbnVtID0gY250W2RpZmZdOw0KCQlpZiAobnVtID09IDApIGNvbnRpbnVlOw0KLy8JZm9yIChhdXRvIFtkaWZmLCBudW1dIDogY250KSB7DQovLwkJaWYgKG51bSA9PSAwKSBjDQovLwkJdmVjdG9yPGludD4gc3RvcmU7DQoJCWludCBjdXIgPSAxOw0KCQl3aGlsZSAoY3VyIDwgbnVtKSB7DQovLwkJCXN0b3JlLnB1c2hfYmFjayhjdXIpOw0KCQkJc3RvcmUuZW1wbGFjZV9iYWNrKGRpZmYsIGRpZmYgKiBjdXIpOw0KCQkJbnVtIC09IGN1cjsNCgkJCWN1ciA8PD0gMTsNCgkJfQ0KCQlpZiAobnVtID4gMCkgew0KCQkJc3RvcmUuZW1wbGFjZV9iYWNrKGRpZmYsIGRpZmYgKiBudW0pOw0KCQl9DQoJCQ0KCX0NCgkNCi8vCWNvdXQgPDwgImluaXQgIiA8PCBzIDw8ICJcbiI7DQoJaW50IG51bV9pdGVtID0gc3RvcmUuc2l6ZSgpOw0KLy8JZm9yIChhdXRvIFt4LCB5XSA6IHN0b3JlKSB7DQovLwkJY291dCA8PCB4IDw8ICIgIiA8PCB5IDw8ICJcbiI7DQovLwl9DQoJdmVjdG9yPHZlY3RvcjxpbnQ+PiBkcChudW1faXRlbSArIDEsIHZlY3RvcjxpbnQ+KG4gKyAxKSk7DQoJZHBbMF1bc10gPSAxOw0KLy8JdmVjdG9yPHZlY3RvcjxwYWlyPGludCwgaW50Pj4gcChudW1faXRlbSArIDEsIHZlY3RvcjxpbnQ+KG4gKyAxKSk7DQoJZm9yIChpbnQgaSA9IDA7IGkgPCBudW1faXRlbTsgKytpKSB7DQoJCWF1dG8gW2dyb3VwX3NpemUsIHZhbF0gPSBzdG9yZVtpXTsNCgkJZHBbaSArIDFdID0gZHBbaV07DQoJCWZvciAoaW50IGogPSB2YWw7IGogPD0gbjsgKytqKSB7DQoJCQlpZiAoZHBbaV1baiAtIHZhbF0pIHsNCgkJCQlkcFtpICsgMV1bal0gPSAxOw0KLy8JCQkJcFtpXVtqXSA9IHtpLCBqIC0gdmFsfTsNCgkJCX0NCgkJfQ0KCX0NCgkNCgkNCglpZiAoZHBbbnVtX2l0ZW1dW3FdID09IDApIHsNCgkJY291dCA8PCAiTk9cbiI7DQoJCXJldHVybjsNCgl9DQoJDQoJDQoJaW50IGN1ciA9IHE7DQoJZm9yIChpbnQgaSA9IG51bV9pdGVtIC0gMTsgaSA+PSAwOyAtLWkpIHsNCgkJYXV0byBbZ3JvdXBfc2l6ZSwgdmFsXSA9IHN0b3JlW2ldOw0KCQlpZiAoZ3JvdXBfc2l6ZSA9PSAwKSB7DQoJCQljb250aW51ZTsNCgkJfQ0KCQlpZiAoZHBbaV1bY3VyIC0gdmFsXSkgew0KCQkJdXNlZF9jbnRbZ3JvdXBfc2l6ZV0gKz0gdmFsIC8gZ3JvdXBfc2l6ZTsNCgkJCWN1ciAtPSB2YWw7DQovLwkJCWNvdXQgPDwgInRha2UgIiA8PCB2YWwgPDwgIlxuIjsNCgkJfSANCgl9DQoJDQoJDQoJDQoJdmVjdG9yPGludD4gaXNfZ29vZChuKTsNCgkNCglmb3IgKGF1dG8mIFtnb29kLCBiYWRdIDogY2FuZGlkYXRlKSB7DQoJCWludCBkaWZmID0gYmFkLnNpemUoKSAtIGdvb2Quc2l6ZSgpOw0KCQlpZiAodXNlZF9jbnRbZGlmZl0pIHsNCgkJCXVzZWRfY250W2RpZmZdLS07DQoJCQlmb3IgKGF1dG8geCA6IGJhZCkgew0KCQkJCWlzX2dvb2RbeF0gPSAxOw0KCQkJfQ0KCQl9IGVsc2Ugew0KCQkJZm9yIChhdXRvIHggOiBnb29kKSB7DQoJCQkJaXNfZ29vZFt4XSA9IDE7DQoJCQl9DQoJCX0NCgl9DQoNCgljb3V0IDw8ICJZRVNcbiI7DQoJZm9yIChpbnQgaSA9IDA7IGkgPCBuOyArK2kpIHsNCgkJaWYgKGlzX2dvb2RbaV0pIHsNCgkJCWNvdXQgPDwgaSArIDE8PCAiICI7DQoJCX0NCgl9DQoJY291dCA8PCAiXG4iOw0KfQ0KDQpzaWduZWQgbWFpbigpIHsNCglpb3M6OnN5bmNfd2l0aF9zdGRpbyhmYWxzZSk7DQoJc29sdmUoKTsNCgkNCn0NCg0KDQovKg0KNCAyIDINCjAgMyA0DQowIDEgMg0KDQo0IDIgNA0KMSAxIDMNCjEgMiA0DQowIDMgNA0KMCAxIDINCg0KMTMgNyAxMQ0KMCAxIDINCjAgMSAzDQowIDEgNA0KMCAxIDUNCjEgMSA2DQoxIDEgNw0KMCA4IDkNCjAgOCAxMA0KMCA4IDExDQoxIDEzIDEyDQoxIDEyIDEzDQoqLw=="}]