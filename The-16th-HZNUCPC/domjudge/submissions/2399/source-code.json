[{"id":"2399","submission_id":"2399","filename":"3.cpp","source":"I2luY2x1ZGU8Yml0cy9zdGRjKysuaD4NCnVzaW5nIG5hbWVzcGFjZSBzdGQ7DQp0eXBlZGVmIGxvbmcgbG9uZyBsbDsNCiNkZWZpbmUgZGVidWcoeCkgY2Vycjw8I3g8PCIgIjw8eDw8IlxuIg0KDQp2b2lkIF9zb2x2ZSgpew0KICAgIHN0cmluZyBzO2Npbj4+czsNCiAgICBpbnQgYW5zPTA7DQogICAgaW50IG49cy5sZW5ndGgoKTsNCiAgICBmb3IoaW50IGk9MDtpPG47aSsrKXsNCiAgICAgICAgdmVjdG9yPHBhaXI8Y2hhcixjaGFyPiA+dmVjOw0KICAgICAgICBmb3IoaW50IFI9MTs7UisrKXsNCiAgICAgICAgICAgIGludCBsPWktUjsNCiAgICAgICAgICAgIGludCByPWkrUjsNCiAgICAgICAgICAgIGlmKGw8MHx8cj49bikgYnJlYWs7DQogICAgICAgICAgICBpZihzW2xdPT1zW3JdKXsNCiAgICAgICAgICAgICAgICBpZih2ZWMuc2l6ZSgpPT0wfHx2ZWMuc2l6ZSgpPT0yKQ0KICAgICAgICAgICAgICAgICAgICBhbnM9bWF4KGFucyxyLWwrMSk7DQogICAgICAgICAgICAgICAgY29udGludWU7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBpZih2ZWMuc2l6ZSgpPT0yKSBicmVhazsNCiAgICAgICAgICAgIHZlYy5wdXNoX2JhY2soe3NbbF0sc1tyXX0pOw0KICAgICAgICAgICAgaWYodmVjLnNpemUoKT09MSkgY29udGludWU7DQogICAgICAgICAgICBlbHNlIGlmKHZlYy5zaXplKCk9PTIpew0KICAgICAgICAgICAgICAgIGlmKHZlY1swXT09dmVjWzFdKXsNCiAgICAgICAgICAgICAgICAgICAgYW5zPW1heChhbnMsci1sKzEpOw0KICAgICAgICAgICAgICAgICAgICBjb250aW51ZTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgc3dhcCh2ZWNbMF0uZmlyc3QsdmVjWzBdLnNlY29uZCk7DQogICAgICAgICAgICAgICAgaWYodmVjWzBdPT12ZWNbMV0pew0KICAgICAgICAgICAgICAgICAgICBhbnM9bWF4KGFucyxyLWwrMSk7DQogICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgIH0NCg0KICAgIGZvcihpbnQgaT0wO2k8bjtpKyspew0KICAgICAgICB2ZWN0b3I8cGFpcjxjaGFyLGNoYXI+ID52ZWM7DQogICAgICAgIGZvcihpbnQgUj0xOztSKyspew0KICAgICAgICAgICAgaW50IGw9aS1SKzE7DQogICAgICAgICAgICBpbnQgcj1pK1I7DQogICAgICAgICAgICBpZihsPDB8fHI+PW4pIGJyZWFrOw0KICAgICAgICAgICAgaWYoc1tsXT09c1tyXSl7DQogICAgICAgICAgICAgICAgaWYodmVjLnNpemUoKT09MHx8dmVjLnNpemUoKT09MikNCiAgICAgICAgICAgICAgICAgICAgYW5zPW1heChhbnMsci1sKzEpOw0KICAgICAgICAgICAgICAgIGNvbnRpbnVlOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgaWYodmVjLnNpemUoKT09MikgYnJlYWs7DQogICAgICAgICAgICB2ZWMucHVzaF9iYWNrKHtzW2xdLHNbcl19KTsNCiAgICAgICAgICAgIGlmKHZlYy5zaXplKCk9PTEpIGNvbnRpbnVlOw0KICAgICAgICAgICAgZWxzZSBpZih2ZWMuc2l6ZSgpPT0yKXsNCiAgICAgICAgICAgICAgICBpZih2ZWNbMF09PXZlY1sxXSl7DQogICAgICAgICAgICAgICAgICAgIGFucz1tYXgoYW5zLHItbCsxKTsNCiAgICAgICAgICAgICAgICAgICAgY29udGludWU7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIHN3YXAodmVjWzBdLmZpcnN0LHZlY1swXS5zZWNvbmQpOw0KICAgICAgICAgICAgICAgIGlmKHZlY1swXT09dmVjWzFdKXsNCiAgICAgICAgICAgICAgICAgICAgYW5zPW1heChhbnMsci1sKzEpOw0KICAgICAgICAgICAgICAgICAgICBjb250aW51ZTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICB9DQoNCiAgICBmb3IoaW50IGk9MDtpPG47aSsrKXsNCiAgICAgICAgaW50IGY9MDsNCiAgICAgICAgZm9yKGludCBSPTE7O1IrKyl7DQogICAgICAgICAgICBpbnQgbD1pLVI7DQogICAgICAgICAgICBpbnQgcj1pK1I7DQogICAgICAgICAgICBpZihsPDB8fHI+PW4pIGJyZWFrOw0KLy8gICAgICAgICAgICBkZWJ1ZyhzW2ldKTsNCi8vICAgICAgICAgICAgZGVidWcoc1tsXSk7DQovLyAgICAgICAgICAgIGRlYnVnKHNbcl0pOw0KICAgICAgICAgICAgaWYoc1tsXT09c1tyXSl7DQogICAgICAgICAgICAgICAgYW5zPW1heChhbnMsci1sKzEpOw0KICAgICAgICAgICAgICAgIGNvbnRpbnVlOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgaWYoc1tsXT09c1tpXXx8c1tyXT09c1tpXSl7DQogICAgICAgICAgICAgICAgaWYoZil7DQogICAgICAgICAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBhbnM9bWF4KGFucyxyLWwrMSk7DQovLyAgICAgICAgICAgICAgICBkZWJ1ZyhyLWwrMSk7DQogICAgICAgICAgICAgICAgZj0xOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgZWxzZSBicmVhazsNCiAgICAgICAgfQ0KICAgIH0NCiAgICBjb3V0PDxhbnM8PCJcbiI7DQp9DQoNCmludCBtYWluKCl7DQogICAgaW9zOjpzeW5jX3dpdGhfc3RkaW8oZmFsc2UpOw0KDQogICAgaW50IFQ7Y2luPj5UO3doaWxlKFQtLSkNCiAgICBfc29sdmUoKTsNCn0NCg=="}]