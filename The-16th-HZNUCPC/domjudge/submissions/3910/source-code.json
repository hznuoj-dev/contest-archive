[{"id":"3910","submission_id":"3910","filename":"2.cpp","source":"I2luY2x1ZGU8aW9zdHJlYW0+DQojaW5jbHVkZTx2ZWN0b3I+DQojaW5jbHVkZTxzdHJpbmc+DQojaW5jbHVkZTxjbWF0aD4NCiNpbmNsdWRlPHVub3JkZXJlZF9tYXA+DQojaW5jbHVkZTxhbGdvcml0aG0+DQp1c2luZyBuYW1lc3BhY2Ugc3RkOw0KdHlwZWRlZiBsb25nIGxvbmcgTEw7DQp0eXBlZGVmIHBhaXI8aW50LGludD5QSUk7DQppbnQgdG9uZ1sxMDAxMF1bNTAxMF07DQp2ZWN0b3I8aW50PnFbNTAwMTBdOw0Kc3RyaW5nIHMsdDsNCmludCBuOw0KYm9vbCBjaGVjayhpbnQgbCxpbnQgcikNCnsNCi8vCWNvdXQ8PCJsPSI8PGw8PCIgIjw8cjw8ZW5kbDsNCglpbnQgcnI9bi1yOw0KCWludCBweT1sLXJyKzUwMTA7DQoJdmVjdG9yPFBJST5pZHg7DQoJaW50IGxsbD1sLHJycj1yOw0KCWlmKHItbCsxPT0yJiZzW2xdIT1zW3JdKXJldHVybiBmYWxzZTsNCi8vCWlmKCEobD09MCYmcj09NSkpcmV0dXJuIGZhbHNlOw0KCXdoaWxlKDEpew0KCQlhdXRvIHA9bG93ZXJfYm91bmQocVtweV0uYmVnaW4oKSxxW3B5XS5lbmQoKSxsKTsNCgkJaWYocCE9cVtweV0uZW5kKCkmJipwPD1yKXsNCgkJCWludCBpZD0qcCxpZDI9bi0qcDsNCi8vCQkJY291dDw8aWQ8PGVuZGw7DQoJCQlpZHgucHVzaF9iYWNrKHtzW2lkXS0nYScsdFtpZF0tJ2EnfSk7DQoJCQlsPSpwKzE7DQoJCX0NCgkJZWxzZSBicmVhazsNCgl9DQovLwljb3V0PDxsbDw8IiAiPDxycnI8PCIgIjw8aWR4LnNpemUoKTw8IiAiPDxweS01MDEwPDxlbmRsOw0KCWlmKChpbnQpaWR4LnNpemUoKSE9NCYmKGludClpZHguc2l6ZSgpIT0yKXJldHVybiBmYWxzZTsNCglzb3J0KGlkeC5iZWdpbigpLGlkeC5lbmQoKSk7DQoJaWYoKGludClpZHguc2l6ZSgpPT00KXsNCgkJCWlmKGlkeFswXS5maXJzdD09aWR4WzFdLmZpcnN0JiZpZHhbMF0uc2Vjb25kPT1pZHhbMV0uc2Vjb25kKXsNCgkJaWYoaWR4WzJdLmZpcnN0PT1pZHhbM10uZmlyc3QmJmlkeFsyXS5zZWNvbmQ9PWlkeFszXS5zZWNvbmQpew0KCQkJaWYoIShpZHhbMV0uZmlyc3Q9PWlkeFsyXS5maXJzdCYmaWR4WzFdLnNlY29uZD09aWR4WzJdLnNlY29uZCkpew0KCQkJCWlmKGlkeFswXS5maXJzdD09aWR4WzJdLnNlY29uZCYmaWR4WzBdLnNlY29uZD09aWR4WzJdLmZpcnN0KXsNCgkJCQkJcmV0dXJuIHRydWU7DQoJCQkJfQ0KCQkJfQ0KCQl9DQoJfQ0KLy8JY291dDw8aWR4WzBdLmZpcnN0PDwiICI8PGlkeFswXS5zZWNvbmQ8PCIgIjw8aWR4WzFdLmZpcnN0PDwiICI8PGlkeFsxXS5zZWNvbmQ8PGVuZGw7DQovLwljb3V0PDxsbDw8IiAiPDxycnI8PCIgIjw8aWR4LnNpemUoKTw8IiAiPDxweS01MDEwPDxlbmRsOw0KCXJldHVybiBmYWxzZTsNCgl9DQoJZWxzZXsNCgkJaWYoKHItbCsxKSUyPT0wKXJldHVybiBmYWxzZTsNCi8vCQljb3V0PDwiaGg9Ijw8ZW5kbDsNCi8vCQljb3V0PDwiaWR4PSI8PGlkeFswXS5maXJzdDw8IiAiPDxpZHhbMF0uc2Vjb25kPDwiICI8PGlkeFsxXS5maXJzdDw8IiAiPDxpZHhbMV0uc2Vjb25kPDxlbmRsOw0KCQlpZihpZHhbMF0uZmlyc3Q9PWlkeFsxXS5zZWNvbmQmJmlkeFswXS5zZWNvbmQ9PWlkeFsxXS5maXJzdCl7DQovLwkJCWNvdXQ8PCJvcD0iPDxzWyhsbGwrcnJyKS8yXTw8ZW5kbDsNCgkJCWlmKGlkeFswXS5maXJzdD09c1sobGxsK3JycikvMl0tJ2EnfHxpZHhbMF0uc2Vjb25kPT1zWyhsbGwrcnJyKS8yXS0nYScpcmV0dXJuIHRydWU7DQoJCQllbHNlIHJldHVybiBmYWxzZTsNCgkJfQ0KCQllbHNlIHJldHVybiBmYWxzZTsNCgl9DQp9DQpzaWduZWQgbWFpbigpDQp7DQoJY2luLnRpZSgwKTtjb3V0LnRpZSgwKTsNCglpb3M6OnN5bmNfd2l0aF9zdGRpbyhmYWxzZSk7DQoJaW50IFQ7DQoJY2luPj5UOw0KCXdoaWxlKFQtLSkNCgl7DQoJCWNpbj4+czsNCgkJbj1zLnNpemUoKTsNCgkJDQoJCXZlY3RvcjxjaGFyPmE7DQoJCWEucHVzaF9iYWNrKDApOw0KCQlmb3IoaW50IGk9MDtpPG47aSsrKXsNCgkJCWEucHVzaF9iYWNrKHNbaV0pOw0KCQkJYS5wdXNoX2JhY2soMCk7DQoJCX0JCQ0KCQl2ZWN0b3I8aW50PnA7DQoJCXAucmVzaXplKGEuc2l6ZSgpKTsNCgkJcFswXT0wOw0KCQlpbnQgaWQsbXg9MDsNCgkJZm9yKGludCBpPTE7aTxhLnNpemUoKTtpKyspew0KCQkJaWYoaTxteClwW2ldPW1pbihteC1pLHBbMippZC1pXSk7DQoJCQllbHNlIHBbaV09MTsNCgkJCXdoaWxlKGktcFtpXT49MCYmaStwW2ldPGEuc2l6ZSgpJiZhW2ktcFtpXV09PWFbaStwW2ldXSkrK3BbaV07DQoJCQlpZihteDxpK3BbaV0pew0KCQkJCW14PWkrcFtpXTsNCgkJCQlpZD1pOw0KCQkJfQ0KCQl9DQoJCWludCByZXM9MDsNCgkJZm9yKGludCBpPTA7aTxhLnNpemUoKTtpKyspcmVzPW1heChyZXMscFtpXS0xKTsNCgkJaWYocmVzPT0xKXJlcz0wOw0KCQlmb3IoaW50IGk9MDtpPD1uKzUwMTA7aSsrKXsNCgkJCWZvcihpbnQgaj0wO2o8PW47aisrKXsNCgkJCQl0b25nW2ldW2pdPTA7DQoJCQl9DQoJCX0NCgkJZm9yKGludCBpPTA7aTw9MzAwMDA7aSsrKXFbaV0uY2xlYXIoKTsNCgkJdD1zOw0KCQluLS07DQoJCXJldmVyc2UodC5iZWdpbigpLHQuZW5kKCkpOw0KCQlmb3IoaW50IHB5PS0obik7cHk8PW47cHkrKyl7DQoJCQlmb3IoaW50IGo9MDtqPD1uO2orKyl7DQoJCQkJaWYoai1weTwwfHxqLXB5Pm4pY29udGludWU7DQoJCQkJaWYoc1tqXSE9dFtqLXB5XSl0b25nW3B5KzUwMTBdW2pdPTE7DQoJCQl9DQoJCX0NCgkJZm9yKGludCBweT0tKG4pO3B5PD1uO3B5Kyspew0KCQkJaW50IHA9cHkrNTAxMDsNCgkJCWZvcihpbnQgaj0wO2o8PW47aisrKXsNCgkJCQlpZihqLXB5PDB8fGotcHk+biljb250aW51ZTsNCgkJCQlpZih0b25nW3BdW2pdKXFbcF0ucHVzaF9iYWNrKGopOw0KCQkJfQ0KCQl9DQoJCWZvcihpbnQgbD0wO2w8PW47bCsrKXsNCgkJCWZvcihpbnQgcj1sO3I8PW47cisrKXsNCgkJCQlpZihjaGVjayhsLHIpKXJlcz1tYXgocmVzLHItbCsxKTsNCgkJCX0NCgkJfQ0KCQljb3V0PDxyZXM8PGVuZGw7DQoJfQ0KfQ0K"}]