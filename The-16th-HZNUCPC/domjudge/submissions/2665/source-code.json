[{"id":"2665","submission_id":"2665","filename":"B.cpp","source":"I2luY2x1ZGUgPGJpdHMvc3RkYysrLmg+CgojZGVmaW5lIGRiZyh4Li4uKSBcCiAgICBkbyB7IFwKICAgICAgICBzdGQ6OmNvdXQgPDwgI3ggPDwgIiAtPiAiOyBcCiAgICAgICAgZXJyKHgpOyBcCiAgICB9IHdoaWxlICgwKQoKdm9pZCBlcnIoKSB7CiAgICBzdGQ6OmNvdXQgPDwgc3RkOjplbmRsOwp9Cgp0ZW1wbGF0ZTxjbGFzcyBULCBjbGFzcy4uLiBUcz4Kdm9pZCBlcnIoVCBhcmcsIFRzICYuLi4gYXJncykgewogICAgc3RkOjpjb3V0IDw8IGFyZyA8PCAnICc7CiAgICBlcnIoYXJncy4uLik7Cn0KCnVzaW5nIGxsID0gbG9uZyBsb25nOwp1c2luZyBsZCA9IGxvbmcgZG91YmxlOwp1c2luZyB1bGwgPSB1bnNpZ25lZCBsb25nIGxvbmc7CnVzaW5nIGkxMjggPSBfX2ludDEyODsKdXNpbmcgcCA9IHN0ZDo6cGFpcjxsbCwgbGw+Owp1c2luZyBwMTI4ID0gc3RkOjpwYWlyPGkxMjgsIGkxMjg+OwoKcCBvcGVyYXRvci0ocCAmcDEsIHAgJnAyKSB7CiAgICByZXR1cm4ge3AxLmZpcnN0IC0gcDIuZmlyc3QsIHAxLnNlY29uZCAtIHAyLnNlY29uZH07Cn0KCmkxMjggb3BlcmF0b3IqKHAgJnAxLCBwICZwMikgewogICAgcmV0dXJuIHAxLmZpcnN0ICogcDIuZmlyc3QgKyBwMS5zZWNvbmQgKiBwMi5zZWNvbmQ7Cn07Cgp2b2lkIHJ1bihpbnQgdENhc2UpIHsKICAgIGludCBuOwogICAgc3RkOjpjaW4gPj4gbjsKICAgIGF1dG8gYWJzID0gWyZdKHAgJnApIHsKICAgICAgICByZXR1cm4gcC5maXJzdCAqIHAuZmlyc3QgKyBwLnNlY29uZCAqIHAuc2Vjb25kOwogICAgfTsKICAgIGF1dG8gbXVsdGkgPSBbJl0ocCBwMSwgcCBwMikgewogICAgICAgIHJldHVybiBwMS5maXJzdCAqIHAyLnNlY29uZCAtIHAxLnNlY29uZCAqIHAyLmZpcnN0OwogICAgfTsKICAgIHN0ZDo6bWFwPHN0ZDo6dmVjdG9yPHAxMjg+LCBpbnQ+IG1wOwogICAgZm9yIChpbnQgXyA9IDA7IF8gPCBuOyArK18pIHsKICAgICAgICBpbnQgbTsKICAgICAgICBzdGQ6OmNpbiA+PiBtOwogICAgICAgIHN0ZDo6dmVjdG9yPHA+IHYobSk7CiAgICAgICAgZm9yIChhdXRvICZbeCwgeV06IHYpIHsKICAgICAgICAgICAgc3RkOjpjaW4gPj4geCA+PiB5OwogICAgICAgIH0KICAgICAgICBzdGQ6OnNvcnQodi5iZWdpbigpLCB2LmVuZCgpKTsKICAgICAgICBwIG8gPSB2WzBdOwogICAgICAgIHN0ZDo6c29ydCh2LmJlZ2luKCksIHYuZW5kKCksIFsmXShwICZwMSwgcCAmcDIpIHsKICAgICAgICAgICAgaWYgKG11bHRpKHAxIC0gbywgcDIgLSBvKSkgcmV0dXJuIG11bHRpKHAxIC0gbywgcDIgLSBvKSA+IDA7CiAgICAgICAgICAgIHJldHVybiBwMS5maXJzdCA8IHAyLmZpcnN0OwogICAgICAgIH0pOwogICAgICAgIHN0ZDo6dmVjdG9yPHAxMjg+IGFuZ2xlczsKICAgICAgICBmb3IgKGludCBpID0gMDsgaSA8IG07ICsraSkgewogICAgICAgICAgICBpbnQgaiA9IChpICsgMSkgJSBtOwogICAgICAgICAgICBpbnQgayA9IChpICsgMikgJSBtOwogICAgICAgICAgICBwIHAxID0gdltqXSAtIHZbaV07IC8vaSAtPiBqLCBqIC0+IGsKICAgICAgICAgICAgcCBwMiA9IHZba10gLSB2W2pdOwogICAgICAgICAgICBpMTI4IHVwID0gcDEgKiBwMjsKICAgICAgICAgICAgdXAgKj0gdXA7CiAgICAgICAgICAgIGkxMjggZG93biA9IDE7CiAgICAgICAgICAgIGRvd24gKj0gYWJzKHAxKTsKICAgICAgICAgICAgZG93biAqPSBhYnMocDIpOwogICAgICAgICAgICBpMTI4IGcgPSBzdGQ6OmdjZCh1cCwgZG93bik7CiAgICAgICAgICAgIHVwIC89IGcsIGRvd24gLz0gZzsKICAgICAgICAgICAgYW5nbGVzLmVtcGxhY2VfYmFjayh1cCwgZG93bik7CiAgICAgICAgfQogICAgICAgIHN0ZDo6c29ydChhbmdsZXMuYmVnaW4oKSwgYW5nbGVzLmVuZCgpKTsKICAgICAgICBzdGQ6OmNvdXQgPDwgbXBbYW5nbGVzXSA8PCAnXG4nOwogICAgICAgIG1wW2FuZ2xlc10rKzsKICAgIH0KfQoKaW50IG1haW4oKSB7CiAgICBzdGQ6Omlvc19iYXNlOjpzeW5jX3dpdGhfc3RkaW8oZmFsc2UpOwogICAgc3RkOjpjaW4udGllKG51bGxwdHIpOwogICAgaW50IFQgPSAxOwovLyAgICBzdGQ6OmNpbiA+PiBUOwogICAgZm9yIChpbnQgdCA9IDE7IHQgPD0gVDsgKyt0KSB7CiAgICAgICAgcnVuKHQpOwogICAgfQogICAgcmV0dXJuIDA7Cn0="}]