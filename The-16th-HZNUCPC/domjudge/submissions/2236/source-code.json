[{"id":"2236","submission_id":"2236","filename":"d.cpp","source":"I2luY2x1ZGU8Yml0cy9zdGRjKysuaD4NCnVzaW5nIG5hbWVzcGFjZSBzdGQ7DQpzdHJ1Y3QgQlVTew0KCWludCB0LGwscjsNCn1hWzEwMDA1MF07DQpzdHJ1Y3QgVEFOR3sNCglpbnQgdCxwLGlkOw0KfWNbMTAwMDUwXTsNCnN0cnVjdCBUew0KCWludCBtaSxhZCxsLHI7DQp9dFsyMDAwMDUwXTsNCmludCBuLG0seCxiWzEwMDAwNTBdLGFuc1sxMDAwNTBdOw0KYm9vbCBjbXAxKEJVUyBhLEJVUyBiKQ0Kew0KCWlmKGEudCE9Yi50KXJldHVybiBhLnQ+Yi50Ow0KCXJldHVybiBhLnI+Yi5yOw0KLy8JcmV0dXJuIGEudD5iLnQ7DQp9DQpib29sIGNtcDIoVEFORyBhLFRBTkcgYikNCnsNCglyZXR1cm4gYS50PmIudDsNCn0NCnZvaWQgYnVpbGQoaW50IGwsaW50IHIsaW50IHApDQp7DQoJdFtwXS5sPWw7DQoJdFtwXS5yPXI7DQoJdFtwXS5taT0xMDAwMDAwOw0KCWlmKGw8cikNCgl7DQoJCWludCBtaWQ9KGwrcikvMjsNCgkJYnVpbGQobCxtaWQsMipwKTsNCgkJYnVpbGQobWlkKzEsciwyKnArMSk7DQoJfQ0KfQ0Kdm9pZCBkb3duKGludCBwKQ0Kew0KCWlmKHRbcF0uYWQ9PTApcmV0dXJuOw0KCXRbMipwXS5hZD10W3BdLmFkOw0KCXRbMipwXS5taT10W3BdLmFkOw0KCXRbMipwKzFdLmFkPXRbcF0uYWQ7DQoJdFsyKnArMV0ubWk9dFtwXS5hZDsNCgl0W3BdLmFkPTA7DQp9DQppbnQgcXVlcnkoaW50IHgsaW50IHApDQp7DQoJZG93bihwKTsNCglpZih0W3BdLmw9PXRbcF0ucikNCgl7DQoJCXJldHVybiB0W3BdLm1pOw0KCX0NCglpbnQgbWlkPSh0W3BdLmwrdFtwXS5yKS8yOw0KCWlmKHg8PW1pZClyZXR1cm4gcXVlcnkoeCwyKnApOw0KCXJldHVybiBxdWVyeSh4LDIqcCsxKTsNCn0NCmludCBnZXRQb3MoaW50IHgsaW50IHApDQp7DQoJZG93bihwKTsNCglpZih0W3BdLmw9PXRbcF0ucilyZXR1cm4gdFtwXS5sOw0KCWlmKHRbMipwXS5taTw9eClyZXR1cm4gZ2V0UG9zKHgsMipwKTsNCglyZXR1cm4gZ2V0UG9zKHgsMipwKzEpOw0KfQ0Kdm9pZCB1cGRhdGUoaW50IGwsaW50IHIsaW50IHgsaW50IHApDQp7DQoJaWYobD5yKXJldHVybjsNCglkb3duKHApOw0KCWlmKGw9PXRbcF0ubCYmcj09dFtwXS5yKQ0KCXsNCgkJdFtwXS5taT10W3BdLmFkPXg7DQoJCXJldHVybjsNCgl9DQoJaW50IG1pZD0odFtwXS5sK3RbcF0ucikvMjsNCglpZihyPD1taWQpdXBkYXRlKGwscix4LDIqcCk7DQoJZWxzZSBpZihsPm1pZCl1cGRhdGUobCxyLHgsMipwKzEpOw0KCWVsc2UgdXBkYXRlKGwsbWlkLHgsMipwKSx1cGRhdGUobWlkKzEscix4LDIqcCsxKTsNCgl0W3BdLm1pPW1pbih0WzIqcF0ubWksdFsyKnArMV0ubWkpOw0KfQ0KaW50IG1haW4oKXsNCgljaW4+Pm4+Pm0+Png7DQoJYlsrK2JbMF1dPXg7DQoJZm9yKGludCBpPTE7aTw9bjtpKyspDQoJew0KCQlzY2FuZigiJWQlZCVkIiwmYVtpXS50LCZhW2ldLmwsJmFbaV0ucik7DQoJCWJbKytiWzBdXT1hW2ldLmw7DQoJCWJbKytiWzBdXT1hW2ldLnI7DQoJfQ0KCWZvcihpbnQgaT0xO2k8PW07aSsrKQ0KCXsNCgkJc2NhbmYoIiVkJWQiLCZjW2ldLnQsJmNbaV0ucCk7DQoJCWJbKytiWzBdXT1jW2ldLnA7DQoJCWNbaV0uaWQ9aTsNCgl9DQoJc29ydChiKzEsYitiWzBdKzEpOw0KCWJbMF09dW5pcXVlKGIrMSxiK2JbMF0rMSktYi0xOw0KCXg9bG93ZXJfYm91bmQoYisxLGIrYlswXSsxLHgpLWI7DQoJZm9yKGludCBpPTE7aTw9bjtpKyspDQoJew0KCQlhW2ldLmw9bG93ZXJfYm91bmQoYisxLGIrYlswXSsxLGFbaV0ubCktYjsNCgkJYVtpXS5yPWxvd2VyX2JvdW5kKGIrMSxiK2JbMF0rMSxhW2ldLnIpLWI7DQoJfQ0KCWZvcihpbnQgaT0xO2k8PW07aSsrKQ0KCXsNCgkJY1tpXS5wPWxvd2VyX2JvdW5kKGIrMSxiK2JbMF0rMSxjW2ldLnApLWI7DQoJfQ0KCWJ1aWxkKDEsYlswXSwxKTsNCi8vCWZvcihpbnQgaT0xO2k8PWJbMF07aSsrKXByaW50ZigiJWQgIixxdWVyeShpLDEpKTsNCi8vCXB1dHMoIiIpOw0KCXVwZGF0ZShiWzBdLGJbMF0sMCwxKTsNCi8vCWZvcihpbnQgaT0xO2k8PWJbMF07aSsrKXByaW50ZigiJWQgIixxdWVyeShpLDEpKTsNCi8vCXB1dHMoIiIpOw0KCWludCBicD0xOw0KCWludCB0cD0xOw0KCXNvcnQoYSsxLGErbisxLGNtcDEpOw0KCXNvcnQoYysxLGMrbSsxLGNtcDIpOw0KCWZvcihpbnQgaT0xMDAwMDA7aTtpLS0pDQoJew0KCQl3aGlsZShicDw9biYmYVticF0udD49aSkNCgkJew0KCQkJaW50IG1pPXF1ZXJ5KGFbYnBdLnIsMSk7DQoJCQlpZihtaT5uKQ0KCQkJew0KCQkJCWJwKys7DQoJCQkJY29udGludWU7DQoJCQl9DQoJCQlpbnQgcG9zPWdldFBvcyhtaSwxKTsNCgkJCXVwZGF0ZShhW2JwXS5sLHBvcy0xLG1pKzEsMSk7DQovLwkJCXByaW50ZigiVVBEOiAlZCAlZCAlZFxuIixhW2JwXS5sLHBvcy0xLG1pKzEpOw0KCQkJYnArKzsNCgkJfQ0KCQl3aGlsZSh0cDw9bSYmY1t0cF0udD49aSkNCgkJew0KCQkJYW5zW2NbdHBdLmlkXT1xdWVyeShjW3RwXS5wLDEpOw0KCQkJdHArKzsNCi8vCQkJZm9yKGludCBpPTE7aTw9YlswXTtpKyspcHJpbnRmKCIlZCAiLHF1ZXJ5KGksMSkpOw0KLy8JCQlwdXRzKCIiKTsNCgkJfQ0KCX0NCglmb3IoaW50IGk9MTtpPD1tO2krKylpZihhbnNbaV0+bilhbnNbaV09LTE7DQoJZm9yKGludCBpPTE7aTw9bTtpKyspcHJpbnRmKCIlZFxuIixhbnNbaV0pOw0KCXJldHVybiAwOw0KfQ0K"}]