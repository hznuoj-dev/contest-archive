[{"id":"2783","submission_id":"2783","filename":"Untitled2.cpp","source":"I2luY2x1ZGU8Yml0cy9zdGRjKysuaD4NCiNkZWZpbmUgaG9yKGksbCxyKSBmb3IoaW50IGk9bDtpPD1yO2krKykNCiNkZWZpbmUgaW5mIDB4N2ZmZmZmZmYNCiNkZWZpbmUgbHMgcDw8MQ0KI2RlZmluZSBycyBwPDwxfDENCiNkZWZpbmUgbWlkICgobCtyKT4+MSkNCnVzaW5nIG5hbWVzcGFjZSBzdGQ7DQp0ZW1wbGF0ZTx0eXBlbmFtZSBUPiB2b2lkIHJkKFQgJngpew0KICAgIGludCBmPTE7eD0wO2NoYXIgYz1nZXRjaGFyKCk7DQogICAgd2hpbGUoIWlzZGlnaXQoYykpe2lmKGM9PSctJylmPS0xO2M9Z2V0Y2hhcigpO30NCiAgICB3aGlsZShpc2RpZ2l0KGMpKXg9eCoxMCtjLTQ4LGM9Z2V0Y2hhcigpO3gqPWY7DQp9Y29uc3QgaW50IE49MmU1KzEwOw0Kc3RydWN0IHNndHsNCglzdHJ1Y3Qgbm9kZXsNCgkJaW50IG1pbix0YWc7DQoJfXRbOCpOXTsNCgl2b2lkIHVwKGludCBwKXsNCgkJdFtwXS5taW49bWluKHRbbHNdLm1pbix0W3JzXS5taW4pOw0KCX12b2lkIG1vKGludCBwLGludCB2KXsNCgkJdFtwXS5taW49bWluKHRbcF0ubWluLHYpOw0KCQl0W3BdLnRhZz1taW4odFtwXS50YWcsdik7DQoJfQ0KCXZvaWQgZG93bihpbnQgcCl7DQoJCWlmKHRbcF0udGFnPT1pbmYpcmV0dXJuOw0KCQltbyhscyx0W3BdLnRhZyk7bW8ocnMsdFtwXS50YWcpOw0KCQl0W3BdLnRhZz1pbmY7DQoJfXZvaWQgYnVpbGQoaW50IHAsaW50IGwsaW50IHIpew0KCQl0W3BdLm1pbj1pbmY7dFtwXS50YWc9aW5mO2lmKGw9PXIpIHJldHVybjsNCgkJYnVpbGQobHMsbCxtaWQpO2J1aWxkKHJzLG1pZCsxLHIpOw0KCX12b2lkIG1vZGlmeShpbnQgcCxpbnQgbCxpbnQgcixpbnQgTCxpbnQgUixpbnQgXyl7DQoJCWlmKEw8PWwmJnI8PVIpIHJldHVybiBtbyhwLF8pOw0KCQlkb3duKHApOw0KCQlpZihMPD1taWQpbW9kaWZ5KGxzLGwsbWlkLEwsUixfKTsNCgkJaWYoUj5taWQpbW9kaWZ5KHJzLG1pZCsxLHIsTCxSLF8pO3VwKHApOw0KCX12b2lkIF9tb2RpZnkoaW50IHAsaW50IGwsaW50IHIsaW50IFAsaW50IF8pew0KCQlpZihsPT1yKSByZXR1cm4gKHZvaWQpKHRbcF0ubWluPV8pOw0KCQlkb3duKHApOw0KCQlpZihQPD1taWQpX21vZGlmeShscyxsLG1pZCxQLF8pOw0KCQllbHNlIF9tb2RpZnkocnMsbWlkKzEscixQLF8pO3VwKHApOw0KCX1pbnQgcXVlcnkoaW50IHAsaW50IGwsaW50IHIsaW50IEwsaW50IFIpew0KCS8vCXByaW50ZigiJWQgJWQgJWQgJWQgJWRcbiIscCxsLHIsTCxSKTsNCgkJaWYoTDw9bCYmcjw9UikgcmV0dXJuIHRbcF0ubWluO2ludCBhbnM9aW5mOw0KCQlkb3duKHApOw0KCQlpZihMPD1taWQpIGFucz1taW4oYW5zLHF1ZXJ5KGxzLGwsbWlkLEwsUikpOw0KCQlpZihSPm1pZCkgYW5zPW1pbihhbnMscXVlcnkocnMsbWlkKzEscixMLFIpKTsNCgkJcmV0dXJuIGFuczsNCgl9DQp9VDsNCnN0cnVjdCBxdWV7DQoJaW50IG9wLGwscix0LGlkOw0KfXFbTl07DQppbnQgYlsyKk5dLGNudCxuLG0seCxBbnNbTl07DQpib29sIGNtcChxdWUgYSxxdWUgYil7DQoJaWYoYS50PT1iLnQpew0KCQlpZihhLm9wPT1iLm9wKXsJDQoJCQlpbnQgYWRpcyxiZGlzOw0KCQkJaWYoYS5sPD14JiZ4PD1hLnIpIGFkaXM9MDsNCgkJCWVsc2UgaWYoYS5yPD14KSBhZGlzPXgtYS5yOw0KCQkJZWxzZSBhZGlzPWEubC14Ow0KCQkJaWYoYi5sPD14JiZ4PD1iLnIpIGJkaXM9MDsNCgkJCWVsc2UgaWYoYi5yPD14KSBiZGlzPXgtYi5yOw0KCQkJZWxzZSBiZGlzPWIubC14Ow0KCQkJcmV0dXJuIGFkaXM8YmRpczsNCgkJfQ0KCQlyZXR1cm4gYS5vcD5iLm9wOw0KCX0NCglyZXR1cm4gYS50PmIudDsNCn0NCmludCBzYyhpbnQgeCl7DQoJcmV0dXJuIChsb3dlcl9ib3VuZChiKzEsYitjbnQrMSx4KS1iKTsNCn1pbnQgbWFpbigpew0KCXNjYW5mKCIlZCVkJWQiLCZuLCZtLCZ4KTsNCglob3IoaSwxLG4pew0KCQlzY2FuZigiJWQlZCVkIiwmcVtpXS50LCZxW2ldLmwsJnFbaV0ucikscVtpXS5vcD0xO3FbaV0uaWQ9aTsNCgkJYlsrK2NudF09cVtpXS5sO2JbKytjbnRdPXFbaV0ucjsNCgl9aG9yKGksMSxtKSBzY2FuZigiJWQlZCIsJnFbaStuXS50LCZxW2krbl0ubCkscVtpK25dLm9wPTAsYlsrK2NudF09cVtpK25dLmwscVtpK25dLmlkPWk7DQoJc29ydChxKzEscStuK20rMSxjbXApO3NvcnQoYisxLGIrY250KzEpO2NudD11bmlxdWUoYisxLGIrY250KzEpLWItMTsNCi8vLwlwdXRzKCJscmhlciB0cWwiKTsNCglULmJ1aWxkKDEsMSxuK2NudCk7DQoJVC5fbW9kaWZ5KDEsMSxuK2NudCxuK3gsMCk7DQovLwlwdXRzKCJscmhlciB0cWwiKTsNCglob3IoaSwxLG4rbSl7DQoJLy8JcHJpbnRmKCIlZFxuIixpKTsNCgkJaWYocVtpXS5vcCl7DQoJCQlxW2ldLmw9c2MocVtpXS5sKTtxW2ldLnI9c2MocVtpXS5yKTsNCgkJCWludCBsZW49VC5xdWVyeSgxLDEsbitjbnQsbitxW2ldLmwsbitxW2ldLnIpOw0KCQkJaWYobGVuPT1pbmYpIGNvbnRpbnVlOw0KCQkJVC5fbW9kaWZ5KDEsMSxuK2NudCxxW2ldLmlkLGxlbisxKTsNCgkJCVQubW9kaWZ5KDEsMSxuK2NudCxuK3FbaV0ubCxuK3FbaV0ucixsZW4rMSk7DQoJCX1lbHNlew0KCQkJcVtpXS5sPXNjKHFbaV0ubCk7DQoJCQlBbnNbcVtpXS5pZF09VC5xdWVyeSgxLDEsbitjbnQsbitxW2ldLmwsbitxW2ldLmwpOw0KCQkJaWYoQW5zW3FbaV0uaWRdPT1pbmYpIEFuc1txW2ldLmlkXT0tMTsNCgkJfQ0KCS8vCWhvcihpLDEsbitjbnQpIHByaW50ZigiJWQgIixULnF1ZXJ5KDEsMSxuK2NudCxpLGkpKTtwcmludGYoIlxuIik7DQoJfWhvcihpLDEsbSkgcHJpbnRmKCIlZFxuIixBbnNbaV0pOw0KfQ=="}]