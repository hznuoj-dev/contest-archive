[{"id":"433","submission_id":"433","filename":"E.cpp","source":"I2luY2x1ZGUgPGJpdHMvc3RkYysrLmg+CgojZGVmaW5lIGRiZyh4Li4uKSBcCiAgICBkbyB7IFwKICAgICAgICBzdGQ6OmNvdXQgPDwgI3ggPDwgIiAtPiAiOyBcCiAgICAgICAgZXJyKHgpOyBcCiAgICB9IHdoaWxlICgwKQoKdm9pZCBlcnIoKSB7CiAgICBzdGQ6OmNvdXQgPDwgc3RkOjplbmRsOwp9Cgp0ZW1wbGF0ZTxjbGFzcyBULCBjbGFzcy4uLiBUcz4Kdm9pZCBlcnIoVCBhcmcsIFRzICYuLi4gYXJncykgewogICAgc3RkOjpjb3V0IDw8IGFyZyA8PCAnICc7CiAgICBlcnIoYXJncy4uLik7Cn0KCnVzaW5nIGxsID0gbG9uZyBsb25nOwp1c2luZyBsZCA9IGxvbmcgZG91YmxlOwp1c2luZyB1bGwgPSB1bnNpZ25lZCBsb25nIGxvbmc7CnVzaW5nIGkxMjggPSBfX2ludDEyODsKCnZvaWQgcnVuKGludCB0Q2FzZSkgewogICAgaW50IG47CiAgICBzdGQ6OmNpbiA+PiBuOwogICAgdXNpbmcgcCA9IHN0ZDo6cGFpcjxpbnQsIGludD47CiAgICBzdGQ6OnZlY3RvcjxwPiB2KG4pOwogICAgZm9yIChhdXRvICZbeCwgeV06IHYpIHsKICAgICAgICBzdGQ6OmNpbiA+PiB4ID4+IHk7CiAgICB9CiAgICBhdXRvIGxpbmUgPSBbJl0oaW50IGksIGludCBqKSB7CiAgICAgICAgaW50IGR4ID0gdltpXS5maXJzdCAtIHZbal0uZmlyc3Q7CiAgICAgICAgaW50IGR5ID0gdltpXS5zZWNvbmQgLSB2W2pdLnNlY29uZDsKICAgICAgICBpbnQgZyA9IHN0ZDo6Z2NkKGR4LCBkeSk7CiAgICAgICAgZHggLz0gZywgZHkgLz0gZzsKICAgICAgICBpZiAoZHggPCAwKSB7CiAgICAgICAgICAgIGR4ICo9IC0xOwogICAgICAgICAgICBkeSAqPSAtMTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIHN0ZDo6bWFrZV9wYWlyKGR4LCBkeSk7CiAgICB9OwogICAgYXV0byBjYWxjID0gWyZdKGludCBpLCBpbnQgaikgewogICAgICAgIGludCBkeCA9IHZbaV0uZmlyc3QgLSB2W2pdLmZpcnN0OwogICAgICAgIGludCBkeSA9IHZbaV0uc2Vjb25kIC0gdltqXS5zZWNvbmQ7CiAgICAgICAgaW50IGcgPSBzdGQ6OmdjZChkeCwgZHkpOwogICAgICAgIGR4IC89IGcsIGR5IC89IGc7CiAgICAgICAgaWYgKGR4IDwgMCkgewogICAgICAgICAgICBkeCAqPSAtMTsKICAgICAgICAgICAgZHkgKj0gLTE7CiAgICAgICAgfQogICAgICAgIGludCBkZHggPSB2W2ldLmZpcnN0IC0gdltqXS5maXJzdDsKICAgICAgICBpbnQgZGR5ID0gdltpXS5zZWNvbmQgLSB2W2pdLnNlY29uZDsKICAgICAgICByZXR1cm4gZHggPyBzdGQ6OmFicyhkZHggLyBkeCkgOiBzdGQ6OmFicyhkZHkgLyBkeSk7CiAgICB9OwogICAgaW50IGFucyA9IDA7CiAgICBmb3IgKGludCBpID0gMDsgaSA8IG47ICsraSkgewogICAgICAgIGZvciAoaW50IGogPSBpICsgMTsgaiA8IG47ICsraikgewogICAgICAgICAgICBmb3IgKGludCBrID0gaiArIDE7IGsgPCBuOyArK2spIHsKICAgICAgICAgICAgICAgIGF1dG8gW2R4MSwgZHkxXSA9IGxpbmUoaSwgaik7CiAgICAgICAgICAgICAgICBhdXRvIFtkeDIsIGR5Ml0gPSBsaW5lKGosIGspOwogICAgICAgICAgICAgICAgaWYgKGR4MSA9PSBkeDIgYW5kIGR5MSA9PSBkeTIpIGNvbnRpbnVlOwogICAgICAgICAgICAgICAgaW50IHQgPSAwOwogICAgICAgICAgICAgICAgdCArPSBjYWxjKGksIGopOwogICAgICAgICAgICAgICAgdCArPSBjYWxjKGosIGspOwogICAgICAgICAgICAgICAgdCArPSBjYWxjKGksIGspOwogICAgICAgICAgICAgICAgYW5zID0gc3RkOjptYXgoYW5zLCB0KTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KICAgIHN0ZDo6Y291dCA8PCBhbnMgPDwgJ1xuJzsKfQoKaW50IG1haW4oKSB7CiAgICBzdGQ6Omlvc19iYXNlOjpzeW5jX3dpdGhfc3RkaW8oZmFsc2UpOwogICAgc3RkOjpjaW4udGllKG51bGxwdHIpOwogICAgaW50IFQgPSAxOwovLyAgICBzdGQ6OmNpbiA+PiBUOwogICAgZm9yIChpbnQgdCA9IDE7IHQgPD0gVDsgKyt0KSB7CiAgICAgICAgcnVuKHQpOwogICAgfQogICAgcmV0dXJuIDA7Cn0="}]