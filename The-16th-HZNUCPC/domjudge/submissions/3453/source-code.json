[{"id":"3453","submission_id":"3453","filename":"c.cpp","source":"I2luY2x1ZGUgImJpdHMvc3RkYysrLmgiDQp0eXBlZGVmIGxvbmcgbG9uZyBpbnQgbGw7DQp1c2luZyBuYW1lc3BhY2Ugc3RkOw0KY29uc3QgbGwgbW9kID0gMUU5Kzc7DQogDQogIA0KDQovLyB2b2lkIHNvbHZlMigpew0KLy8gICAgIGludCBuIDsNCi8vICAgICBjaW4gPj4gbjsNCi8vICAgICB2ZWN0b3I8aW50PiB2KG4pLCB2MihuKTsNCi8vICAgICB2ZWN0b3I8aW50PiBjbnQxKDI2KSwgY250MigyNik7DQovLyAgICAgdmVjdG9yPGludD4gZGlmZigyNiksIHNhbWVDaGFyKDI2KTsNCi8vICAgICBmb3IoaW50IGkgPTAgOyBpIDxuO2krKykgew0KLy8gICAgICAgICBjaW4gPj4gdltpXTsNCi8vICAgICAgICAgLy8gY250W3ZbaV0gLSAnYSddICsrOw0KLy8gICAgIH0NCi8vICAgICBmb3IoaW50IGkgPTAgOyBpIDxuO2krKykgew0KLy8gICAgICAgICBjaW4gPj4gdjJbaV07DQovLyAgICAgICAgIC8vIGNudFt2W2ldIC0gJ2EnXS0tOw0KLy8gICAgIH0NCg0KLy8gICAgIGludCBzYW1lID0gMDsNCg0KDQovLyAgICAgZm9yKGludCBpID0wIDsgaSA8bjtpKyspew0KLy8gICAgICAgICBpZih2W2ldID09IHYyW2ldKSB7DQovLyAgICAgICAgICAgICBzYW1lKys7DQovLyAgICAgICAgICAgICBzYW1lQ2hhcltpXSsrOw0KLy8gICAgICAgICB9DQovLyAgICAgICAgIGNudDFbdltpXSAtICdhJ10rKzsNCi8vICAgICAgICAgY250Mlt2MltpXSAtICdhJ10rKzsNCi8vICAgICB9DQovLyAgICAgZm9yKGludCBpID0gMDsgaSA8IDI2O2krKykgew0KLy8gICAgICAgICBkaWZmW2ldID0gKGNudDFbaV0gLSBjbnQyW2ldKTsNCi8vICAgICB9DQoNCi8vICAgICBmb3IoaW50IGkgPSAwOyBpIDwgMjY7IGkrKykgew0KLy8gICAgICAgICBpZihkaWZmW2ldID09IDApIHsNCi8vICAgICAgICAgICAgIGFucyArPSBzYW1lQ2hhcltpXSArIA0KLy8gICAgICAgICAgICAgY29udGludWU7DQovLyAgICAgICAgIH0NCi8vICAgICAgICAgZWxzZSB7DQogICAgICAgICAgICANCi8vICAgICAgICAgfQ0KDQovLyAgICAgfQ0KDQoNCg0KLy8gICAgIHJldHVybiA7DQoNCg0KLy8gfQ0KDQpjb25zdCBpbnQgTiA9IDI2Ow0KaW50IGFycltOXVtOXTsNCg0KICAgIHZvaWQgcHJpbnQodmVjdG9yPGludD4gJnYpew0KICAgICAgICBmb3IoaW50IGkgPSAwIDsgaSA8IDI2O2krKykgew0KICAgICAgICAgICAgY291dCA8PCB2W2ldIDw8IiBcbiJbaT09MjVdOw0KICAgICAgICB9DQogICAgfQ0KDQp2b2lkIHNvbHZlICgpew0KICAgIHN0cmluZyBzMSwgczI7DQogICAgY2luID4+IHMxID4+IHMyOw0KICAgIGludCBuID0gczEuc2l6ZSgpOw0KICAgIHZlY3RvcjxpbnQ+IHYobiksIHYyKG4pLCBjbnQxKDI2KSwgY250MigyNik7DQogICAgbGwgYW5zID0gMDsNCiAgICBtYXA8cGFpcjxpbnQsaW50PiwgaW50PiBtcDsNCiAgICBjaGFyIGM7DQogICAgZm9yKGludCBpID0wIDsgaSA8bjtpKyspIHsNCiAgICAgICAgDQogICAgICAgICANCiAgICAgICAgdltpXSA9IHMxW2ldLSdhJzsNCiAgICAgICAgY250MVt2W2ldXSsrOw0KICAgICAgICAvLyBjbnRbdltpXSAtICdhJ10gKys7DQogICAgfQ0KICAgIGZvcihpbnQgaSA9MCA7IGkgPG47aSsrKSB7DQogIA0KICAgICAgICB2MltpXSA9IHMyW2ldIC0nYSc7DQogICAgICAgIGNudDJbdjJbaV1dKys7DQogICAgfQ0KIA0KICAgIA0KDQogICAgZm9yKGludCBpID0gMDsgaSA8IG47aSsrKSB7DQogICAgICAgIC8vbXBbe3ZbaV0sIHYyW2ldfV0rKzsNCiAgICAgICAgYXJyW3ZbaV1dW3YyW2ldXSsrOw0KICAgIH0NCiAgICB2ZWN0b3I8IHBhaXIgPCBwYWlyPGludCxpbnQ+LCBpbnQgPiA+IHZ2Ow0KICAgICBmb3IoaW50IGkgPTAgOyBpIDwyNjtpKyspIHsNCiAgICAgICAgZm9yKGludCBqID0wIDsgaiA8MjY7aisrKSB7DQogICAgICAgICAgICBpZihhcnJbaV1bal0gPT0gMCkgY29udGludWU7DQogICAgICAgICAgICBwYWlyPHBhaXI8aW50LGludD4sIGludCA+IHggPSBtYWtlX3BhaXIobWFrZV9wYWlyKGksaiksICBhcnJbaV1bal0pOw0KICAgICAgICAgICAgLy8gdnYucHVzaF9iYWNrKHt7aSxqfSwgYXJyW2ldW2pdfSk7DQogICAgICAgICAgICB2di5wdXNoX2JhY2soIHgpOw0KICAgICAgICAgICAgDQogICAgICAgIH0NCiAgICB9DQoNCg0KIA0KICAgIGludCBtID0gdnYuc2l6ZSgpOw0KICAgIGZvcihpbnQgaSA9MCA7IGkgPCBtO2krKykgew0KICAgICAgICBmb3IoaW50IGogPSBpOyBqIDwgbTtqKyspIHsNCiAgICAgICAgICAgIC8vIGNvdXQgPDwgaSA8PCIgIjw8IGogPDwiIGFuczogIjw8IGFucyAgPDwgZW5kbDsNCiAgICAgICAgICAgIC8vIHN3YXAgMSANCiAgICAgICAgICAgIGF1dG8gW3gyLHkyXSA9IHZ2W2ldLmZpcnN0IDsNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgYXV0byBbeCwgeV0gPSB2dltqXS5maXJzdCA7DQogICAgICAgICAgICAvLyBwcmludChjbnQxKTsNCiAgICAgICAgICAgIC8vIHByaW50KGNudDIpOw0KICAgICAgICAgICAgY250MVt4XS0tOw0KICAgICAgICAgICAgY250Mlt4XSsrOw0KICAgICAgICAgICAgY250MVt4Ml0rKzsNCiAgICAgICAgICAgIGNudDJbeDJdLS07DQoNCg0KICAgICAgICAgICAgY250MVt5XS0tOw0KICAgICAgICAgICAgY250Mlt5XSsrOw0KICAgICAgICAgICAgY250MVt5Ml0rKzsNCiAgICAgICAgICAgIGNudDJbeTJdLS07Ow0KDQoNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgaW50IG9rID0gMDsNCiAgICAgICAgICAgIC8vIGNvdXQgPDwgKGNoYXIpKHgrJ2EnKSA8PCIgIiA8PCAoY2hhcikoeSsnYScpIDw8IiAtLSAiPDwgKGNoYXIpKHgyKydhJykgPDwiICIgPDwgKGNoYXIpKHkyKydhJykgPDwgZW5kbDsNCiAgICAgICAgICAgIC8vIHByaW50KGNudDEpOw0KICAgICAgICAgICAgLy8gcHJpbnQoY250Mik7DQogICAgICAgICAgICAvLyBjb3V0IDw8IiI8PCBlbmRsOw0KDQogICAgICAgICAgICBmb3IoaW50IGsgPSAwIDsgayA8IDI2O2srKyl7DQogICAgICAgICAgICAgICAgaWYoY250MVtrXSAhPSAwICYmIGNudDFba10gPT0gY250MltrXSkgew0KICAgICAgICAgICAgICAgICAgICBvayA9IDE7DQogICAgICAgICAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGlmKG9rKSB7DQogICAgICAgICAgICAgICAgaWYoaSA9PSBqKSB7DQogICAgICAgICAgICAgICAgICAgIC8vIGNvdXQgPDwiT0sxIiA8PGVuZGw7DQogICAgICAgICAgICAgICAgICAgIGFucyArPSAoKGxsICl2dltpXS5zZWNvbmQgKiAodnZbal0uc2Vjb25kIC0xKSApIC8gMjsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgZWxzZXsNCiAgICAgICAgICAgICAgICAgICAgLy8gY291dCA8PCJPSzIiIDw8ZW5kbDsNCiAgICAgICAgICAgICAgICAgICAgYW5zICs9IChsbCApdnZbaV0uc2Vjb25kICogdnZbal0uc2Vjb25kOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBhbnMgJT0gbW9kIDsgICAgDQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIGNudDFbeF0rKzsNCiAgICAgICAgICAgIGNudDJbeF0tLTsNCiAgICAgICAgICAgIGNudDFbeDJdLS07DQogICAgICAgICAgICBjbnQyW3gyXSsrOw0KDQoNCiAgICAgICAgICAgIGNudDFbeV0rKzsNCiAgICAgICAgICAgIGNudDJbeV0tLTsNCiAgICAgICAgICAgIGNudDFbeTJdLS07DQogICAgICAgICAgICBjbnQyW3kyXSsrOzsNCiAgICAgICAgICAgIC8vIHByaW50KGNudDEpOw0KICAgICAgICAgICAgLy8gcHJpbnQoY250Mik7DQoNCiAgICAgICAgfQ0KICAgIH0NCiAgICBjb3V0IDw8IGFucyA8PCBlbmRsOw0KDQp9DQoNCg0KDQppbnQgbWFpbiAoKXsNCiAgICBpb3M6OnN5bmNfd2l0aF9zdGRpbyhmYWxzZSksIGNpbi50aWUoMCksIGNvdXQudGllKDApOw0KICAgIGludCB0ID0gMTsNCiAgICAvLyBjaW4gPj4gdDsNCiAgICB3aGlsZSAodC0tKXsNCiAgICAgICAgc29sdmUoKTsNCiAgICB9DQoNCiAgICByZXR1cm4gMDsNCn0NCg=="}]