[{"id":"2705","submission_id":"2705","filename":"5.cpp","source":"I2luY2x1ZGU8Yml0cy9zdGRjKysuaD4NCg0KI2RlZmluZSBsbCBsb25nIGxvbmcNCg0KdXNpbmcgbmFtZXNwYWNlIHN0ZDsNCg0KaW50IGRpcls0XVsyXT17ezEsMH0sey0xLDB9LHswLDF9LHswLC0xfX07DQppbnQgc1syNV1bMjVdOw0KYm9vbCB2aXNbMjVdWzI1XTsNCmJvb2wgdmlzc1syNV1bMjVdOw0KDQppbnQgZGZzMShpbnQgeCxpbnQgeSl7DQoJaW50IGFucz0wOw0KCXZpc1t4XVt5XT0xOw0KCWZvcihpbnQgaT0wO2k8NDtpKyspDQoJew0KCQlpbnQgdHg9ZGlyW2ldWzBdK3g7DQoJCWludCB0eT1kaXJbaV1bMV0reTsNCgkJaWYodHg+PTEmJnR4PD0xOSYmdHk+PTEmJnR5PD0xOSkNCgkJew0KCQkJaWYoc1t0eF1bdHldPT0wJiZ2aXNzW3R4XVt0eV09PTApDQoJCQl7DQoJCQkJYW5zKys7DQoJCQkJdmlzc1t0eF1bdHldPTE7DQoJCQl9DQoJCQllbHNlIGlmKHNbdHhdW3R5XT09MSYmdmlzW3R4XVt0eV09PTApDQoJCQl7DQoJCQkJYW5zKz1kZnMxKHR4LHR5KTsNCgkJCX0NCgkJfQ0KCX0NCglyZXR1cm4gYW5zOw0KfQ0KDQppbnQgZGZzMihpbnQgeCxpbnQgeSl7DQoJaW50IGFucz0wOw0KCXZpc1t4XVt5XT0xOw0KCWZvcihpbnQgaT0wO2k8NDtpKyspDQoJew0KCQlpbnQgdHg9ZGlyW2ldWzBdK3g7DQoJCWludCB0eT1kaXJbaV1bMV0reTsNCgkJaWYodHg+PTEmJnR4PD0xOSYmdHk+PTEmJnR5PD0xOSkNCgkJew0KCQkJaWYoc1t0eF1bdHldPT0wJiZ2aXNzW3R4XVt0eV09PTApDQoJCQl7DQoJCQkJYW5zKys7DQoJCQkJdmlzc1t0eF1bdHldPTE7DQoJCQl9DQoJCQllbHNlIGlmKHNbdHhdW3R5XT09MiYmdmlzW3R4XVt0eV09PTApDQoJCQl7DQoJCQkJYW5zKz1kZnMyKHR4LHR5KTsNCgkJCX0NCgkJfQ0KCX0NCglyZXR1cm4gYW5zOw0KfQ0KDQp2b2lkIGdvbmUxKGludCB4LGludCB5KXsNCglzW3hdW3ldPTA7DQoJZm9yKGludCBpPTA7aTw0O2krKykNCgl7DQoJCWludCB0eD1kaXJbaV1bMF0reDsNCgkJaW50IHR5PWRpcltpXVsxXSt5Ow0KCQlpZih0eD49MSYmdHg8PTE5JiZ0eT49MSYmdHk8PTE5JiZzW3R4XVt0eV09PTEpDQoJCXsNCgkJCWdvbmUxKHR4LHR5KTsNCgkJfQ0KCX0NCglyZXR1cm4gOw0KfQ0KDQp2b2lkIGdvbmUyKGludCB4LGludCB5KXsNCglzW3hdW3ldPTA7DQoJZm9yKGludCBpPTA7aTw0O2krKykNCgl7DQoJCWludCB0eD1kaXJbaV1bMF0reDsNCgkJaW50IHR5PWRpcltpXVsxXSt5Ow0KCQlpZih0eD49MSYmdHg8PTE5JiZ0eT49MSYmdHk8PTE5JiZzW3R4XVt0eV09PTIpDQoJCXsNCgkJCWdvbmUyKHR4LHR5KTsNCgkJfQ0KCX0NCglyZXR1cm4gOw0KfQ0KDQppbnQgbWFpbigpDQp7DQoJaW50IFQ7DQoJd2hpbGUofnNjYW5mKCIlZCIsJlQpKQ0KCXsNCgkJd2hpbGUoVC0tKQ0KCQl7DQoJCQltZW1zZXQodmlzLDAsc2l6ZW9mKHZpcykpOw0KCQkJbWVtc2V0KHMsMCxzaXplb2YocykpOw0KCQkJbWVtc2V0KHZpc3MsMCxzaXplb2YodmlzcykpOw0KCQkJaW50IG47DQoJCQlzY2FuZigiJWQiLCZuKTsNCgkJCWZvcihpbnQgaT0wO2k8bjtpKyspDQoJCQl7DQoJCQkJaW50IHgseSx6Ow0KCQkJCXNjYW5mKCIlZCAlZCAlZCIsJngsJnksJnopOw0KLy8JCQkJaWYoeDwxfHx4PjE5fHx5PDF8fHk+MTl8fHNbeF1beV0hPTB8fHo+Mnx8ejwxKQ0KLy8JCQkJew0KLy8JCQkJCWNvbnRpbnVlOw0KLy8JCQkJfQ0KCQkJCXNbeF1beV09ejsNCgkJCX0NCgkJCWludCByZXM9MDsNCgkJCW1lbXNldCh2aXMsMCxzaXplb2YodmlzKSk7DQoJCQlmb3IoaW50IGk9MTtpPD0xOTtpKyspDQoJCQl7DQoJCQkJZm9yKGludCBqPTE7ajw9MTk7aisrKQ0KCQkJCXsNCgkJCQkJaWYoc1tpXVtqXT09MSYmdmlzW2ldW2pdPT0wKQ0KCQkJCQl7DQoJCQkJCQltZW1zZXQodmlzcywwLHNpemVvZih2aXNzKSk7DQoJCQkJCQlyZXMrPWRmczEoaSxqKTsNCgkJCQkJfQ0KCQkJCX0NCgkJCX0NCgkJCXByaW50ZigiJWRcbiIscmVzKTsNCgkJfQ0KCX0NCglyZXR1cm4gMDsNCn0NCg=="}]