[{"id":"4089","submission_id":"4089","filename":"A.cpp","source":"I2luY2x1ZGUgPGJpdHMvc3RkYysrLmg+DQp1c2luZyBuYW1lc3BhY2Ugc3RkOw0KI2RlZmluZSBlbmRsICdcbicNCiNkZWZpbmUgSU8gaW9zOjpzeW5jX3dpdGhfc3RkaW8oMCk7Y2luLnRpZSgwKTtjb3V0LnRpZSgwKTsNCiNkZWZpbmUgbGwgbG9uZyBsb25nDQpjb25zdCBsbCBtb2RlPTFlOSs3Ow0KY29uc3QgaW50IG1heG49MWU2Ow0KLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCg0KY2hhciBhW21heG5dOw0KY2hhciBzW21heG5dOw0KaW50IGh3W21heG5dOw0KaW50IGpod1ttYXhuXTsNCnZvaWQgc29sdmUoKQ0Kew0KICAgIGNpbj4+YTsNCiAgICBpbnQgbiA9IHN0cmxlbihhKTsNCiAgICBzWzBdID0gJz4nOw0KICAgIHNbMV0gPSAnIyc7DQogICAgZm9yIChpbnQgaSA9MDtpPG47aSsrKQ0KICAgIHsNCiAgICAgICAgc1tpKjIrMl0gPSBhW2ldOw0KICAgICAgICBzW2kqMiszXSA9ICcjJzsNCiAgICB9DQogICAgc1tuKjIrMl0gPSAnPCc7DQoNCg0KICAgIGZvciAoaW50IGkgPW4qMiszO2k8PW4qMztpKyspDQogICAgICAgIHNbaV0gPSAnXDAnOw0KICAgIGludCBsZSA9IHN0cmxlbihzKTsNCg0KICAgIGZvciAoaW50IGkgPTA7aTw9bGUqMjtpKyspDQogICAgICAgIGh3W2ldPWpod1tpXSA9IDA7DQoNCg0KICAgIGludCBtICA9IC0xLCByID0gLTE7DQogICAgZm9yIChpbnQgaSA9IDA7aTw9bGU7aSsrKQ0KICAgIHsNCiAgICAgICAgYm9vbCBmbGFnID0gdHJ1ZTsNCiAgICAgICAgYm9vbCBlcmNpID0gdHJ1ZTsNCiAgICAgICAgLy8gamllDQogICAgICAgIGNoYXIgc3QxID0gJy4nOw0KICAgICAgICAvLyBodWFuDQogICAgICAgIGNoYXIgc3QyID0gICcuJzsNCg0KDQogICAgICAgIGludCBwID0gMDsNCiAgICAgICAgaWYgKHI+aSkgcCA9IG1pbihyLWksaHdbbSttLWldKTsNCg0KICAgICAgICBod1tpXSA9IHA7DQoNCiAgICAgICAgd2hpbGUoMSkNCiAgICAgICAgew0KICAgICAgLy8gICAgICBpZiAoaT09NykNCiAgICAgIC8vICAgICAgew0KICAgICAgLy8gICAgICAgICAgY291dDw8IG08PCI9PSI8PHI8PCIgICAgIjw8IGZsYWcgPDwiICI8PGVyY2k8PCIgIjw8cDw8IjoiPDwgc3QxPDxzdDI8PGVuZGw7DQogICAgICAvLyAgICAgIH0NCg0KICAgICAgICAgICAgaWYgKGktcDw9MCB8fCBpK3A+PWxlLTEpDQogICAgICAgICAgICAgICAgYnJlYWs7DQoNCiAgICAgICAgICAgIGVsc2UgaWYgIChmbGFnICYmIGVyY2kgJiYgc1tpK3BdPT1zW2ktcF0pDQogICAgICAgICAgIHsNCiAgICAgICAgICAgICAgIGh3W2ldID0gKytwOw0KDQogICAgICAgICAgICAgICBpZiAoIGkrcD5yKQ0KICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgIHIgPSBpK3A7DQogICAgICAgICAgICAgICAgbSA9IGk7DQogICAgICAgICAgICB9DQogICAgICAgICAgIH0NCiAgICAgICAgICAgZWxzZSBpZiAgKCFmbGFnICYmICFlcmNpICYmIHNbaStwXT09c1tpLXBdKQ0KICAgICAgICAgICB7DQogICAgICAgICAgICAgICBqaHdbaV0gPSArK3A7DQogICAgICAgICAgIH0NCiAgICAgICAgICAgZWxzZSBpZiAgKCFmbGFnJiYgZXJjaSYmIHNbaStwXT09c1tpLXBdKQ0KICAgICAgICAgICB7DQogICAgICAgICAgICAgICArK3A7DQogICAgICAgICAgIH0NCiAgICAgICAgICAgZWxzZSBpZiAoZmxhZyAmJmVyY2kpDQogICAgICAgICAgIHsNCiAgICAgICAgICAgICAgIHN0MSA9IHNbaS1wXTsNCiAgICAgICAgICAgICAgIHN0MiA9IHNbaStwXTsNCiAgICAgICAgICAgICAgIGZsYWcgPSBmYWxzZTsNCiAgICAgICAgICAgICAgICArK3A7DQoNCg0KDQogICAgICAgICAgIH1lbHNlIGlmICghZmxhZyAmJiBlcmNpICYmIChzdDE9PXNbaS1wXSAmJiBzdDIgPT0gc1tpK3BdKXx8KHN0MT09c1tpK3BdICYmIHN0MiA9PSBzW2ktcF0pKQ0KICAgICAgICAgICB7DQogICAgICAgICAgICAgICBlcmNpID0gZmFsc2U7DQogICAgICAgICAgICAgICBqaHdbaV0gPSArK3A7DQogICAgICAgICAgIH1lbHNlDQogICAgICAgICAgICAgICAgYnJlYWs7DQogICAgICAgIH0NCg0KDQogICAgICAgIGlmICghZmxhZyAmJiBlcmNpICYmICBzW2ldIT0nIycmJiAoc1tpXT09c3QxfHxzW2ldPT1zdDIpKQ0KICAgICAgICAgICAgamh3W2ldID0gcDsNCiAgICB9DQoNCg0KDQogLy8gICBmb3IgKGludCBpID0gMDtpPGxlO2krKykNCiAvLyAgICAgY291dDw8c1tpXTw8IiAiOw0KIC8vICAgY291dDw8ZW5kbDsNCiAvLyBmb3IgKGludCBpID0gMDtpPGxlO2krKykNCiAvLyAgICAgICBjb3V0PDxod1tpXTw8IiAiOw0KIC8vICAgY291dDw8ZW5kbDsNCiAvLyAgIGZvciAoaW50IGkgPSAwO2k8bGU7aSsrKQ0KIC8vICAgICAgIGNvdXQ8PGpod1tpXTw8IiAiOw0KIC8vICAgY291dDw8ZW5kbDsNCg0KICAgIGludCBhbnMgPSAwIDsNCg0KICAgIGZvciAoaW50IGkgPSAwO2k8bGU7aSsrKQ0KICAgICAgICBhbnMgPSBtYXgoYW5zLGh3W2ldIC0xKTsNCiAgICBmb3IgKGludCBpID0gMDtpPGxlO2krKykNCiAgICAgICAgYW5zID0gbWF4KGFucyxqaHdbaV0gLTEpOw0KDQoNCiAgICBjb3V0PDwoKGFuczw9MSk/MDphbnMpPDxlbmRsOw0KDQp9DQppbnQgbWFpbigpDQp7DQogICAgSU87DQogICAgaW50IHRuPTE7DQogICAgY2luPj50bjsNCiAgICB3aGlsZSh0bi0tKQ0KICAgIHsNCiAgICAgICAgc29sdmUoKTsNCiAgICB9DQogICAgcmV0dXJuIDA7DQp9DQo="}]