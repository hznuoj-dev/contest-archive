[{"id":"2062","submission_id":"2062","filename":"c.cpp","source":"I2luY2x1ZGUgPGlvc3RyZWFtPg0KI2luY2x1ZGUgPGFsZ29yaXRobT4NCiNpbmNsdWRlIDx2ZWN0b3I+DQojaW5jbHVkZSA8bWFwPg0KdXNpbmcgbmFtZXNwYWNlIHN0ZDsNCnVzaW5nIGxsID0gbG9uZyBsb25nOw0KdXNpbmcgcGxsID0gcGFpcjxsbCwgbGw+Ow0KYm9vbCBqdWRnZShjaGFyIGEsIGNoYXIgYiwgY2hhciBjLCBjaGFyIGQpDQp7DQogICAgbWFwPGNoYXIsIGludD4gbTsNCiAgICBtW2FdICs9IDE7DQogICAgbVtiXSArPSAxOw0KICAgIG1bY10gKz0gMTsNCiAgICBtW2RdICs9IDE7DQogICAgaWYgKG0uc2l6ZSgpICE9IDIpDQogICAgICAgIHJldHVybiBmYWxzZTsNCiAgICBmb3IgKGF1dG8gaXQgOiBtKQ0KICAgIHsNCiAgICAgICAgaWYgKGl0LnNlY29uZCAhPSAyKQ0KICAgICAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgIH0NCiAgICByZXR1cm4gdHJ1ZTsNCn0NCnZvaWQgc29sdmUoKQ0Kew0KICAgIHN0cmluZyBzOw0KICAgIGNpbiA+PiBzOw0KICAgIGludCBuID0gcy5sZW5ndGgoKTsNCiAgICBpbnQgbXggPSAwOw0KICAgIGZvciAoaW50IGkgPSAwOyBpIDwgbjsgaSsrKQ0KICAgIHsNCiAgICAgICAgaW50IGwgPSBpLCByID0gaTsNCiAgICAgICAgbXggPSBtYXgociAtIGwgKyAxLCBteCk7DQogICAgICAgIGludCBjbnQgPSAwOw0KICAgICAgICBpbnQgeCwgeTsNCiAgICAgICAgYm9vbCB1c2UgPSBmYWxzZTsNCiAgICAgICAgd2hpbGUgKDEpDQogICAgICAgIHsNCiAgICAgICAgICAgIGwgLT0gMSwgciArPSAxOw0KICAgICAgICAgICAgaWYgKGwgPCAwIHx8IHIgPj0gbikNCiAgICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAgIGlmIChzW2xdICE9IHNbcl0pDQogICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgaWYgKHVzZSkNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBpZiAoIWNudCkNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgIHggPSBsLCB5ID0gcjsNCiAgICAgICAgICAgICAgICAgICAgY250ID0gMTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgZWxzZSBpZiAoY250ID09IDEpDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICBpZiAoanVkZ2Uoc1t4XSwgc1t5XSwgc1tsXSwgc1tyXSkpDQogICAgICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHVzZSA9IHRydWU7DQogICAgICAgICAgICAgICAgICAgICAgICBjbnQgPSAyOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIGVsc2UNCiAgICAgICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgICAgICBpZiAoY250ICE9IDEpDQogICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgbXggPSBtYXgobXgsIHIgLSBsICsgMSk7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgICAgbCA9IGkgKyAxLCByID0gaTsNCiAgICAgICAgY250ID0gMDsNCiAgICAgICAgeCwgeTsNCiAgICAgICAgdXNlID0gZmFsc2U7DQogICAgICAgIHdoaWxlICgxKQ0KICAgICAgICB7DQogICAgICAgICAgICBsIC09IDEsIHIgKz0gMTsNCiAgICAgICAgICAgIGlmIChsIDwgMCB8fCByID49IG4pDQogICAgICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgICBpZiAoc1tsXSAhPSBzW3JdKQ0KICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgIGlmICh1c2UpDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgaWYgKCFjbnQpDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICB4ID0gbCwgeSA9IHI7DQogICAgICAgICAgICAgICAgICAgIGNudCA9IDE7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGVsc2UgaWYgKGNudCA9PSAxKQ0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgaWYgKGp1ZGdlKHNbeF0sIHNbeV0sIHNbbF0sIHNbcl0pKQ0KICAgICAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICAgICB1c2UgPSB0cnVlOw0KICAgICAgICAgICAgICAgICAgICAgICAgY250ID0gMjsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICBlbHNlDQogICAgICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgaWYgKGNudCAhPSAxKQ0KICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgIG14ID0gbWF4KG14LCByIC0gbCArIDEpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgfQ0KICAgIGlmIChteCA9PSAxKSBteCA9IDA7DQogICAgY291dCA8PCBteCA8PCAnXG4nOw0KfQ0KaW50IG1haW4oKQ0Kew0KICAgIGludCB0Ow0KICAgIGNpbiA+PiB0Ow0KICAgIHdoaWxlICh0LS0pDQogICAgew0KICAgICAgICBzb2x2ZSgpOw0KICAgIH0NCn0NCg=="}]