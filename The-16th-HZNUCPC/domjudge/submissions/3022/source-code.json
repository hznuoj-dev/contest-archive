[{"id":"3022","submission_id":"3022","filename":"E.cpp","source":"I2luY2x1ZGU8Yml0cy9zdGRjKysuaD4NCiNkZWZpbmUgZW5kbCAnXG4nDQp1c2luZyBuYW1lc3BhY2Ugc3RkOw0KDQp0eXBlZGVmIGxvbmcgbG9uZyBsbDsNCg0KaW50IG47DQoNCmRvdWJsZSBkaXMobGwgeDEsIGxsIHkxMSwgbGwgeDIsIGxsIHkyKSB7DQoJcmV0dXJuIHNxcnQoKHgxIC0geDIpICogKHgxIC0geDIpICsgKHkxMSAtIHkyKSAqICh5MTEgLSB5MikpOw0KfQ0KDQpib29sIGNoZWNrKGludCBpLCBpbnQgaiwgaW50IGssIHZlY3RvcjxwYWlyPGxsLCBsbD4gPiAmcCkgew0KCWRvdWJsZSBhID0gZGlzKHBbaV0uZmlyc3QsIHBbaV0uc2Vjb25kLCBwW2pdLmZpcnN0LCBwW2pdLnNlY29uZCk7DQoJZG91YmxlIGIgPSBkaXMocFtpXS5maXJzdCwgcFtpXS5zZWNvbmQsIHBba10uZmlyc3QsIHBba10uc2Vjb25kKTsNCglkb3VibGUgYyA9IGRpcyhwW2pdLmZpcnN0LCBwW2pdLnNlY29uZCwgcFtrXS5maXJzdCwgcFtrXS5zZWNvbmQpOw0KCWlmICgoYSArIGIpID4gYyAmJiAoYSArIGMpID4gYiAmJiAoYiArIGMpID4gYSkNCgkJcmV0dXJuIHRydWU7DQoJcmV0dXJuIGZhbHNlOw0KfQ0KDQpsbCBnY2QobGwgYSwgbGwgYikgew0KCXJldHVybiBiID09IDAgPyBhIDogZ2NkKGIsIGEgJSBiKTsNCn0NCiANCmxsIGNvdW50KGludCBpLCBpbnQgaiwgdmVjdG9yPHBhaXI8bGwsIGxsPiA+ICZwKSB7DQoJbGwgeDEgPSBwW2ldLmZpcnN0LCB5MTEgPSBwW2ldLnNlY29uZDsNCglsbCB4MiA9IHBbal0uZmlyc3QsIHkyID0gcFtqXS5zZWNvbmQ7DQoJaWYgKHgxID09IHgyKSB7DQoJCXJldHVybiBhYnMoeTExIC0geTIpOw0KCX0gDQoJZWxzZSBpZiAoeTExID09IHkyKSB7DQoJCXJldHVybiBhYnMoeDEgLSB4Mik7DQoJfQ0KCWVsc2Ugew0KCQlsbCBudW0xID0gYWJzKHkyIC0geTExKTsNCgkJbGwgbnVtMiA9IGFicyh4MiAtIHgxKTsNCgkJbGwgZyA9IGdjZChudW0xLCBudW0yKTsNCgkJbnVtMSAvPSBnLCBudW0yIC89IGc7DQoJCXJldHVybiBhYnMoeDIgLSB4MSkgLyBudW0yICsgMTsNCgl9DQp9DQoNCmludCBtYWluKCkgew0KCWNpbiA+PiBuOw0KCXZlY3RvcjxwYWlyPGxsLCBsbD4gPiBwKG4gKyAxKTsNCglmb3IgKGludCBpID0gMSwgeCwgeTsgaSA8PSBuOyArK2kpIHsNCgkJY2luID4+IHggPj4geTsNCgkJcFtpXSA9IG1ha2VfcGFpcih4LCB5KTsNCgl9DQoJbGwgYW5zID0gMDsNCglmb3IgKGludCBpID0gMTsgaSA8PSBuOyArK2kpIHsNCgkJZm9yIChpbnQgaiA9IGkgKyAxOyBqIDw9IG47ICsraikgew0KCQkJZm9yIChpbnQgayA9IGogKyAxOyBrIDw9IG47ICsraykgew0KCQkJCWxsIHRlbXAgPSAwOw0KCQkJCWlmIChjaGVjayhpLCBqLCBrLCBwKSkgew0KCQkJCQl0ZW1wICs9IGNvdW50KGksIGosIHApOw0KCQkJCQl0ZW1wICs9IGNvdW50KGksIGssIHApOw0KCQkJCQl0ZW1wICs9IGNvdW50KGosIGssIHApOw0KCQkJCX0NCgkJCQlhbnMgPSBtYXgoYW5zLCB0ZW1wKTsNCgkJCX0NCgkJfQ0KCX0NCgljb3V0IDw8IGFucyAtIDMgPDwgZW5kbDsNCglyZXR1cm4gMDsNCn0="}]