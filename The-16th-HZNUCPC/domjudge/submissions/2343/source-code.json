[{"id":"2343","submission_id":"2343","filename":"D.cpp","source":"I2luY2x1ZGUgPGJpdHMvc3RkYysrLmg+DQp1c2luZyBuYW1lc3BhY2Ugc3RkOw0KDQpjb25zdCBpbnQgaW5mID0gMHgzZjNmM2YzZjsNCmNvbnN0IGludCBNYXhuID0gMzAwMDAwICsgMTA7DQppbnQgbjsNCnN0cmluZyBzOw0KaW50IGdvKGludCBfcywgaW50IF9lKSB7DQoJaW50IGkgPSBfcywgaiA9IF9lOw0KCWJvb2wgaXNfb2RkID0gX3MgKyAyID09IF9lOw0KCWNoYXIgbWlkID0gc1soX3MgKyBfZSkgLyAyXTsNCglpbnQgbWlzX2NudCA9IDA7DQoJaW50IHJlcyA9IDA7DQoJaW50IGxlZnRfbWFzayA9IDAsIHJpZ2h0X21hc2sgPSAwOw0KCWNoYXIgY19vZGRfbGVmdCA9IDAsIGNfb2RkX3JpZ2h0ID0gMDsNCgljaGFyIGNfbGVmdF8xID0gMCwgY19sZWZ0XzIgPSAwOw0KCWNoYXIgY19yaWdodF8xID0gMCwgY19yaWdodF8yID0gMDsNCglhdXRvIGNoZWNrID0gWyZdKCkgew0KCQlpZiAobWlzX2NudCA9PSAwIHx8IChtaXNfY250ID09IDIgJiYgKGxlZnRfbWFzayA9PSByaWdodF9tYXNrKSkpIHsNCi8vCQkJY291dCA8PCAidXBkYXRlICIgPDwgaSA8PCAiICIgPDwgaiA8PCAiXG4iOw0KCQkJcmVzID0gbWF4KHJlcywgaiAtIGkgKyAxKTsNCgkJfQ0KCQkNCgkJaWYgKG1pc19jbnQgPT0gMiAmJiAoY19sZWZ0XzEgPT0gY19sZWZ0XzIgJiYgY19yaWdodF8xID09IGNfcmlnaHRfMikpIHsNCgkJCXJlcyA9IG1heChyZXMsIGogLSBpICsgMSk7DQoJCX0NCgkJDQoJCWlmIChtaXNfY250ID09IDEgJiYgaXNfb2RkKSB7DQoJCQlpZiAobWlkID09IGNfb2RkX2xlZnQgfHwgbWlkID09IGNfb2RkX3JpZ2h0KSB7DQoJCQkJcmVzID0gbWF4KHJlcywgaiAtIGkgKyAxKTsNCgkJCX0NCgkJfQ0KCQkNCgl9Ow0KCXdoaWxlIChpID49IDAgJiYgaiA8IG4pIHsNCgkJaWYgKHNbaV0gPT0gc1tqXSkgew0KCQkJY2hlY2soKTsJDQoJCQlpLS0sIGorKzsNCgkJCWNvbnRpbnVlOw0KCQl9DQoJCW1pc19jbnQrKzsNCgkJaWYgKG1pc19jbnQgPT0gMSB8fCBtaXNfY250ID09IDIpIHsNCgkJCWxlZnRfbWFzayB8PSAxIDw8IChzW2ldIC0gJ2EnKTsNCgkJCXJpZ2h0X21hc2sgfD0gMSA8PCAoc1tqXSAtICdhJyk7DQoJCX0NCgkJDQoJCWlmIChtaXNfY250ID09IDEpIHsNCgkJCWNfb2RkX2xlZnQgPSBzW2ldOw0KCQkJY19vZGRfcmlnaHQgPSBzW2pdOw0KCQkJY19sZWZ0XzEgPSBzW2ldOw0KCQkJY19yaWdodF8xID0gc1tqXTsNCgkJfQ0KCQkNCgkJaWYgKG1pc19jbnQgPT0gMikgew0KCQkJY19sZWZ0XzIgPSBzW2ldOw0KCQkJY19yaWdodF8yID0gc1tqXTsNCgkJCQ0KCQl9DQoJCQ0KCQkNCgkJaWYgKG1pc19jbnQgPT0gMykgew0KCQkJYnJlYWs7DQoJCX0NCgkJDQoJCWNoZWNrKCk7DQoJCS8vY291dCA8PCBpIDw8ICIgIiA8PCBqIDw8ICJcbiI7DQoJCWktLSwgaisrOw0KCQkNCgl9DQoJcmV0dXJuIHJlczsNCn0NCnZvaWQgc29sdmUoKSB7DQoJY2luID4+IHM7DQoJbiA9IHMuc2l6ZSgpOw0KCWludCByZXMgPSAwOw0KCWZvciAoaW50IGkgPSAwOyBpIDwgbjsgKytpKSB7DQoJCWlmIChpICsgMSA8IG4pIHsNCgkJCXJlcyA9IG1heChyZXMsIGdvKGksIGkgKyAxKSk7DQoJCX0gDQoJCWlmIChpID4gMCAmJiBpICsgMSA8IG4pIHsNCgkJCXJlcyA9IG1heChyZXMsIGdvKGkgLSAxLCBpICsgMSkpOw0KCQl9DQoJCS8vY291dCA8PCBpIDw8ICIgIiA8PCByZXMgPDwgIlxuIjsNCgl9DQovLwljb3V0IDw8IGdvKDUsIDYpIDw8ICJcbiI7DQovLwljb3V0IDw8IGdvKDIsIDQpIDw8ICJcbiI7DQoJY291dCA8PCByZXMgPDwgIlxuIjsNCn0NCg0Kc2lnbmVkIG1haW4oKSB7DQoJaW9zOjpzeW5jX3dpdGhfc3RkaW8oZmFsc2UpOw0KCQ0KCWludCB0Ow0KCWNpbiA+PiB0Ow0KCXdoaWxlICh0LS0pIHsNCgkJc29sdmUoKTsNCgl9CQ0KCXJldHVybiAwOw0KfQ0KDQovKg0KMQ0Kc3RmaGZpdXQNCjQNCmFiY2NhYg0KaWhpDQpzdGZoZml1dA0KcGFsaW5kcm9tZQ0KKi8="}]