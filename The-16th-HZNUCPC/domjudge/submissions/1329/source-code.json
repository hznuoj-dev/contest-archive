[{"id":"1329","submission_id":"1329","filename":"Main.java","source":"DQppbXBvcnQgamF2YS5pby4qOw0KaW1wb3J0IGphdmEudXRpbC4qOw0KaW1wb3J0IGphdmEubWF0aC4qOw0KcHVibGljIGNsYXNzIE1haW4gew0KICBwdWJsaWMgc3RhdGljIHZvaWQgbWFpbihTdHJpbmdbXSBhcmdzKXsNCgkgIElucHV0U3RyZWFtIGlucHV0U3RyZWFtID0gU3lzdGVtLmluOw0KCSAgT3V0cHV0U3RyZWFtIG91dHB1dFN0cmVhbSA9IFN5c3RlbS5vdXQ7DQoJICBJbnB1dFJlYWRlciBpbiA9IG5ldyBJbnB1dFJlYWRlcihpbnB1dFN0cmVhbSk7DQoJICBQcmludFdyaXRlciBvdXQgPSBuZXcgUHJpbnRXcml0ZXIob3V0cHV0U3RyZWFtKTsNCgkgIFRhc2tBIHNvbHZlciA9IG5ldyBUYXNrQSgpOw0KCSAgc29sdmVyLnNvbHZlKDEsaW4sb3V0KTsNCgkgIG91dC5jbG9zZSgpOw0KICB9DQogIA0KICBzdGF0aWMgY2xhc3MgVGFza0F7DQoJICBib29sZWFuIGNoZWNrKGludCB4LGludCB5KXsNCgkJICBpZih4ID4gMCAmJiB4IDwgMjAgJiYgeSA+IDAgJiYgeSA8IDIwKQ0KCQkJICByZXR1cm4gdHJ1ZTsNCgkJICByZXR1cm4gZmFsc2U7DQoJICB9DQoJICBwdWJsaWMgdm9pZCBzb2x2ZShpbnQgdGVzdE51bWJlcixJbnB1dFJlYWRlciBpbixQcmludFdyaXRlciBvdXQpew0KCQkgIGludCB0ID0gaW4ubmV4dEludCgpOw0KCQkgIHdoaWxlKHQtLSA+IDApew0KCQkJICBpbnQgbiA9IGluLm5leHRJbnQoKTsNCgkJCSAgU2V0PEE+IHNldCA9IG5ldyBIYXNoU2V0KCk7DQoJCQkgIGludFtdW10gYSA9IG5ldyBpbnQgWzIwXVsyMF07DQoJCQkgIGZvcihpbnQgaSA9IDA7aSA8IG47aSsrKXsNCgkJCQkgIGludCB4ID0gaW4ubmV4dEludCgpOw0KCQkJCSAgaW50IHkgPSBpbi5uZXh0SW50KCk7DQoJCQkJICBhW3hdW3ldID0gaW4ubmV4dEludCgpOw0KCQkJCSAgaWYoYVt4XVt5XT09MSkNCgkJCQkJICBzZXQuYWRkKG5ldyBBKHgseSkpOw0KCQkJICB9DQoJCQkgIGludCBjb3VudCA9IDA7DQoJCQkgIGZvcihBIGI6c2V0KXsNCgkJCQkgIGludCB4ID0gYi54Ow0KCQkJCSAgaW50IHkgPSBiLnk7DQoJCQkJICBpZihjaGVjayh4LTEseSkgJiYgYVt4LTFdW3ldICE9IDEpew0KCQkJCQkgIGNvdW50Kys7DQoJCQkJCSAgYVt4LTFdW3ldID0gMjsNCgkJCQkgIH0NCgkJCQkgIGlmKGNoZWNrKHgrMSx5KSAmJiBhW3grMV1beV0gIT0gMSl7DQoJCQkJCSAgY291bnQrKzsNCgkJCQkJICBhW3grMV1beV0gPSAyOw0KCQkJCSAgfQ0KCQkJCSAgaWYoY2hlY2soeCx5LTEpICYmIGFbeF1beS0xXSAhPSAxKXsNCgkJCQkJICBjb3VudCsrOw0KCQkJCQkgIGFbeF1beS0xXSA9IDI7DQoJCQkJICB9DQoJCQkJICBpZihjaGVjayh4LHkrMSkgJiYgYVt4XVt5KzFdICE9IDEpew0KCQkJCQkgIGNvdW50Kys7DQoJCQkJCSAgYVt4XVt5KzFdID0gMjsNCgkJCQkgIH0NCgkJCSAgfQ0KCQkJICBvdXQucHJpbnRsbihjb3VudCk7DQoJCSAgfQ0KCSAgfQ0KCSAgY2xhc3MgQXsNCgkJICBpbnQgeCx5Ow0KCQkgIEEoaW50IHgsaW50IHkpew0KCQkJICB0aGlzLnggPSB4Ow0KCQkJICB0aGlzLnkgPSB5Ow0KCQkgIH0NCgkgIH0NCiAgfQ0KICANCiAgc3RhdGljIGNsYXNzIElucHV0UmVhZGVyew0KCSAgcHVibGljIEJ1ZmZlcmVkUmVhZGVyIHJlYWRlcjsNCgkgIHB1YmxpYyBTdHJpbmdUb2tlbml6ZXIgdG9rZW5pemVyOw0KCSAgcHVibGljIElucHV0UmVhZGVyKElucHV0U3RyZWFtIHN0cmVhbSl7DQoJCSAgcmVhZGVyID0gbmV3IEJ1ZmZlcmVkUmVhZGVyKG5ldyBJbnB1dFN0cmVhbVJlYWRlcihzdHJlYW0pLDMyNzY4KTsNCgkJICB0b2tlbml6ZXIgPSBudWxsOw0KCSAgfQ0KCSAgYm9vbGVhbiBoYXNOZXh0KCkNCgkgIHsNCgkJIHdoaWxlKHRva2VuaXplciA9PSBudWxsIHx8ICF0b2tlbml6ZXIuaGFzTW9yZVRva2VucygpKQ0KCQkgew0KCQkJIHRyeQ0KCQkJIHsNCgkJCQkgdG9rZW5pemVyID0gbmV3IFN0cmluZ1Rva2VuaXplcihyZWFkZXIucmVhZExpbmUoKSk7DQoJCQkgfWNhdGNoKEV4Y2VwdGlvbiBlKQ0KCQkJIHsNCgkJCQkgcmV0dXJuIGZhbHNlOw0KCQkJIH0NCgkJIH0NCgkJIHJldHVybiB0cnVlOw0KCSAgfQ0KCSAgcHVibGljIFN0cmluZyBuZXh0KCl7DQoJCSAgd2hpbGUodG9rZW5pemVyID09IG51bGwgfHwgIXRva2VuaXplci5oYXNNb3JlVG9rZW5zKCkpew0KCQkJICB0cnl7DQoJCQkJICB0b2tlbml6ZXIgPSBuZXcgU3RyaW5nVG9rZW5pemVyKHJlYWRlci5yZWFkTGluZSgpKTsNCgkJCSAgfWNhdGNoKElPRXhjZXB0aW9uIGUpew0KCQkJCSAgdGhyb3cgbmV3IFJ1bnRpbWVFeGNlcHRpb24oZSk7DQoJCQkgIH0NCgkJICB9DQoJCSAgcmV0dXJuIHRva2VuaXplci5uZXh0VG9rZW4oKTsNCgkgIH0NCgkgIHB1YmxpYyBTdHJpbmcgbmV4dExpbmUoKQ0KCSAgew0KCQkgIFN0cmluZyBzdHIgPSBudWxsOw0KCQkgIHRyeQ0KCQkgIHsNCgkJCSAgc3RyID0gcmVhZGVyLnJlYWRMaW5lKCk7DQoJCSAgfWNhdGNoKElPRXhjZXB0aW9uIGUpew0KCQkJICBlLnByaW50U3RhY2tUcmFjZSgpOw0KCQkgIH0NCgkJICByZXR1cm4gc3RyOw0KCSAgfQ0KCSAgcHVibGljIGludCBuZXh0SW50KCl7DQoJCSAgcmV0dXJuIEludGVnZXIucGFyc2VJbnQobmV4dCgpKTsNCgkgIH0NCgkgIHB1YmxpYyBkb3VibGUgbmV4dERvdWJsZSgpew0KCQkgIHJldHVybiBEb3VibGUucGFyc2VEb3VibGUobmV4dCgpKTsNCgkgIH0NCgkgIHB1YmxpYyBsb25nIG5leHRMb25nKCl7DQoJCSAgcmV0dXJuIExvbmcucGFyc2VMb25nKG5leHQoKSk7DQoJICB9DQoJICBwdWJsaWMgQmlnSW50ZWdlciBuZXh0QmlnSW50ZWdlcigpew0KCQkgIHJldHVybiBuZXcgQmlnSW50ZWdlcihuZXh0KCkpOw0KCSAgfQ0KCSAgcHVibGljIEJpZ0RlY2ltYWwgbmV4dEJpZ0RlY2ltYWwoKXsNCgkJICByZXR1cm4gbmV3IEJpZ0RlY2ltYWwobmV4dCgpKTsNCgkgIH0NCiAgfQ0KfQ0K"}]