[{"id":"3152","submission_id":"3152","filename":"3.cpp","source":"I2luY2x1ZGU8Yml0cy9zdGRjKysuaD4NCnVzaW5nIG5hbWVzcGFjZSBzdGQ7DQojZGVmaW5lIGludCBsb25nIGxvbmcNCiNkZWZpbmUgYWEgZmlyc3QNCiNkZWZpbmUgYmIgc2Vjb25kDQpjb25zdCBpbnQgTiA9IDUwMDI7DQpjaGFyIHNbTl07DQp2b2lkIHNvbHZlKCl7DQogICAgY2luID4+IChzICsgMSk7DQogICAgaW50IG4gPSBzdHJsZW4ocyArIDEpOw0KICAgIGludCBtYXhuID0gMDsNCiAgICBmb3IgKGludCBpID0gMTsgaSA8PSBuOyBpICsrICkgew0KICAgIAljaGFyIHAxID0gJy0nLCBwMiA9ICctJzsNCiAgICAJZm9yIChpbnQgaiA9IDE7IGogPD0gbjsgaiArKykgew0KICAgIAkJaWYgKGkgLSBqIDwgMSB8fCBpICsgaiA+IG4pIGJyZWFrOw0KICAgIAkJaWYgKHNbaSAtIGpdID09IHNbaSArIGpdKSB7DQogICAgCQkJaWYgKHAxID09ICctJyB8fCBwMSA9PSAnIycpIHsNCiAgICAJCQkJbWF4biA9IG1heChtYXhuLCBqICogMiArIDEpOw0KICAgIAkJCX0NCiAgICAJCX0gZWxzZSB7DQogICAgCQkJaWYgKHAxID09ICctJykgew0KICAgIAkJCQlwMSA9IHNbaSAtIGpdOw0KICAgIAkJCQlwMiA9IHNbaSArIGpdOw0KICAgIAkJCX0gZWxzZSBpZiAoc1tpIC0gal0gPT0gcDIgJiYgc1tpICsgal0gPT0gcDEgfHwgc1tpIC0gal0gPT0gcDEgJiYgc1tpICsgal0gPT0gcDIpIHsNCiAgICAJCQkJbWF4biA9IG1heChtYXhuLCBqICogMiArIDEpOw0KICAgIAkJCQlwMSA9ICcjJzsNCiAgICAJCQl9IGVsc2Ugew0KICAgIAkJCQlicmVhazsNCiAgICAJCQl9DQogICAgCQl9DQogICAgCX0NCiAgICAgICAgcDEgPSAnLScsIHAyID0gJy0nOw0KICAgIAlmb3IgKGludCBqID0gMTsgaiA8PSBuOyBqICsrICkgew0KICAgIAkJaWYgKGkgLSBqICsgMSA8IDEgfHwgaSArIGogPiBuKSBicmVhazsNCiAgICAJCWlmIChzW2kgLSBqICsgMV0gPT0gc1tpICsgal0pIHsNCiAgICAJCQlpZiAocDEgPT0gJy0nIHx8IHAxID09ICcjJykgew0KICAgIAkJCQltYXhuID0gbWF4KG1heG4sIGogKiAyKTsNCiAgICAJCQl9DQogICAgCQl9IGVsc2Ugew0KICAgIAkJCWlmIChwMSA9PSAnLScpIHsNCiAgICAJCQkJcDEgPSBzW2kgLSBqICsgMV07DQogICAgCQkJCXAyID0gc1tpICsgal07DQogICAgCQkJfSBlbHNlIGlmIChzW2kgLSBqICsgMV0gPT0gcDIgJiYgc1tpICsgal0gPT0gcDEgfHwgc1tpIC0gaiArIDFdID09IHAxICYmIHNbaSArIGpdID09IHAyKSB7DQogICAgCQkJCW1heG4gPSBtYXgobWF4biwgaiAqIDIpOw0KICAgIAkJCQlwMSA9ICcjJzsNCiAgICAJCQl9IGVsc2Ugew0KICAgIAkJCQlicmVhazsNCiAgICAJCQl9DQogICAgCQl9DQogICAgCX0NCiAgICAJcDEgPSBzW2ldOw0KICAgIAlmb3IgKGludCBqID0gMTsgaiA8PSBuOyBqICsrKSB7DQogICAgCQlpZiAoaSAtIGogPCAxIHx8IGkgKyBqID4gbikgYnJlYWs7DQogICAgCQlpZiAoc1tpIC0gal0gPT0gc1tpICsgal0pIHsNCiAgICAgICAgICAgICAgICBtYXhuID0gbWF4KG1heG4sIGogKiAyICsgMSk7DQogICAgCQl9IGVsc2Ugew0KICAgICAgICAgICAgICAgIGlmIChwMSA9PSBzW2kgLSBqXSB8fCBwMSA9PSBzW2kgKyBqXSkgew0KICAgICAgICAgICAgICAgICAgICBwMSA9ICcjJzsNCiAgICAgICAgICAgICAgICAgICAgbWF4biA9IG1heChtYXhuLCBqICogMiArIDEpOw0KICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgICAgICAgIH0NCiAgICAJCX0NCiAgICAJfQ0KICAgIH0NCiAgICBjb3V0IDw8IG1heG4gPDwgJ1xuJzsNCn0NCnNpZ25lZCBtYWluKCl7DQogICAgaW50IFQ9MTsNCiAgICBjaW4+PlQ7DQogICAgd2hpbGUoVC0tKXsNCiAgICAgICAgc29sdmUoKTsNCiAgICB9DQogICAgcmV0dXJuIDA7DQp9DQoNCg0KDQo="}]