[{"id":"2134","submission_id":"2134","filename":"C.cpp","source":"I2luY2x1ZGUgPGJpdHMvc3RkYysrLmg+DQojZGVmaW5lIGxsIGxvbmcgbG9uZw0KI2RlZmluZSBpbnQgbG9uZyBsb25nDQojZGVmaW5lIGVuZGwgJ1xuJyANCg0KdXNpbmcgbmFtZXNwYWNlIHN0ZDsNCg0KY29uc3QgaW50IG1vZCA9IDFlOSArIDc7DQoNCmxsIHFtaShsbCBhLCBsbCBiKSB7DQoJbGwgYW5zID0gMWxsLCBiYXNlID0gYTsNCgl3aGlsZShiKSB7DQoJCWlmIChiICYgMWxsKSBhbnMgPSBhbnMgKiBiYXNlICUgbW9kOw0KCQliID4+PSAxbGw7DQoJCWJhc2UgPSBiYXNlICogYmFzZSAlIG1vZDsNCgl9CQ0KCXJldHVybiBhbnM7DQp9DQoNCmxsIGludihsbCBhKSB7DQoJcmV0dXJuIHFtaShhLCBtb2QgLSAyKTsJDQp9DQoNCnNpZ25lZCBtYWluKCl7DQoJaW9zOjpzeW5jX3dpdGhfc3RkaW8oMCk7DQoJY2luLnRpZShOVUxMKTsNCgkNCglzdHJpbmcgIGEsIGI7DQoJY2luID4+IGEgPj4gYjsNCgkNCglpbnQgbiA9IGEubGVuZ3RoKCk7DQoJDQoJc2V0PGNoYXI+IGFzZXQsIGJzZXQ7IA0KCW1hcDxjaGFyLCBpbnQ+IGFtcCwgYm1wOw0KCQ0KCWludCBzYW1lID0gMDsNCgkNCglmb3IgKGludCBpID0gMDsgaSA8IG47IGkrKykgew0KCQlhc2V0Lmluc2VydChhW2ldKTsNCgkJYnNldC5pbnNlcnQoYltpXSk7DQoJCWFtcFthW2ldXSsrOw0KCQlibXBbYltpXV0rKzsNCgl9DQoJDQoJaWYgKChpbnQpYXNldC5zaXplKCkgPCAoaW50KWJzZXQuc2l6ZSgpKSB7DQoJCXN3YXAoYSwgYik7DQoJCXN3YXAoYXNldCwgYnNldCk7DQoJCXN3YXAoYW1wLCBibXApOw0KCX0NCgkNCglpbnQgYXNpemUgPSBhc2V0LnNpemUoKSwgYnNpemUgPSBic2V0LnNpemUoKTsNCglpbnQgb25lID0gMCwgdHdvID0gMDsNCglpbnQgYW5zID0gMDsNCglpZiAoYXNpemUgPT0gYnNpemUpIHsNCgkJYW5zID0gKGxsKShuICogKG4gLSAxKSAlIG1vZCkgKiBpbnYoMmxsKSAlIG1vZDsNCgkJc3RkOjpjb3V0IDw8IGFucyA8PCAiXG4iOw0KCQlyZXR1cm4gMDsNCgl9DQoJaWYgKGFzaXplIC0gMiA+IGJzaXplKSB7DQoJCXN0ZDo6Y291dCA8PCAwIDw8ICJcbiI7DQoJCXJldHVybiAwOw0KCX0NCglmb3IgKGludCBpID0gMDsgaSA8IG47IGkrKykgew0KCQlpZiAoYVtpXSA9PSBiW2ldKSB7DQoJCQlzYW1lKys7DQoJCX0NCgkJZWxzZSB7DQoJCQlpbnQgY250ID0gMCwgc250ID0gMDsNCgkJCWlmIChhbXBbYVtpXV0gPT0gMSkgY250LS07DQoJCQlpZiAoYW1wW2JbaV1dID09IDApIGNudCsrOw0KCQkJaWYgKGJtcFtiW2ldXSA9PSAxKSBzbnQtLTsNCgkJCWlmIChibXBbYVtpXV0gPT0gMCkgc250Kys7IA0KCQkJaWYgKHNudCAtIGNudCA9PSAxKSBvbmUrKzsNCgkJCWlmIChzbnQgLSBjbnQgPT0gMikgdHdvKys7DQoJCQkvL3N0ZDo6Y291dCA8PCAic250ID0gIiA8PCBzbnQgPDwgIlxuIiA8PCBjbnQgPDwgIlxuIjsNCgkJfQ0KCX0NCgkvL3N0ZDo6Y291dCA8PCBvbmUgPDwgIlxuIiA8PCB0d28gPDwgIlxuIjsNCglpZiAoYXNpemUgLSBic2l6ZSA9PSAxKSB7DQoJCWFucyA9IChsbClzYW1lICogb25lICUgbW9kOw0KCX0NCgllbHNlIGlmIChhc2l6ZSAtIGJzaXplID09IDIpIHsNCgkJYW5zID0gKGxsKXNhbWUgKiB0d28gJSBtb2Q7DQoJCWFucyA9IChhbnMgKyAob25lICogKG9uZSAtIDEpICUgbW9kKSAqIGludigybGwpICUgbW9kKSAlIG1vZDsNCgl9DQoJc3RkOjpjb3V0IDw8IGFucyA8PCAiXG4iOw0KCXJldHVybiAwOw0KfQ=="}]