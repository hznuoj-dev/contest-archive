[{"id":"4258","submission_id":"4258","filename":"b.cpp","source":"I2luY2x1ZGU8Yml0cy9zdGRjKysuaD4NCiNkZWZpbmUgRm9yKGksbCxyKSBmb3IoaW50IGk9bCxpIyNlbmQ9cjtpPD1pIyNlbmQ7KytpKQ0KI2RlZmluZSByRm9yKGkscixsKSBmb3IoaW50IGk9cixpIyNlbmQ9bDtpPj1pIyNlbmQ7LS1pKQ0KdHlwZWRlZiBsb25nIGxvbmcgbGw7DQp0eXBlZGVmIHVuc2lnbmVkIGxvbmcgbG9uZyB1bGw7DQp1c2luZyBuYW1lc3BhY2Ugc3RkOw0KY29uc3QgaW50IE49MWUzKzEwOw0KaW50IG4sbSxuMSxtMTsNCmNsYXNzIERTMiB7DQojZGVmaW5lIGxzIChrPDwxKQ0KI2RlZmluZSBycyAobHN8MSkNCiAgIHB1YmxpYzoNCglsbCB0MVszMDBdLHQyWzMwMF07DQoJdm9pZCB1cGQoaW50IEwsaW50IFIsbGwgeCxpbnQgaz0xLGludCBsPTAsaW50IHI9bTEpIHsNCgkJdDJba10rPXgqKFItTCsxKTsNCgkJaWYoTDw9bCAmJiByPD1SKSByZXR1cm4gdDFba10rPXgsdm9pZCgpOw0KCQlpbnQgbT1sK3I+PjE7IA0KCQlpZihMPm0pIHJldHVybiB1cGQoTCxSLHgscnMsbSsxLHIpOw0KCQlpZihSPD1tKSByZXR1cm4gdXBkKEwsUix4LGxzLGwsbSk7DQoJCXVwZChMLG0seCxscyxsLG0pOyB1cGQobSsxLFIseCxycyxtKzEscik7DQoJfQ0KCWxsIHF1ZShpbnQgTCxpbnQgUixpbnQgaz0xLGludCBsPTAsaW50IHI9bTEpIHsNCgkJaWYoTDw9bCAmJiByPD1SKSByZXR1cm4gdDJba107DQoJCWludCBtPWwrcj4+MTsgbGwgYW5zPShSLUwrMSkqdDFba107DQoJCWlmKEw+bSkgcmV0dXJuIGFucytxdWUoTCxSLHJzLG0rMSxyKTsNCgkJaWYoUjw9bSkgcmV0dXJuIGFucytxdWUoTCxSLGxzLGwsbSk7DQoJCXJldHVybiBhbnMrcXVlKEwsbSxscyxsLG0pK3F1ZShtKzEsUixycyxtKzEscik7DQoJfQ0KfTsNCmNsYXNzIERTMSB7DQogICBwdWJsaWM6DQoJRFMyIHQxWzMwMF0sdDJbMzAwXTsNCgl2b2lkIHVwZChpbnQgTCxpbnQgUixpbnQgTDIsaW50IFIyLGxsIHgsaW50IGs9MSxpbnQgbD0wLGludCByPW4xKSB7DQoJCXQyW2tdLnVwZChMMixSMix4KihSLUwrMSkpOw0KCQlpZihMPD1sICYmIHI8PVIpIHJldHVybiB0MVtrXS51cGQoTDIsUjIseCksdm9pZCgpOw0KCQlpbnQgbT1sK3I+PjE7IA0KCQlpZihMPm0pIHJldHVybiB1cGQoTCxSLEwyLFIyLHgscnMsbSsxLHIpOw0KCQlpZihSPD1tKSByZXR1cm4gdXBkKEwsUixMMixSMix4LGxzLGwsbSk7DQoJCXVwZChMLG0sTDIsUjIseCxscyxsLG0pOyB1cGQobSsxLFIsTDIsUjIseCxycyxtKzEscik7DQoJfQ0KCWxsIHF1ZShpbnQgTCxpbnQgUixpbnQgTDIsaW50IFIyLGludCBrPTEsaW50IGw9MCxpbnQgcj1uMSkgew0KCQlpZihMPD1sICYmIHI8PVIpIHJldHVybiB0MltrXS5xdWUoTDIsUjIpOw0KCQlpbnQgbT1sK3I+PjE7IGxsIGFucz0oUi1MKzEpKnQxW2tdLnF1ZShMMixSMik7DQoJCWlmKEw+bSkgcmV0dXJuIGFucytxdWUoTCxSLEwyLFIyLHJzLG0rMSxyKTsNCgkJaWYoUjw9bSkgcmV0dXJuIGFucytxdWUoTCxSLEwyLFIyLGxzLGwsbSk7DQoJCXJldHVybiBhbnMrcXVlKEwsbSxMMixSMixscyxsLG0pK3F1ZShtKzEsUixMMixSMixycyxtKzEscik7DQoJfQ0KI3VuZGVmIGxzDQojdW5kZWYgcnMNCn1kc1sxMF1bMTBdOw0KaW50IG1haW4oKSB7DQojaWZkZWYgTE9DQUwNCiAgICBmcmVvcGVuKCIuaW4iLCJyIixzdGRpbik7DQojZW5kaWYNCiAgICBpb3M6OnN5bmNfd2l0aF9zdGRpbygwKTsgY2luLnRpZSgwKTsNCiAgICBpbnQgcTsNCiAgICBjaW4+Pm4+Pm0+PnE7DQogICAgbjE9KG4tMSkvMTA7IG0xPShtLTEpLzEwOw0KICAgIGxsIHN1bT0wOw0KICAgIEZvcihpLDAsbi0xKSBGb3IoaiwwLG0tMSkgew0KICAgIAlsbCB4O2Npbj4+eDsgc3VtKz14Ow0KICAgIAlkc1tpJTEwXVtqJTEwXS51cGQoaS8xMCxpLzEwLGovMTAsai8xMCx4KTsNCgl9DQovLwljZXJyPDxkc1swXVswXS5xdWUoMCwxLDAsMSk8PGVuZGw7DQogICAgd2hpbGUocS0tKSB7DQogICAgCWludCBvLEwxLFIxLEwyLFIyO2xsIHg7DQogICAgCWNpbj4+bz4+TDE+PkwyPj5SMT4+UjI+Png7DQogICAgCS0tTDE7IC0tUjE7IC0tTDI7IC0tUjI7DQogICAgCWlmKG89PTEpIHsNCiAgICAJCXN1bSs9eCooUjEtTDErMSkqKFIyLUwyKzEpOw0KICAgIAkJRm9yKGksMCw5KSBGb3IoaiwwLDkpIHsNCiAgICAJCQlpbnQgbDE9KEwxLWkrMTkpLzEwLTEscjE9KFIxLWkrMTApLzEwLTEsbDI9KEwyLWorMTkpLzEwLTEscjI9KFIyLWorMTApLzEwLTE7DQogICAgCQkJaWYobDE+cjEgfHwgbDI+cjIpIGNvbnRpbnVlOw0KICAgIAkJCWRzW2ldW2pdLnVwZChsMSxyMSxsMixyMix4KTsNCgkJCX0NCgkJfSBlbHNlIHsNCgkJCXZlY3RvcjxsbD5jaDsNCiAgICAJCUZvcihpLDAsOSkgRm9yKGosMCw5KSB7DQogICAgCQkJaW50IGwxPShMMS1pKzE5KS8xMC0xLHIxPShSMS1pKzEwKS8xMC0xLGwyPShMMi1qKzE5KS8xMC0xLHIyPShSMi1qKzEwKS8xMC0xOw0KICAgIAkJCWlmKGwxPnIxIHx8IGwyPnIyKSBjb250aW51ZTsNCi8vICAgIAkJCWNlcnI8PGwxPDwiICI8PHIxPDwiICI8PGwyPDwiICI8PHIyPDxlbmRsOw0KICAgIAkJCWNoLnB1c2hfYmFjayhkc1tpXVtqXS5xdWUobDEscjEsbDIscjIpKTsNCgkJCX0NCgkJCXNvcnQoY2guYmVnaW4oKSxjaC5lbmQoKSxncmVhdGVyPGxsPigpKTsNCi8vCQkJZm9yKGF1dG8geDpjaCkgY2Vycjw8eDw8IiAiOyBjZXJyPDxlbmRsOw0KCQkJbGwgcnM9c3VtOw0KCQkJRm9yKGksMCxtaW4obGwoY2guc2l6ZSgpKSx4KS0xKSBycys9Y2hbaV07DQoJCQljb3V0PDxyczw8IlxuIjsNCgkJfQ0KCX0NCn0="}]