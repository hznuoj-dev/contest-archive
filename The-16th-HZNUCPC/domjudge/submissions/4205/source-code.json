[{"id":"4205","submission_id":"4205","filename":"a.cpp","source":"I2luY2x1ZGUgPGJpdHMvc3RkYysrLmg+DQoNCnVzaW5nIG5hbWVzcGFjZSBzdGQ7DQojZGVmaW5lIGludCBsb25nIGxvbmcNCiNkZWZpbmUgZW5kbCAnXG4nDQojZGVmaW5lIGxzb24gbm9kZSA8PCAxDQojZGVmaW5lIHJzb24gbm9kZSA8PCAxIHwgMQ0KY29uc3QgaW50IG1heG4gPSAxZTYgKyA1Ow0KY29uc3QgaW50IElORiA9IDFlOTsNCnN0cnVjdCBub2RlIHsNCiAgICBpbnQgbCwgcjsNCiAgICBpbnQgbWlubix0YWc7DQp9dFttYXhuIDw8IDJdOw0Kdm9pZCBwdXNodXAoaW50IG5vZGUpew0KICAgIHRbbm9kZV0ubWlubiA9IG1pbih0W2xzb25dLm1pbm4sdFtyc29uXS5taW5uKTsNCn0NCnZvaWQgc3ByZWFkKGludCBub2RlKXsNCiAgICBpZih0W25vZGVdLnRhZyA9PSAtMSkgcmV0dXJuOw0KICAgIGludCAmayA9IHRbbm9kZV0udGFnOw0KICAgIHRbbHNvbl0udGFnID0gdFtyc29uXS50YWcgPSBrOw0KICAgIHRbbHNvbl0ubWlubiA9IG1pbih0W2xzb25dLm1pbm4sayk7DQogICAgdFtyc29uXS5taW5uID0gbWluKHRbcnNvbl0ubWlubixrKTsNCiAgICBrID0gLTE7DQp9DQp2b2lkIGJ1aWxkKGludCBsLGludCByLGludCBub2RlKXsNCiAgICB0W25vZGVdLm1pbm4gPSBpbmY7DQogICAgdFtub2RlXS50YWcgPSAtMTsNCiAgICBpZihsID09IHIpIHJldHVybjsNCiAgICBpbnQgbWlkID0gbCArIHIgPj4gMTsNCiAgICBidWlsZChsLG1pZCxsc29uKTsNCiAgICBidWlsZChtaWQgKyAxLHIscnNvbik7DQogICAgcHVzaHVwKG5vZGUpOw0KfQ0Kdm9pZCBjaGFuZ2UoaW50IGwsaW50IHIsaW50IG5vZGUsaW50IHgsaW50IHksaW50IGspew0KICAgIGlmKHggPD0gbCAmJiByIDw9IHkpew0KICAgICAgICB0W25vZGVdLm1pbm4gPSBtaW4odFtub2RlXS50YWcsayk7DQogICAgICAgIHRbbm9kZV0udGFnID0gazsNCiAgICAgICAgcmV0dXJuOw0KICAgIH0NCiAgICBzcHJlYWQobm9kZSk7DQogICAgaW50IG1pZCA9IGwgKyByID4+IDE7DQogICAgaWYoeCA8PSBtaWQpIGNoYW5nZShsLG1pZCxsc29uLHgseSxrKTsNCiAgICBpZih5ID4gbWlkKSBjaGFuZ2UobWlkICsgMSxyLHJzb24seCx5LGspOw0KICAgIHB1c2h1cChub2RlKTsNCn0NCmludCBnZXQoaW50IGwsaW50IHIsaW50IG5vZGUsaW50IHgpew0KICAgIGlmKGwgPT0gcikgcmV0dXJuIHRbbm9kZV0ubWlubjsNCiAgICBzcHJlYWQobm9kZSk7DQogICAgaW50IG1pZCA9IGwgKyByID4+IDE7DQogICAgaWYoeCA8PSBtaWQpIHJldHVybiBnZXQobCxtaWQsbHNvbix4KTsNCiAgICByZXR1cm4gZ2V0KG1pZCArIDEscixyc29uLHgpOw0KfQ0KDQoNCnZvaWQgc29sdmUoKSB7DQogICAgaW50IG4sIG0sIHg7DQogICAgY2luID4+IG4gPj4gbSA+PiB4Ow0KICAgIHZlY3Rvcjx2ZWN0b3I8aW50Pj4gYShuLCB2ZWN0b3I8aW50PigzKSk7DQogICAgdmVjdG9yPHBhaXI8aW50LCBpbnQ+PmIobSk7DQogICAgZm9yIChpbnQgaSA9IDA7IGkgPCBuOyArK2kpIHsNCiAgICAgICAgZm9yKGludCBqID0gMDsgaiA8IDM7ICsraikgY2luID4+IGFbaV1bal07DQogICAgfQ0KICAgIGZvciAoaW50IGkgPSAwOyBpIDwgbTsgKytpKSB7DQogICAgICAgIGNpbiA+PiBiW2ldLmZpcnN0ID4+IGJbaV0uc2Vjb25kOw0KICAgIH0NCiAgICBzb3J0KGEucmJlZ2luKCksIGEucmVuZCgpKTsNCiAgICBzb3J0KGIucmJlZ2luKCksIGIucmVuZCgpKTsNCiAgICBpbnQgayA9IDA7DQogICAgYnVpbGQoMSwgbiwgMSk7DQogICAgZm9yIChpbnQgaSA9IDA7IGkgPCBuOyArK2kpIHsNCiAgICAgICAgd2hpbGUoYltrXS5maXJzdCA+IGFbaV1bMF0pIA0KICAgIH0NCn0NCg0Kc2lnbmVkIG1haW4odm9pZCkgew0KI2lmZGVmIERFQlVHDQogICAgZnJlb3BlbigiYS5pbiIsICJyIiwgc3RkaW4pOw0KICAgIGZyZW9wZW4oImEub3V0IiwgInciLCBzdGRvdXQpOw0KICAgIGF1dG8gbm93ID0gY2xvY2soKTsNCiNlbmRpZg0KICAgIGlvczo6c3luY193aXRoX3N0ZGlvKGZhbHNlKTsgY2luLnRpZSgwKTsgY291dC50aWUoMCk7DQogICAgY291dCA8PCBmaXhlZCA8PCBzZXRwcmVjaXNpb24oNik7DQogICAgaW50IFQ7DQogICAgY2luID4+IFQ7DQogICAgd2hpbGUgKFQtLSkNCiAgICB7c29sdmUoKTsgfQ0KI2lmZGVmIERFQlVHDQogICAgY2VyciA8PCBzZXRwcmVjaXNpb24oMikgPDwgZG91YmxlKGNsb2NrKCkgLSBub3cpIC8gKGRvdWJsZSlDTE9DS1NfUEVSX1NFQyAqIDEwMDAgPDwgIiBtcy4iIDw8IGVuZGw7DQojZW5kaWYNCiAgICByZXR1cm4gMDsNCn0="}]