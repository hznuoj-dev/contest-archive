[{"id":"3626","submission_id":"3626","filename":"A.cpp","source":"I2luY2x1ZGUgPGJpdHMvc3RkYysrLmg+DQp1c2luZyBuYW1lc3BhY2Ugc3RkOw0KI2RlZmluZSBlbmRsICdcbicNCiNkZWZpbmUgSU8gaW9zOjpzeW5jX3dpdGhfc3RkaW8oMCk7Y2luLnRpZSgwKTtjb3V0LnRpZSgwKTsNCiNkZWZpbmUgbGwgbG9uZyBsb25nDQpjb25zdCBsbCBtb2RlPTFlOSs3Ow0KY29uc3QgaW50IG1heG49MWU3Ow0KLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCg0KY2hhciBhW21heG5dOw0KY2hhciBzW21heG5dOw0KaW50IGh3W21heG5dOw0KaW50IGpod1ttYXhuXTsNCnZvaWQgc29sdmUoKQ0Kew0KICAgIGNpbj4+YTsNCiAgICBpbnQgbiA9IHN0cmxlbihhKTsNCiAgICBzWzBdID0gJz4nOw0KICAgIHNbMV0gPSAnIyc7DQogICAgZm9yIChpbnQgaSA9MDtpPG47aSsrKQ0KICAgIHsNCiAgICAgICAgc1tpKjIrMl0gPSBhW2ldOw0KICAgICAgICBzW2kqMiszXSA9ICcjJzsNCiAgICB9DQogICAgc1tuKjIrMl0gPSAnPCc7DQogICAgc1tuKjIrM10gPSAnXDAnOw0KDQoNCg0KICAgIGludCBsZSA9IHN0cmxlbihzKTsNCg0KICAgIGZvciAoaW50IGkgPTA7aTw9bGU7aSsrKQ0KICAgICAgICBod1tpXT1qaHdbaV0gPSAwOw0KDQoNCiAgICBpbnQgbSAgPSAtMSwgciA9IC0xOw0KICAgIGZvciAoaW50IGkgPSAwO2k8PWxlO2krKykNCiAgICB7DQogICAgICAgIGJvb2wgZmxhZyA9IHRydWU7DQogICAgICAgIGJvb2wgZXJjaSA9IHRydWU7DQogICAgICAgIC8vIGppZQ0KICAgICAgICBjaGFyIHN0MSA9ICcuJzsNCiAgICAgICAgLy8gaHVhbg0KICAgICAgICBjaGFyIHN0MiA9ICAnLic7DQoNCg0KICAgICAgICBpbnQgcCA9IDA7DQogICAgICAgIGlmIChyPmkpIHAgPSBtaW4oci1pLGh3W20rbS1pXSk7DQoNCiAgICAgICAgaHdbaV0gPSBwOw0KDQogICAgICAgIHdoaWxlKDEpDQogICAgICAgIHsNCiAgICAgIC8vICAgICAgaWYgKGk9PTcpDQogICAgICAvLyAgICAgIHsNCiAgICAgIC8vICAgICAgICAgIGNvdXQ8PCBtPDwiPT0iPDxyPDwiICAgICI8PCBmbGFnIDw8IiAiPDxlcmNpPDwiICI8PHA8PCI6Ijw8IHN0MTw8c3QyPDxlbmRsOw0KICAgICAgLy8gICAgICB9DQoNCiAgICAgICAgICAgIGlmIChpLXA8PTAgfHwgaStwPj1sZSkNCiAgICAgICAgICAgICAgICBicmVhazsNCg0KICAgICAgICAgICBlbHNlIGlmICAoZmxhZyAmJiBlcmNpICYmIHNbaStwXT09c1tpLXBdKQ0KICAgICAgICAgICB7DQogICAgICAgICAgICAgICBod1tpXSA9ICsrcDsNCg0KICAgICAgICAgICAgICAgaWYgKCBpK3A+cikNCiAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICByID0gaStwOw0KICAgICAgICAgICAgICAgIG0gPSBpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICB9DQogICAgICAgICAgIGVsc2UgaWYgICghZmxhZyAmJiAhZXJjaSAmJiBzW2krcF09PXNbaS1wXSkNCiAgICAgICAgICAgew0KICAgICAgICAgICAgICAgamh3W2ldID0gKytwOw0KICAgICAgICAgICB9DQogICAgICAgICAgIGVsc2UgaWYgICghZmxhZyYmIGVyY2kmJiBzW2krcF09PXNbaS1wXSkNCiAgICAgICAgICAgew0KICAgICAgICAgICAgICAgKytwOw0KICAgICAgICAgICB9DQogICAgICAgICAgIGVsc2UgaWYgKGZsYWcgJiZlcmNpKQ0KICAgICAgICAgICB7DQogICAgICAgICAgICAgICBzdDEgPSBzW2ktcF07DQogICAgICAgICAgICAgICBzdDIgPSBzW2krcF07DQogICAgICAgICAgICAgICBmbGFnID0gZmFsc2U7DQogICAgICAgICAgICAgICAgKytwOw0KDQoNCg0KICAgICAgICAgICB9ZWxzZSBpZiAoIWZsYWcgJiYgZXJjaSAmJiAoc3QxPT1zW2ktcF0gJiYgc3QyID09IHNbaStwXSl8fChzdDE9PXNbaStwXSAmJiBzdDIgPT0gc1tpLXBdKSkNCiAgICAgICAgICAgew0KICAgICAgICAgICAgICAgZXJjaSA9IGZhbHNlOw0KICAgICAgICAgICAgICAgamh3W2ldID0gKytwOw0KICAgICAgICAgICB9ZWxzZQ0KICAgICAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICB9DQoNCg0KICAgIGlmICghZmxhZyAmJiBlcmNpICYmICBzW2ldIT0nIycmJiAoc1tpXT09c3QxfHxzW2ldPT1zdDIpKQ0KICAgICAgICBqaHdbaV0gPSBwOw0KICAgIH0NCg0KDQoNCiAvLyAgIGZvciAoaW50IGkgPSAwO2k8bGU7aSsrKQ0KIC8vICAgICBjb3V0PDxzW2ldPDwiICI7DQogLy8gICBjb3V0PDxlbmRsOw0KIC8vIGZvciAoaW50IGkgPSAwO2k8bGU7aSsrKQ0KIC8vICAgICAgIGNvdXQ8PGh3W2ldPDwiICI7DQogLy8gICBjb3V0PDxlbmRsOw0KICAvLyAgZm9yIChpbnQgaSA9IDA7aTxsZTtpKyspDQogLy8gICAgICAgY291dDw8amh3W2ldPDwiICI7DQogLy8gICBjb3V0PDxlbmRsOw0KDQogICAgaW50IGFucyA9IDAgOw0KDQogICAgZm9yIChpbnQgaSA9IDA7aTxsZTtpKyspDQogICAgICAgIGFucyA9IG1heChhbnMsaHdbaV0gLTEpOw0KICAgIGZvciAoaW50IGkgPSAwO2k8bGU7aSsrKQ0KICAgICAgICBhbnMgPSBtYXgoYW5zLGpod1tpXSAtMSk7DQoNCg0KICAgIGNvdXQ8PCgoYW5zPD0xKT8wOmFucyk8PGVuZGw7DQoNCn0NCmludCBtYWluKCkNCnsNCiAgICBJTzsNCiAgICBpbnQgdG49MTsNCiAgICBjaW4+PnRuOw0KICAgIHdoaWxlKHRuLS0pDQogICAgew0KICAgICAgICBzb2x2ZSgpOw0KICAgIH0NCiAgICByZXR1cm4gMDsNCn0NCg=="}]