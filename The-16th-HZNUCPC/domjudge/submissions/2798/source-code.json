[{"id":"2798","submission_id":"2798","filename":"d.cpp","source":"I2luY2x1ZGU8Yml0cy9zdGRjKysuaD4NCiNkZWZpbmUgRm9yKGksbCxyKSBmb3IoaW50IGk9bCxpIyNlbmQ9cjtpPD1pIyNlbmQ7KytpKQ0KI2RlZmluZSByRm9yKGkscixsKSBmb3IoaW50IGk9cixpIyNlbmQ9bDtpPj1pIyNlbmQ7LS1pKQ0KdHlwZWRlZiBsb25nIGxvbmcgbGw7DQp1c2luZyBuYW1lc3BhY2Ugc3RkOw0KY29uc3QgaW50IE49M2U1KzEwLElORj0xZTk7DQpzdHJ1Y3QgbmQgew0KCWludCB0LGlkLGwscjsNCglib29sIG9wZXJhdG9yPChjb25zdCBuZCBiKWNvbnN0ew0KCQlpZih0IT1iLnQpIHJldHVybiB0PmIudDsNCgkJaWYoaWQhPWIuaWQpIHJldHVybiBpZDxiLmlkOw0KCQlyZXR1cm4gcj5iLnI7DQoJfQ0KfWFbTl07DQppbnQgbixtLGssYltOXSxhbnNbTl07DQpuYW1lc3BhY2UgRFMgew0KI2RlZmluZSBscyAoazw8MSkNCiNkZWZpbmUgcnMgKGxzfDEpDQoJY29uc3QgaW50IFM9Tjw8MjsNCglpbnQgdHJbU107DQoJdm9pZCBidWlsZChpbnQgaz0xLGludCBsPTEsaW50IHI9bSkgew0KCQl0cltrXT1JTkY7DQoJCWlmKGw9PXIpIHJldHVybjsNCgkJaW50IG09bCtyPj4xOw0KCQlidWlsZChscyxsLG0pOyBidWlsZChycyxtKzEscik7DQoJfQ0KCXZvaWQgdXBkKGludCBMLGludCBSLGludCB4LGludCBrPTEsaW50IGw9MSxpbnQgcj1tKSB7DQovLwkJY2Vycjw8TDw8IiAiPDxSPDxlbmRsOw0KCQlpZihMPD1sICYmIHI8PVIpIHJldHVybiB0cltrXT1taW4odHJba10seCksdm9pZCgpOw0KCQlpbnQgbT1sK3I+PjE7DQoJCWlmKEw8PW0pIHVwZChMLFIseCxscyxsLG0pOw0KCQlpZihtPFIpIHVwZChMLFIseCxycyxtKzEscik7DQoJfQ0KCWludCBxdWUoaW50IHAsaW50IGs9MSxpbnQgbD0xLGludCByPW0pIHsNCgkJaWYobD09cikgcmV0dXJuIHRyW2tdOw0KCQlpbnQgbT1sK3I+PjEsYW5zPXRyW2tdOw0KCQlpZihwPD1tKSBhbnM9bWluKGFucyxxdWUocCxscyxsLG0pKTsNCgkJZWxzZSBhbnM9bWluKGFucyxxdWUocCxycyxtKzEscikpOw0KCQlyZXR1cm4gYW5zOw0KCX0NCiN1bmRlZiBscw0KI3VuZGVmIHJzDQp9DQppbnQgbWFpbigpIHsNCiNpZmRlZiBMT0NBTA0KCWZyZW9wZW4oIi5pbiIsInIiLHN0ZGluKTsNCiNlbmRpZg0KCWlvczo6c3luY193aXRoX3N0ZGlvKDApOyBjaW4udGllKDApOw0KCWNpbj4+bj4+az4+YlttPTFdOw0KCUZvcihpLDEsbikgew0KCQljaW4+PmFbaV0udD4+YVtpXS5sPj5hW2ldLnI7DQoJCWlmKGFbaV0ubD4xKSBiWysrbV09YVtpXS5sLTE7IGJbKyttXT1hW2ldLnI7DQoJfQ0KCUZvcihpLG4rMSxuK2spIHsNCgkJY2luPj5hW2ldLnQ+PmFbaV0ubDsgYVtpXS5yPWFbaV0ubDsNCgkJYVtpXS5pZD1pLW47IGJbKyttXT1hW2ldLmw7DQoJfQ0KCW4rPWs7DQoJc29ydChiKzEsYittKzEpOyBtPXVuaXF1ZShiKzEsYittKzEpLWItMTsNCglGb3IoaSwxLG4pIHsNCgkJYVtpXS5sPWxvd2VyX2JvdW5kKGIrMSxiK20rMSxhW2ldLmwpLWI7DQoJCWFbaV0ucj1sb3dlcl9ib3VuZChiKzEsYittKzEsYVtpXS5yKS1iOw0KCX0NCglEUzo6YnVpbGQoKTsNCglEUzo6dXBkKG0sbSwwKTsNCglzb3J0KGErMSxhK24rMSk7DQoJRm9yKGksMSxuKSB7DQoJCWludCB4PURTOjpxdWUoYVtpXS5yKTsNCgkJaWYoIWFbaV0uaWQpIHsNCgkJCURTOjp1cGQoYVtpXS5sLGFbaV0ucix4KzEpOw0KCQl9IGVsc2UgYW5zW2FbaV0uaWRdPXg7DQoJfQ0KCUZvcihpLDEsaykgew0KCQlpZihhbnNbaV09PUlORikgY291dDw8LTE8PCJcbiI7DQoJCWVsc2UgY291dDw8YW5zW2ldPDwiXG4iOw0KCX0NCn0="}]