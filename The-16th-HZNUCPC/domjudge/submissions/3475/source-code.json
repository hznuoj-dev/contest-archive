[{"id":"3475","submission_id":"3475","filename":"2.cpp","source":"I2luY2x1ZGUgPGlvc3RyZWFtPg0KI2luY2x1ZGUgPHF1ZXVlPg0KI2luY2x1ZGUgPHZlY3Rvcj4NCiNpbmNsdWRlIDxjc3RyaW5nPg0KI2luY2x1ZGUgPHN0YWNrPg0KI2luY2x1ZGUgPGJpdHNldD4NCiNpbmNsdWRlIDxhbGdvcml0aG0+DQojaW5jbHVkZSA8Y21hdGg+DQojZGVmaW5lIG1heG4gMjAwMDEwDQojZGVmaW5lIG1heG0gMjAwMDEwDQojZGVmaW5lIGxsIGxvbmcgbG9uZw0KdXNpbmcgbmFtZXNwYWNlIHN0ZDsNCg0KaW50IG4sIG0sIGs7DQoNCmlubGluZSBpbnQgdHJhbnMoaW50IHgpIHsgcmV0dXJuIHggPiBuID8geCAtIG4gOiB4ICsgbjsgfQ0KDQppbnQgZmFbbWF4bl07DQp2b2lkIGluaXRfZmEoaW50IG4pIHsgZm9yIChpbnQgaSA9IDE7IGkgPD0gbjsgKytpKSBmYVtpXSA9IGk7IH0gDQppbnQgZmluZChpbnQgeCkgeyANCgl2ZWN0b3I8aW50PiB2ZWM7DQoJd2hpbGUgKGZhW3hdICE9IHgpIHsgDQoJCXZlYy5wdXNoX2JhY2soeCk7DQoJCXggPSBmYVt4XTsNCgl9DQoJZm9yIChhdXRvIHUgOiB2ZWMpIGZhW3VdID0geDsNCglyZXR1cm4geDsNCn0NCnZvaWQgbWVyZ2UoaW50IHgsIGludCB5KSB7IA0KCXggPSBmaW5kKHgpLCB5ID0gZmluZCh5KTsNCglpZiAoeCA9PSB5KSByZXR1cm4gOw0KCWZhW3hdID0geTsNCn0NCg0KYm9vbCB2aXNbbWF4bl07DQp2ZWN0b3I8aW50PiBBW21heG5dOyBpbnQgYVttYXhuXSwgYlttYXhuXTsNCg0KY29uc3QgaW50IE4gPSAxMDAwMDEsIHNxdG4gPSA0MDA7DQpiaXRzZXQ8Tj4gZltzcXRuXSwgZ1tzcXRuXSwgaDsNCmludCBsW3NxdG5dLCByW3NxdG5dOw0KDQp2b2lkIHdvcmsoKSB7IA0KCWZvciAoaW50IGkgPSAxOyBpIDw9IDIgKiBuOyArK2kpIA0KCQlBW2ZpbmQoaSldLnB1c2hfYmFjayhpKSwgYVtmaW5kKGkpXSArPSBpIDw9IG47DQoJdmVjdG9yPGludD4gdmVjOyB2ZWMucHVzaF9iYWNrKDApOw0KCWZvciAoaW50IGkgPSAxOyBpIDw9IDIgKiBuOyArK2kpIHsgDQoJCWlmICh2aXNbaV0gfHwgIUFbaV0uc2l6ZSgpKSBjb250aW51ZTsNCgkJdmVjLnB1c2hfYmFjayhpKTsNCgkJdmlzW2ZpbmQodHJhbnMoaSkpXSA9IDE7DQoJfSANCgkNCgkNCglpbnQgdG9wID0gdmVjLnNpemUoKSAtIDEsIEIgPSBzcXJ0KHRvcCksIG51bSA9ICh0b3AgKyBCIC0gMSkgLyBCOw0KCWZvciAoaW50IGkgPSAxOyBpIDw9IG51bTsgKytpKSANCgkJbFtpXSA9IChpIC0gMSkgKiBCICsgMSwgcltpXSA9IGkgKiBCOw0KCWZbMF1bMF0gPSAxOyByW251bV0gPSB0b3A7DQoJZm9yIChpbnQgaSA9IDE7IGkgPD0gbnVtOyArK2kpIHsgDQoJCWZbaV0gPSBmW2kgLSAxXTsNCgkJZm9yIChpbnQgaiA9IGxbaV07IGogPD0gcltpXTsgKytqKSANCgkJCWZbaV0gPSBmW2ldIDw8IGFbdmVjW2pdXSB8IGZbaV0gPDwgQVt2ZWNbal1dLnNpemUoKSAtIGFbdmVjW2pdXTsNCgl9DQoJDQoJaWYgKCFmW251bV1ba10pIHJldHVybiBjb3V0IDw8ICJOTyIgPDwgIlxuIiwgdm9pZCgpOw0KCQ0KCXZlY3RvcjxpbnQ+IGFuczsNCglmb3IgKGludCBpID0gbnVtOyBpOyAtLWkpIHsgDQoJCWdbMV0gPSBmW2kgLSAxXTsNCgkJZm9yIChpbnQgaiA9IGxbaV0sIGsgPSAxOyBqIDwgcltpXTsgKytqKSANCgkJCWdbayArIDFdID0gZ1trXSA8PCBhW3ZlY1tqXV0gfCBnW2tdIDw8IEFbdmVjW2pdXS5zaXplKCkgLSBhW3ZlY1tqXV07DQoJCWZvciAoaW50IGogPSByW2ldLCB0ID0gcltpXSAtIGxbaV0gKyAxOyBqID49IGxbaV07IC0taikgew0KCQkJaW50IHYxID0gYVt2ZWNbal1dLCB2MiA9IEFbdmVjW2pdXS5zaXplKCkgLSB2MTsNCgkJCWlmIChrID49IHYxICYmIGdbdF1bayAtIHYxXSkgew0KCQkJCWsgLT0gdjE7DQoJCQkJZm9yIChhdXRvIHUgOiBBW3ZlY1tqXV0pDQoJCQkJCWlmICh1IDw9IG4pIGFucy5wdXNoX2JhY2sodSk7DQoJCQl9IGVsc2UgaWYgKGsgPj0gdjIgJiYgZ1t0XVtrIC0gdjJdKSB7IA0KCQkJCWsgLT0gdjI7DQoJCQkJZm9yIChhdXRvIHUgOiBBW3ZlY1tqXV0pDQoJCQkJCWlmICh1ID4gbikgYW5zLnB1c2hfYmFjayh1IC0gbik7DQoJCQl9DQoJCX0NCgl9DQoJDQoJY291dCA8PCAiWUVTIiA8PCAiXG4iOw0KCXNvcnQoYW5zLmJlZ2luKCksIGFucy5lbmQoKSk7DQoJZm9yIChhdXRvIHUgOiBhbnMpIGNvdXQgPDwgdSA8PCAiICI7IGNvdXQgPDwgIlxuIjsNCn0NCg0KaW50IG1haW4oKSB7IA0KCWlvczo6c3luY193aXRoX3N0ZGlvKGZhbHNlKTsNCgljaW4udGllKG51bGxwdHIpOyBjb3V0LnRpZShudWxscHRyKTsgDQoJDQoJLy9mcmVvcGVuKCIxLmluIiwgInIiLCBzdGRpbik7DQoJLy9mcmVvcGVuKCIxLm91dCIsICJ3Iiwgc3Rkb3V0KTsNCgkNCgljaW4gPj4gbiA+PiBrID4+IG07IGluaXRfZmEoMiAqIG4pOw0KCWZvciAoaW50IGkgPSAxOyBpIDw9IG07ICsraSkgeyANCgkJaW50IG8sIHgsIHk7IGNpbiA+PiBvID4+IHggPj4geTsNCgkJbWVyZ2UoeCwgeSArIG8gKiBuKSwgbWVyZ2UoeCArIG4sIHkgKyAobyBeIDEpICogbik7DQoJfQ0KCWZvciAoaW50IGkgPSAxOyBpIDw9IG47ICsraSkNCgkJaWYgKGZpbmQoaSkgPT0gZmluZChpICsgbikpIHJldHVybiBjb3V0IDw8ICJOTyIgPDwgIlxuIiwgMDsNCgl3b3JrKCk7DQoJcmV0dXJuIDA7IA0KfSA="}]