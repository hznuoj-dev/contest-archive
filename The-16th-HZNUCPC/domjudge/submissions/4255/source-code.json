[{"id":"4255","submission_id":"4255","filename":"a.cpp","source":"I2luY2x1ZGUgPGJpdHMvc3RkYysrLmg+DQoNCnVzaW5nIG5hbWVzcGFjZSBzdGQ7DQojZGVmaW5lIGludCBsb25nIGxvbmcNCiNkZWZpbmUgZW5kbCAnXG4nDQojZGVmaW5lIGxzb24gbm9kZSA8PCAxDQojZGVmaW5lIHJzb24gbm9kZSA8PCAxIHwgMQ0KY29uc3QgaW50IG1heG4gPSAxZTYgKyA1Ow0KY29uc3QgaW50IElORiA9IDFlOTsNCnN0cnVjdCBub2RlIHsNCiAgICBpbnQgbCwgcjsNCiAgICBpbnQgbWlubix0YWc7DQp9dFttYXhuIDw8IDJdOw0Kdm9pZCBwdXNodXAoaW50IG5vZGUpew0KICAgIHRbbm9kZV0ubWlubiA9IG1pbih0W2xzb25dLm1pbm4sdFtyc29uXS5taW5uKTsNCn0NCnZvaWQgc3ByZWFkKGludCBub2RlKXsNCiAgICBpZih0W25vZGVdLnRhZyA9PSAtMSkgcmV0dXJuOw0KICAgIGludCAmayA9IHRbbm9kZV0udGFnOw0KICAgIHRbbHNvbl0udGFnID0gdFtyc29uXS50YWcgPSBrOw0KICAgIHRbbHNvbl0ubWlubiA9IG1pbih0W2xzb25dLm1pbm4sayk7DQogICAgdFtyc29uXS5taW5uID0gbWluKHRbcnNvbl0ubWlubixrKTsNCiAgICBrID0gLTE7DQp9DQp2b2lkIGJ1aWxkKGludCBsLGludCByLGludCBub2RlKXsNCiAgICB0W25vZGVdLm1pbm4gPSBpbmY7DQogICAgdFtub2RlXS50YWcgPSAtMTsNCiAgICBpZihsID09IHIpIHJldHVybjsNCiAgICBpbnQgbWlkID0gbCArIHIgPj4gMTsNCiAgICBidWlsZChsLG1pZCxsc29uKTsNCiAgICBidWlsZChtaWQgKyAxLHIscnNvbik7DQogICAgcHVzaHVwKG5vZGUpOw0KfQ0Kdm9pZCBjaGFuZ2UoaW50IGwsaW50IHIsaW50IG5vZGUsaW50IHgsaW50IHksaW50IGspew0KICAgIGlmKHggPD0gbCAmJiByIDw9IHkpew0KICAgICAgICB0W25vZGVdLm1pbm4gPSBtaW4odFtub2RlXS50YWcsayk7DQogICAgICAgIHRbbm9kZV0udGFnID0gazsNCiAgICAgICAgcmV0dXJuOw0KICAgIH0NCiAgICBzcHJlYWQobm9kZSk7DQogICAgaW50IG1pZCA9IGwgKyByID4+IDE7DQogICAgaWYoeCA8PSBtaWQpIGNoYW5nZShsLG1pZCxsc29uLHgseSxrKTsNCiAgICBpZih5ID4gbWlkKSBjaGFuZ2UobWlkICsgMSxyLHJzb24seCx5LGspOw0KICAgIHB1c2h1cChub2RlKTsNCn0NCmludCBnZXQoaW50IGwsaW50IHIsaW50IG5vZGUsaW50IHgpew0KICAgIGlmKGwgPT0gcikgcmV0dXJuIHRbbm9kZV0ubWlubjsNCiAgICBzcHJlYWQobm9kZSk7DQogICAgaW50IG1pZCA9IGwgKyByID4+IDE7DQogICAgaWYoeCA8PSBtaWQpIHJldHVybiBnZXQobCxtaWQsbHNvbix4KTsNCiAgICByZXR1cm4gZ2V0KG1pZCArIDEscixyc29uLHgpOw0KfQ0KDQoNCnZvaWQgc29sdmUoKSB7DQogICAgaW50IG4sIG0sIHg7DQogICAgY2luID4+IG4gPj4gbSA+PiB4Ow0KICAgIA0KfQ0KDQpzaWduZWQgbWFpbih2b2lkKSB7DQojaWZkZWYgREVCVUcNCiAgICBmcmVvcGVuKCJhLmluIiwgInIiLCBzdGRpbik7DQogICAgZnJlb3BlbigiYS5vdXQiLCAidyIsIHN0ZG91dCk7DQogICAgYXV0byBub3cgPSBjbG9jaygpOw0KI2VuZGlmDQogICAgaW9zOjpzeW5jX3dpdGhfc3RkaW8oZmFsc2UpOyBjaW4udGllKDApOyBjb3V0LnRpZSgwKTsNCiAgICBjb3V0IDw8IGZpeGVkIDw8IHNldHByZWNpc2lvbig2KTsNCiAgICBpbnQgVDsNCiAgICBjaW4gPj4gVDsNCiAgICB3aGlsZSAoVC0tKQ0KICAgIHtzb2x2ZSgpOyB9DQojaWZkZWYgREVCVUcNCiAgICBjZXJyIDw8IHNldHByZWNpc2lvbigyKSA8PCBkb3VibGUoY2xvY2soKSAtIG5vdykgLyAoZG91YmxlKUNMT0NLU19QRVJfU0VDICogMTAwMCA8PCAiIG1zLiIgPDwgZW5kbDsNCiNlbmRpZg0KICAgIHJldHVybiAwOw0KfQ=="}]