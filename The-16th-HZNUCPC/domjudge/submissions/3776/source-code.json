[{"id":"3776","submission_id":"3776","filename":"I.cpp","source":"I2luY2x1ZGUgPGJpdHMvc3RkYysrLmg+DQoNCnVzaW5nIG5hbWVzcGFjZSBzdGQ7DQp1c2luZyBMTCA9IGxvbmcgbG9uZzsNCmludCBtYWluKCkNCnsNCglpbnQgVDsNCgljaW4gPj4gVDsNCgl3aGlsZShUIC0tKQ0KCXsNCgkJaW50IGFucyA9IDA7DQoJCXN0cmluZyBzLCBzMiA9ICIlJCI7DQoJCWNpbiA+PiBzOw0KCQlmb3IoaW50IGkgPSAwIDsgaSA8IHMuc2l6ZSgpIDsgKysgaSkNCgkJew0KCQkJczIgKz0gJyMnOw0KCQkJczIgKz0gc1tpXTsNCgkJfQ0KCQlzMiArPSAiIyYqIjsNCi8vCQljb3V0IDw8czIgPDwgZW5kbDsNCgkJZm9yKGludCBpID0gMiA7IGkgPCBzMi5zaXplKCkgLSAyIDsgKysgaSkNCgkJew0KCQkJdW5vcmRlcmVkX21hcDxjaGFyLCBpbnQ+IHN0Ow0KCQkJaWYoczJbaV0gPT0gJyMnKQkvL+WBtuaVsOWbnuaWh+S4sg0KCQkJew0KCQkJCWludCBsID0gaSAtIDEsIHIgPSBpICsgMTsNCgkJCQkvLyBpbnQgZl9sLCBmX3IsIHNfbCwgc19yOw0KCQkJCXZlY3RvcjxpbnQ+IHZlOw0KCQkJCXdoaWxlKHMyW2xdID09IHMyW3JdKSBhbnMgPSBtYXgoYW5zLCBpIC0gbCksIGwgLS0sIHIgKys7DQovLwkJCQljb3V0IDw8YW5zIDw8IGVuZGw7DQoJCQkJDQoJCQkJaWYoIXN0W3MyW2xdXSkNCgkJCQl7DQoJCQkJCXZlLnB1c2hfYmFjayhzMltsXSk7DQoJCQkJfQ0KCQkJCWlmKCFzdFtzMltyXV0pDQoJCQkJew0KCQkJCQl2ZS5wdXNoX2JhY2soczJbcl0pOw0KCQkJCX0NCgkJCQlzdFtzMltsXV0gKys7DQoJCQkJc3RbczJbcl1dICsrOw0KCQkJCS8vIGZfbCA9IGwsIGZfciA9IHI7DQoJCQkJbCAtLSwgciArKzsNCgkJCQl3aGlsZShzMltsXSA9PSBzMltyXSkgbCAtLSwgciArKzsNCgkJCQlpZighc3RbczJbbF1dKQ0KCQkJCXsNCgkJCQkJdmUucHVzaF9iYWNrKHMyW2xdKTsNCgkJCQl9DQoJCQkJaWYoIXN0W3MyW3JdXSkNCgkJCQl7DQoJCQkJCXZlLnB1c2hfYmFjayhzMltyXSk7DQoJCQkJfQ0KCQkJCXN0W3MyW2xdXSArKzsNCgkJCQlzdFtzMltyXV0gKys7DQoJCQkJaWYodmUuc2l6ZSgpID09IDIpDQoJCQkJew0KCQkJCQlsIC0tLCByICsrOw0KCQkJCQl3aGlsZShzMltsXSA9PSBzMltyXSAmJiBzMltsXSAhPSAnJicpIGwgLS0sIHIgKys7DQoJCQkJCWFucyA9IG1heChhbnMsIGkgLSBsIC0gMSk7DQoJCQkJfQ0KCQkJfQ0KCQkJZWxzZSAvL+Wlh+aVsOWbnuaWh+S4sg0KCQkJew0KCQkJCXN0W3MyW2ldXSArKzsNCgkJCQl2ZWN0b3I8aW50PiB2ZTsNCgkJCQl2ZS5wdXNoX2JhY2soczJbaV0pOw0KCQkJCQ0KCQkJCWludCBsID0gaSAtIDEsIHIgPSBpICsgMTsNCgkJCQlpbnQgZl9sLCBmX3IsIHNfbCwgc19yOw0KCQkJCXdoaWxlKHMyW2xdID09IHMyW3JdKSBhbnMgPSBtYXgoYW5zLCBpIC0gbCksIGwgLS0sIHIgKys7DQoJCQkJaWYoIXN0W3MyW2xdXSkNCgkJCQl7DQoJCQkJCXZlLnB1c2hfYmFjayhzMltsXSk7DQoJCQkJfQ0KCQkJCWlmKCFzdFtzMltyXV0pDQoJCQkJew0KCQkJCQl2ZS5wdXNoX2JhY2soczJbcl0pOw0KCQkJCX0NCgkJCQlzdFtzMltsXV0gKys7DQoJCQkJc3RbczJbcl1dICsrOw0KCQkJCWlmKHZlLnNpemUoKSA9PSAyKQ0KCQkJCXsNCgkJCQkJbCAtLSwgciArKzsNCgkJCQkJd2hpbGUoczJbbF0gPT0gczJbcl0pIGwgLS0sIHIgKys7DQoJCQkJCWFucyA9IG1heChhbnMsIGkgLSBsIC0gMSk7DQoJCQkJfQ0KCQkJCWVsc2UgaWYodmUuc2l6ZSgpID09IDMpDQoJCQkJew0KCQkJCQlsIC0tLCByICsrOw0KCQkJCQl3aGlsZShzMltsXSA9PSBzMltyXSkgbCAtLSwgciArKzsNCgkJCQkJaWYoIXN0W3MyW2xdXSkNCgkJCQkJew0KCQkJCQkJdmUucHVzaF9iYWNrKHMyW2xdKTsNCgkJCQkJfQ0KCQkJCQlpZighc3RbczJbcl1dKQ0KCQkJCQl7DQoJCQkJCQl2ZS5wdXNoX2JhY2soczJbcl0pOw0KCQkJCQl9DQoJCQkJCXN0W3MyW2xdXSArKzsNCgkJCQkJc3RbczJbcl1dICsrOw0KCQkJCQlsIC0tLCByICsrOw0KCQkJCQlpZih2ZS5zaXplKCkgPT0gMyAmJiBzdFtzMltpXV0gPT0gMSkNCgkJCQkJew0KCQkJCQkJd2hpbGUoczJbbF0gPT0gczJbcl0pIGwgLS0sIHIgKys7DQoJCQkJCQlhbnMgPSBtYXgoYW5zLCBpIC0gbCAtIDEpOw0KCQkJCQl9DQoJCQkJfQ0KCQkJfQ0KLy8JCQlpZihhbnMgPT0gNDkpDQovLwkJCXsNCi8vCQkJCWNvdXQgPDwgaSA8PGVuZGw7DQovLwkJCX0NCgkJfQ0KCQlpZihhbnMgPiAxKSBjb3V0IDw8IGFucyA8PCAnXG4nOw0KCQllbHNlIGNvdXQgPDwgIjBcbiI7DQoJfQ0KCQ0KCQ0KCQ0KfQ=="}]