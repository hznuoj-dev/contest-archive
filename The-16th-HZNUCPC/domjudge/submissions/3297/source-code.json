[{"id":"3297","submission_id":"3297","filename":"Untitled1.cpp","source":"I2luY2x1ZGU8Yml0cy9zdGRjKysuaD4NCnVzaW5nIG5hbWVzcGFjZSBzdGQ7DQovLyNkZWZpbmUgaW50IGxvbmcgbG9uZyANCnR5cGVkZWYgbG9uZyBsb25nIGxsOw0KDQpjb25zdCBpbnQgTj0zZTUrNyxNT0Q9MWU5KzcsSU5GPTB4M2YzZjNmM2Y7DQppbnQgbixtLHgsYW5zW05dOw0Kc3RydWN0IGJ1c3sNCglpbnQgdCxsLHI7DQp9YltOXTsNCmJvb2wgY21wQnVzKGJ1cyBhLGJ1cyBiKXsNCglpZihhLnQhPWIudCkgcmV0dXJuIGEudD5iLnQ7DQoJaWYoYS5yIT1iLnIpIHJldHVybiBhLnI+Yi5yOw0KCXJldHVybiBhLmw+Yi5sOw0KfQ0Kc3RydWN0IHBlcnsNCglpbnQgaWQsdCxwb3M7DQp9cFtOXTsNCmJvb2wgY21wUGVyKHBlciBhLHBlciBiKXsNCglyZXR1cm4gYS50PmIudDsNCn0NCg0Kc2V0PGludD4gczsNCnVub3JkZXJlZF9tYXA8aW50LGludD4gbXA7DQp2b2lkIGxpU2FuSHVhKCl7DQoJcy5pbnNlcnQoeCk7DQoJZm9yKGludCBpPTE7aTw9bjtpKyspew0KCQlzLmluc2VydChiW2ldLmwpOw0KCQlzLmluc2VydChiW2ldLnIpOw0KCX0NCglmb3IoaW50IGk9MTtpPD1tO2krKykgcy5pbnNlcnQocFtpXS5wb3MpOw0KCWludCBjbnQ9MDsNCglmb3IoYXV0byB4OnMpew0KCQljbnQrKzsNCgkJbXBbeF09Y250Ow0KCX0NCglmb3IoaW50IGk9MTtpPD1uO2krKyl7DQoJCWJbaV0ubD1tcFtiW2ldLmxdOw0KCQliW2ldLnI9bXBbYltpXS5yXTsNCgl9DQoJZm9yKGludCBpPTE7aTw9bTtpKyspIHBbaV0ucG9zPW1wW3BbaV0ucG9zXTsNCgl4PW1wW3hdOw0KfQ0KDQpzdHJ1Y3Qgbm9kZXsNCglpbnQgbCxyLG1pbm4sbWFyazsNCn10W04qNF07DQp2b2lkIHVwKGludCBpZCl7DQoJdFtpZF0ubWFyaz1JTkY7DQoJaWYodFtpZF0ubD09dFtpZF0ucikgcmV0dXJuOw0KCXRbaWRdLm1pbm49bWluKHRbaWQ8PDFdLm1pbm4sdFtpZDw8MXwxXS5taW5uKTsNCgl0W2lkXS5tYXJrPW1heCh0W2lkPDwxXS5tYXJrLHRbaWQ8PDF8MV0ubWFyayk7DQp9DQp2b2lkIGJ1aWxkKGludCBpZCxpbnQgbCxpbnQgcil7DQoJdFtpZF0ubD1sOw0KCXRbaWRdLnI9cjsNCglpZihsPT1yKXsNCgkJaWYobD09eCkgdFtpZF0ubWlubj0wOw0KCQllbHNlIHRbaWRdLm1pbm49SU5GOw0KCQl0W2lkXS5tYXJrPUlORjsNCgkJcmV0dXJuOw0KCX0NCglidWlsZChpZDw8MSxsLChsK3IpLzIpOw0KCWJ1aWxkKGlkPDwxfDEsKGwrcikvMisxLHIpOw0KCXVwKGlkKTsNCn0NCnZvaWQgZG93bihpbnQgaWQpew0KCWlmKHRbaWRdLmw9PXRbaWRdLnIpew0KCQl0W2lkXS5taW5uPW1pbih0W2lkXS5taW5uLHRbaWRdLm1hcmspOw0KLy8JCXRbaWRdLm1hcms9SU5GOw0KCQlyZXR1cm47DQoJfQ0KCXRbaWQ8PDFdLm1hcms9bWluKHRbaWQ8PDFdLm1hcmssdFtpZF0ubWFyayk7DQoJdFtpZDw8MXwxXS5tYXJrPW1pbih0W2lkPDwxfDFdLm1hcmssdFtpZF0ubWFyayk7DQoJdFtpZDw8MV0ubWlubj1taW4odFtpZDw8MV0ubWlubix0W2lkXS5tYXJrKTsNCgl0W2lkPDwxfDFdLm1pbm49bWluKHRbaWQ8PDF8MV0ubWlubix0W2lkXS5tYXJrKTsNCn0NCnZvaWQgdXBkYXRlKGludCBpZCxpbnQgbCxpbnQgcixpbnQgbWFyayl7DQoJaWYodFtpZF0ubD09bCYmdFtpZF0ucj09cil7DQoJCXRbaWRdLm1hcms9bWluKHRbaWRdLm1hcmssbWFyayk7DQoJCXRbaWRdLm1pbm49bWluKHRbaWRdLm1pbm4sbWFyayk7DQoJCXJldHVybjsNCgl9DQoJaWYobWFyaz49dFtpZF0ubWFyaykgcmV0dXJuOw0KCQ0KCWRvd24oaWQpOw0KCWludCBtaWQ9KHRbaWRdLmwrdFtpZF0ucikvMjsNCglpZihyPD1taWQpew0KCQl1cGRhdGUoaWQ8PDEsbCxyLG1hcmspOw0KCX1lbHNlIGlmKGw+bWlkKXsNCgkJdXBkYXRlKGlkPDwxfDEsbCxyLG1hcmspOw0KCX1lbHNlew0KCQl1cGRhdGUoaWQ8PDEsbCxtaWQsbWFyayk7DQoJCXVwZGF0ZShpZDw8MXwxLG1pZCsxLHIsbWFyayk7DQoJfQ0KCXVwKGlkKTsNCn0NCmludCBxdWVyeShpbnQgaWQsaW50IGwsaW50IHIpew0KCWlmKHRbaWRdLmw9PWwmJnRbaWRdLnI9PXIpew0KCQlyZXR1cm4gdFtpZF0ubWlubjsNCgl9DQoJZG93bihpZCk7DQoJaW50IG1pZD0odFtpZF0ubCt0W2lkXS5yKS8yOw0KCWlmKHI8PW1pZCl7DQoJCXJldHVybiBxdWVyeShpZDw8MSxsLHIpOw0KCX1lbHNlIGlmKGw+bWlkKXsNCgkJcmV0dXJuIHF1ZXJ5KGlkPDwxfDEsbCxyKTsNCgl9ZWxzZXsNCgkJcmV0dXJuIG1pbihxdWVyeShpZDw8MSxsLG1pZCkscXVlcnkoaWQ8PDF8MSxtaWQrMSxyKSk7DQoJfQ0KfQ0KDQp2b2lkIHNvbHZlKCl7DQoJY2luPj5uPj5tPj54Ow0KCWZvcihpbnQgaT0xO2k8PW47aSsrKSBjaW4+PmJbaV0udD4+YltpXS5sPj5iW2ldLnI7DQoJZm9yKGludCBpPTE7aTw9bTtpKyspew0KCQljaW4+PnBbaV0udD4+cFtpXS5wb3M7DQoJCXBbaV0uaWQ9aTsNCgl9DQoJbGlTYW5IdWEoKTsNCglzb3J0KGIrMSxiKzErbixjbXBCdXMpOw0KCXNvcnQocCsxLHArMSttLGNtcFBlcik7DQoJYnVpbGQoMSwxLHgpOw0KCWZvcihpbnQgaT0xLGo9MTtpPD1tO2krKyl7DQoJCWZvcig7ajw9biYmYltqXS50Pj1wW2ldLnQ7aisrKXsNCgkJCWludCBtaW5uPXF1ZXJ5KDEsYltqXS5sLGJbal0ucik7DQoJCQl1cGRhdGUoMSxiW2pdLmwsYltqXS5yLG1pbm4rMSk7DQoJCX0NCgkJaW50IHg9cXVlcnkoMSxwW2ldLnBvcyxwW2ldLnBvcyk7DQoJCWlmKHg9PUlORikgeD0tMTsNCgkJYW5zW3BbaV0uaWRdPXg7DQoJfQ0KCWZvcihpbnQgaT0xO2k8PW07aSsrKSBjb3V0PDxhbnNbaV08PCdcbic7DQp9DQoNCnNpZ25lZCBtYWluKCl7DQoJaW9zOjpzeW5jX3dpdGhfc3RkaW8oMCk7DQoJY2luLnRpZSgwKSxjb3V0LnRpZSgwKTsNCglpbnQgdCA9IDE7DQovLwljaW4gPj4gdDsNCgl3aGlsZSAodC0tKXsNCgkJc29sdmUoKTsNCgl9DQoJcmV0dXJuIDA7DQp9DQovKg0KNiAzIDEwDQoxIDEgMTANCjIgMyA2DQozIDUgOQ0KNCA3IDEwDQo1IDMgOA0KNiA3IDEwDQoxIDENCjIgNA0KNiA1DQoNCiov"}]