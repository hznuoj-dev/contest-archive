[{"id":"3031","submission_id":"3031","filename":"a.cpp","source":"I2luY2x1ZGUgPGJpdHMvc3RkYysrLmg+DQoNCnVzaW5nIG5hbWVzcGFjZSBzdGQ7DQojZGVmaW5lIGludCBsb25nIGxvbmcNCiNkZWZpbmUgZW5kbCAnXG4nDQoNCnZvaWQgc29sdmUoKSB7DQogICAgc3RyaW5nIHM7DQogICAgY2luID4+IHM7DQogICAgaW50IG4gPSBzLmxlbmd0aCgpOw0KICAgIGludCByZXMgPSAwOw0KICAgIGF1dG8gY2FsYyA9IFsmXShpbnQgbCwgaW50IHIpIHsNCiAgICAgICAgaW50IHdwb3MgPSAtMSwgd2wgPSAtMTsNCiAgICAgICAgYm9vbCBmbGFnID0gZmFsc2U7DQogICAgICAgIHdoaWxlIChsID49IDAgJiYgciA8IG4pIHsNCiAgICAgICAgICAgIC8vIGNvdXQgPDwgbCA8PCAiLCIgPDwgciA8PCBlbmRsOw0KICAgICAgICAgICAgaWYgKHNbbF0gIT0gc1tyXSkgew0KICAgICAgICAgICAgICAgIGlmIChmbGFnKSBicmVhazsNCiAgICAgICAgICAgICAgICBpZiAod3BvcyA8IDApIHsNCiAgICAgICAgICAgICAgICAgICAgd3BvcyA9IHI7DQogICAgICAgICAgICAgICAgICAgIHdsID0gbDsNCiAgICAgICAgICAgICAgICB9ZWxzZSB7DQogICAgICAgICAgICAgICAgICAgIGlmICgoc1t3bF0gPT0gc1tyXSAmJiBzW3dwb3NdID09IHNbbF0pIHx8IChzW3dsXSA9PSBzW2xdICYmIHNbd3Bvc10gPT0gc1tyXSkpDQogICAgICAgICAgICAgICAgICAgICAgICBmbGFnID0gdHJ1ZTsNCiAgICAgICAgICAgICAgICAgICAgZWxzZSAgew0KICAgICAgICAgICAgICAgICAgICAgICAgLy8gY291dCA8PCAiTk1TTCIgPDwgZW5kbDsNCiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgaWYgKHdwb3MgPCAwIHx8IGZsYWcpIHJlcyA9IG1heChyZXMsIHIgLSBsICsgMSk7DQogICAgICAgICAgICBsLS0scisrOw0KICAgICAgICB9DQogICAgICAgIC8vIGNvdXQgPDwgInJlczogIiA8PCByZXMgPDwgZW5kbDsNCiAgICB9Ow0KICAgIGZvciAoaW50IGkgPSAwOyBpIDwgbjsgKytpKSB7DQogICAgICAgIC8vIGNvdXQgPDwgIj09PT09PT09PT09IiA8PCBlbmRsOw0KICAgICAgICBjYWxjKGksIGkpOw0KICAgICAgICAvLyBjb3V0IDw8ICIrKysrKysrKysiIDw8IGVuZGw7DQogICAgICAgIGlmIChpICsgMSA8IG4pIGNhbGMoaSwgaSArIDEpOw0KICAgICAgICAvLyBjb3V0IDw8IGkgPDwgIjoiIDw8IHJlcyA8PCBlbmRsOw0KICAgIH0NCiAgICBjb3V0IDw8IChyZXMgPT0gMSA/IDAgOiByZXMpIDw8IGVuZGw7DQp9DQoNCnNpZ25lZCBtYWluKHZvaWQpIHsNCiNpZmRlZiBERUJVRw0KICAgIGZyZW9wZW4oImEuaW4iLCAiciIsIHN0ZGluKTsNCiAgICBmcmVvcGVuKCJhLm91dCIsICJ3Iiwgc3Rkb3V0KTsNCiAgICBhdXRvIG5vdyA9IGNsb2NrKCk7DQojZW5kaWYNCiAgICBpb3M6OnN5bmNfd2l0aF9zdGRpbyhmYWxzZSk7IGNpbi50aWUoMCk7IGNvdXQudGllKDApOw0KICAgIGNvdXQgPDwgZml4ZWQgPDwgc2V0cHJlY2lzaW9uKDYpOw0KICAgIGludCBUOw0KICAgIGNpbiA+PiBUOw0KICAgIHdoaWxlIChULS0pDQogICAge3NvbHZlKCk7IH0NCiNpZmRlZiBERUJVRw0KICAgIGNlcnIgPDwgc2V0cHJlY2lzaW9uKDIpIDw8IGRvdWJsZShjbG9jaygpIC0gbm93KSAvIChkb3VibGUpQ0xPQ0tTX1BFUl9TRUMgKiAxMDAwIDw8ICIgbXMuIiA8PCBlbmRsOw0KI2VuZGlmDQogICAgcmV0dXJuIDA7DQp9"}]