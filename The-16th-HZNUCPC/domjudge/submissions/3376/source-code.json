[{"id":"3376","submission_id":"3376","filename":"E.cpp","source":"I2luY2x1ZGU8Yml0cy9zdGRjKysuaD4NCg0KdXNpbmcgbmFtZXNwYWNlIHN0ZDsNCg0KI2RlZmluZSBpb3MgaW9zOjpzeW5jX3dpdGhfc3RkaW8oZmFsc2UpO2Npbi50aWUoMCk7Y291dC50aWUoMCkNCiNkZWZpbmUgbGwgbG9uZyBsb25nDQoNCmludCBnY2QoaW50IGEsIGludCBiKQ0Kew0KCXdoaWxlKGJePWFePWJePWElPWIpOw0KCXJldHVybiBhOw0KfQ0KDQpzdHJ1Y3QgU3R1ew0KCWludCB4LCB5Ow0KfWZbMzAwXTsNCg0KDQpkb3VibGUgZGlzKFN0dSBhLCBTdHUgYikNCnsNCglyZXR1cm4gc3FydCgoYS54IC0gYi54KSAqIChhLnggLSBiLngpICsgKGEueSAtIGIueSkgKiAoYS55IC0gYi55KSk7DQp9DQoNCg0KYm9vbCBpc29rKFN0dSBhLCBTdHUgYiwgU3R1IGMpDQp7DQoJc2V0PGRvdWJsZT4gc2U7DQoJaW50IGNudCA9IDA7DQoJaWYoYS54ID09IGIueCkgY250ICsrOw0KCWVsc2V7DQoJCWRvdWJsZSBmeiA9IGEueSAtIGIueSwgZm0gPSBhLnggLSBiLng7DQoJCXNlLmluc2VydChmei9mbSk7DQoJfQ0KCQ0KCWlmKGEueCA9PSBjLngpIGNudCsrOw0KCWVsc2V7DQoJCWRvdWJsZSBmeiA9IGEueSAtIGMueSwgZm0gPSBhLnggLSBjLng7DQoJCXNlLmluc2VydChmei9mbSk7DQoJfQ0KCQ0KCWlmKGMueCA9PSBiLngpIGNudCsrOw0KCWVsc2V7DQoJCWRvdWJsZSBmeiA9IGMueSAtIGIueSwgZm0gPSBjLnggLSBiLng7DQoJCXNlLmluc2VydChmei9mbSk7DQoJfQ0KCWlmKGNudCA+IDEpIHJldHVybiBmYWxzZTsNCglyZXR1cm4gc2Uuc2l6ZSgpICsgY250ID09IDM7DQoJDQp9DQoNCg0KbGwgYWRkKFN0dSBhLCBTdHUgYikNCnsNCglpbnQgY250ID0gMDsNCgkNCglpbnQgZnogPSBhLnkgLSBiLnksIGZtID0gYS54IC0gYi54Ow0KCWlmKGZ6ID09IDApIGNudCArPSBhYnMoYS54IC0gYi54KTsNCgllbHNlIGlmKGZtID09IDApIGNudCArPSBhYnMoYS55IC0gYi55KTsNCgllbHNlew0KCQlpbnQgX2djZCA9IGFicyhnY2QoZnosIGZtKSk7DQoJCWZ6IC89IF9nY2QsIGZtIC89IF9nY2Q7DQoJCWZ6ID0gYWJzKGZ6KSwgZm0gPSBhYnMoZm0pOw0KCQlpZihmeiA8IGZtKQ0KCQkJY250ID0gY250ICsgKG1heChhLngsIGIueCkgLSBtaW4oYS54LCBiLngpKSAqIGZ6IC8gZm0gKyAxOw0KCQllbHNlDQoJCQljbnQgPSBjbnQgKyAobWF4KGEueSwgYi55KSAtIG1pbihhLnksIGIueSkpICogZm0gLyBmeiArIDE7DQoJfQ0KDQoJcmV0dXJuIGNudDsNCn0NCg0KaW50IG1haW4oKQ0Kew0KCWlvczsNCglpbnQgbjsgY2luID4+IG47DQoJZm9yKGludCBpID0gMTsgaSA8PSBuOyBpKyspIGNpbiA+PiBmW2ldLnggPj4gZltpXS55Ow0KCWxsIG1hID0gMDsNCgkNCglmb3IoaW50IGkgPSAxOyBpIDw9IG47IGkrKykNCgl7DQoJCWZvcihpbnQgaiA9IGkgKyAxOyBqIDw9IG47IGorKykNCgkJew0KCQkJZm9yKGludCBrID0gaiArIDE7IGsgPD0gbjsgaysrKQ0KCQkJew0KCQkJCWlmKGlzb2soZltpXSxmW2pdLGZba10pKQ0KCQkJCXsNCgkJCQkJbGwgY250ID0gYWRkKGZbaV0sIGZbal0pICsgYWRkKGZbaV0sIGZba10pICsgYWRkKGZbal0sIGZba10pIC0gMzsNCgkJCQkJbWEgPSBtYXgoMExMLCBtYXgobWEsIGNudCkpOw0KCQkJCX0NCgkJCX0NCgkJfQ0KCX0NCgljb3V0IDw8IG1hIDw8IGVuZGw7DQoNCglyZXR1cm4gMDsNCn0NCg0K"}]