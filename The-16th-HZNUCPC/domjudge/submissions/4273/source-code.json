[{"id":"4273","submission_id":"4273","filename":"3.cpp","source":"I2luY2x1ZGU8Yml0cy9zdGRjKysuaD4NCg0KI2RlZmluZSBzY2FuZmludChhKSBzY2FuZigiJWQiLCZhKQ0KI2RlZmluZSBzY2FuZnN0cihhKSBzY2FuZigiJXMiLGEpDQojZGVmaW5lIHNjYW5mbGwoYSkgc2NhbmYoIiVsbGQiLCZhKQ0KI2RlZmluZSBzY25hZmxsKGEpIHNjYW5mKCIlbGxkIiwmYSkNCiNkZWZpbmUgcHJpbnRmbGwoYSkgcHJpbnRmKCIlbGxkXG4iLGEpOw0KI2RlZmluZSBHZXRfcmFuZChhKSAocmFuZCgpJShhKzEpKQ0KI2RlZmluZSBzd2FwbnVtKGEsYikge2E9YStiO2I9YS1iO2E9YS1iO30NCiNkZWZpbmUgRk9SKGksbCxyKSBmb3IoaW50IGk9bDtpPD1yO2krKykNCiNkZWZpbmUgRk9STEwoaSxsLHIpIGZvcihsbCBpPWw7aTw9cjtpKyspDQojZGVmaW5lIFByZXNlbnRhdGlvbihpLHIpIHByaW50ZigiJWMiLCIgXG4iW2k9PXJdKQ0KI2RlZmluZSBOTyBwcmludGYoIk5PXG4iKQ0KI2RlZmluZSBZRVMgcHJpbnRmKCJZRVNcbiIpDQojZGVmaW5lIE1heChhLGIpIChhPmI/YTpiKQ0KDQp0eXBlZGVmIGxvbmcgbG9uZyBsbDsNCg0KY29uc3QgZG91YmxlIHBpPTMuMTQxNTkyNjUzNTg5NzkzOw0KY29uc3QgbGwgTU9EPTFlOSs3Ow0KY29uc3QgaW50IElORj0weDdmZmZmZmZmOw0KY29uc3QgZG91YmxlIGVwcz0xZS04Ow0KDQp1c2luZyBuYW1lc3BhY2Ugc3RkOw0KLyotLS0tLS0tLS0tQ3BwIEhlYWQtLS0tLS0tLS0tKi8NCmNoYXIgc1s1MDA1XT17MH07DQpsbCBsZW47DQoNCmludCBlZGdlKGxsIGwsbGwgcikNCnsNCnJldHVybiBsPT0wfHxyPT1sZW4tMTsNCn0NCg0KbGwgTTEobGwgaSkNCnsNCiAgICBsbCBsLHIscGFsaW47DQogICAgbGwgdGVtcGwsdGVtcHI7DQogICAgaW50IGZsYWc9MDsNCiAgICBsPXI9aTsNCiAgICB3aGlsZShsPjAmJnI8bGVuLTEpDQogICAgew0KICAgICAgICBsLS07cisrOw0KICAgICAgICBpZihzW2xdIT1zW3JdKQ0KICAgICAgICB7DQogICAgICAgICAgICBpZihmbGFnPT0wKQ0KICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgIHRlbXBsPWw7dGVtcHI9cjtmbGFnPTE7DQogICAgICAgICAgICAgICAgaWYoZWRnZShsLHIpKSB7DQogICAgICAgICAgICAgICAgICAgIGlmKHNbaV09PXNbbF18fHNbaV09PXNbcl0pIHBhbGluPXItbCsxOw0KICAgICAgICAgICAgICAgICAgICBlbHNlIHBhbGluPXItbC0xOw0KICAgICAgICAgICAgICAgICAgICBicmVhazt9DQogICAgICAgICAgICB9DQogICAgICAgICAgICBlbHNlIGlmKGZsYWc9PTEpDQogICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgaWYoc1tsXT09c1t0ZW1wbF0mJnNbcl09PXNbdGVtcHJdfHxzW2xdPT1zW3RlbXByXSYmc1tyXT09c1t0ZW1wbF0pDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICB0ZW1wbD1sO3RlbXByPXI7ZmxhZz0yOw0KICAgICAgICAgICAgICAgICAgICBpZihlZGdlKGwscikpIHtwYWxpbj1yLWwrMTticmVhazt9DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGVsc2UgaWYoc1tpXT09c1tsXXx8c1tpXT09c1tyXSkNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgIHRlbXBsPWw7dGVtcHI9cjtmbGFnPTI7DQogICAgICAgICAgICAgICAgICAgIGlmKGVkZ2UobCxyKSkge3BhbGluPXItbCsxO2JyZWFrO30NCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgZWxzZSB7cGFsaW49dGVtcHItdGVtcGwtMTticmVhazt9DQogICAgICAgICAgICB9DQogICAgICAgICAgICBlbHNlIGlmKGZsYWc9PTIpIHtwYWxpbj1yLWwtMTticmVhazt9DQogICAgICAgIH0NCiAgICAgICAgZWxzZSBpZihlZGdlKGwscikpDQogICAgICAgIHsNCiAgICAgICAgICAgIGlmKGZsYWc9PTEpIHRlbXByLXRlbXBsLTE7DQogICAgICAgICAgICByZXR1cm4gci1sKzE7DQogICAgICAgIH0NCiAgICB9DQogICAgcmV0dXJuIHBhbGluOw0KfQ0KDQpsbCBNMChsbCBsKQ0Kew0KICAgIGxsIHIscGFsaW47DQogICAgbGwgdGVtcGwsdGVtcHI7DQogICAgaW50IGZsYWc9MDsNCiAgICByPWwrMTsNCiAgICB3aGlsZShsPj0wJiZyPD1sZW4tMSkNCiAgICB7DQogICAgICAgIGlmKHNbbF0hPXNbcl0pDQogICAgICAgIHsNCiAgICAgICAgICAgIGlmKGZsYWc9PTApDQogICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgdGVtcGw9bDt0ZW1wcj1yO2ZsYWc9MTsNCiAgICAgICAgICAgICAgICBpZihlZGdlKGwscikpIHtwYWxpbj1yLWwtMTticmVhazt9DQogICAgICAgICAgICB9DQogICAgICAgICAgICBlbHNlIGlmKGZsYWc9PTEpDQogICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgaWYoc1tsXT09c1t0ZW1wbF0mJnNbcl09PXNbdGVtcHJdfHxzW2xdPT1zW3RlbXByXSYmc1tyXT09c1t0ZW1wbF0pDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICB0ZW1wbD1sO3RlbXByPXI7ZmxhZz0yOw0KICAgICAgICAgICAgICAgICAgICBpZihlZGdlKGwscikpIHtwYWxpbj1yLWwrMTticmVhazt9DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGVsc2Uge3BhbGluPXRlbXByLXRlbXBsLTE7YnJlYWs7fQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgZWxzZSBpZihmbGFnPT0yKSB7cGFsaW49ci1sLTE7YnJlYWs7fQ0KICAgICAgICB9DQogICAgICAgIGVsc2UgaWYoZWRnZShsLHIpKQ0KICAgICAgICB7DQogICAgICAgICAgICBpZihmbGFnPT0xKSByZXR1cm4gdGVtcHItdGVtcGwtMTsNCiAgICAgICAgICAgIHJldHVybiByLWwrMTsNCiAgICAgICAgfQ0KICAgICAgICBsLS07cisrOw0KICAgIH0NCiAgICByZXR1cm4gcGFsaW47DQp9DQoNCmludCBtYWluKCkNCnsNCiAgICBsbCBUOw0KICAgIHNjbmFmbGwoVCk7DQogICAgbGwgbT0wOw0KICAgIHdoaWxlKFQtLSkNCiAgICB7DQogICAgICAgIG09MDsNCiAgICAgICAgc2NhbmZzdHIocyk7DQogICAgICAgIGxlbj1zdHJsZW4ocyk7DQogICAgICAgIEZPUkxMKGksMSxsZW4tMikgbT1NYXgobSxNMShpKSk7DQogICAgICAgIEZPUkxMKGksMCxsZW4tMikgbT1NYXgobSxNMChpKSk7DQogICAgICAgIGlmKG09PTEpIG09MDsNCiAgICAgICAgLy9sbCB4Ow0KICAgICAgICAvL3NjYW5mbGwoeCk7DQogICAgICAgIC8vbT1NMCh4KTsNCiAgICAgICAgcHJpbnRmbGwobSk7DQogICAgfQ0KICAgIHJldHVybiAwOw0KfQ=="}]