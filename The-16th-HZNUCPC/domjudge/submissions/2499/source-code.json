[{"id":"2499","submission_id":"2499","filename":"i.cpp","source":"I2luY2x1ZGUgImJpdHMvc3RkYysrLmgiDQp0eXBlZGVmIGxvbmcgbG9uZyBpbnQgbGw7DQp1c2luZyBuYW1lc3BhY2Ugc3RkOw0KIA0KY29uc3QgaW50IE4gPSAyNTsNCmludCBhcnJbTisxXVtOKzFdOw0KDQpzdHJpbmcgcHJvY2VzcyhzdHJpbmcgJnMpew0KICAgIHN0cmluZyBzMjsNCiAgICBpbnQgbiA9IHMuc2l6ZSgpOw0KICAgIGludCBtID0gbiAqIDIgKyAzOw0KICAgIHMyLnJlc2VydmUobSk7DQogICAgczIucHVzaF9iYWNrKCchJyk7DQogICAgZm9yKGludCBpID0gMDsgaSA8IG47aSsrKSB7DQogICAgICAgIHMyLnB1c2hfYmFjaygnIycpOw0KICAgICAgICBzMi5wdXNoX2JhY2soc1tpXSk7DQogICAgfQ0KICAgIHMyLnB1c2hfYmFjaygnIycpOw0KICAgIHMyLnB1c2hfYmFjaygnJCcpOw0KICAgIHJldHVybiBzMjsNCn0NCg0Kdm9pZCBzb2x2ZSgpew0KICAgIHN0cmluZyBzOw0KICAgIGNpbiA+PiBzOw0KDQoNCiAgICBpbnQgbiA9IHMuc2l6ZSgpOw0KICAgIGludCBtID0gbiAqIDIgKyAzOyANCiAgICBzdHJpbmcgczIgPSBwcm9jZXNzKHMpOw0KICAgIHZlY3RvcjxpbnQ+IG1wKG0pOw0KICAgIGludCBteD0gMCwgaWQgPSAwOw0KICAgIGludCBhbnMgPSAwOw0KICAgIGZvcihpbnQgaSA9IDA7IGkgPCBtIDtpKyspIHsNCiAgICAgICAgbXBbaV0gPSBteCA+IGkgPyBtaW4obXBbaWQqMi1pXSwgbXgtaSk6IDE7DQogICAgICAgIHdoaWxlIChzMltpK21wW2ldXSA9PSBzMltpLW1wW2ldXSkgew0KICAgICAgICAgICAgbXBbaV0rKzsNCiAgICAgICAgfQ0KICAgICAgICBpZihpK21wW2ldID4gbXgpIHsNCiAgICAgICAgICAgIG14ID0gaSArIG1wW2ldOw0KICAgICAgICAgICAgaWQgPSBpOw0KICAgICAgICB9DQogICAgfQ0KICAgIC8vIGZvcihpbnQgaSA9IDA7IGkgPCBtOyBpKyspIHsNCiAgICAvLyAgICAgY291dCA8PCBzMltpXSA8PCIgXG4iW2k9PW0tMV07DQogICAgLy8gfSANCiAgICAvLyBmb3IoaW50IGkgPSAwOyBpIDwgbTsgaSsrKSB7DQogICAgLy8gICAgIGNvdXQgPDwgbXBbaV0gPDwiIFxuIltpPT1tLTFdOw0KICAgIC8vIH0gDQoNCiAgICBmb3IoaW50IGkgPSAxOyBpIDwgbTtpKyspIHsNCiAgICAgICAgY2hhciBjMSwgYzI7DQogICAgICAgIGludCBrID0gMDsNCiAgICAgICAgaW50IGVkZ2UgPSBtcFtpXSA7DQogICAgICAgIGludCBvayA9IDA7DQogICAgICAgIGludCBhID0gMDsNCiAgICAgICAgLy8gYW5zID0gbWF4KGFucyxtcFtpXSk7DQogICAgICAgIHdoaWxlIChpIC0gZWRnZSA+PSAwICYmIGkgKyBlZGdlIDwgbSkgew0KICAgICAgICAgICAgaWYoczJbaS1lZGdlXSAhPSBzMltpK2VkZ2VdKSB7DQogICAgICAgICAgICAgICAgaysrOw0KICAgICAgICAgICAgICAgIGlmKGsgPT0xKSB7DQogICAgICAgICAgICAgICAgICAgIGMxID0gczJbaS1lZGdlXTsNCiAgICAgICAgICAgICAgICAgICAgYzIgPSBzMltpK2VkZ2VdOw0KICAgICAgICAgICAgICAgICAgICAvLyBjb3V0IDw8ImMxIGFuZCBjMjogIjw8YzEgPDwiIDogIjw8IGMyIDw8IGVuZGw7DQogICAgICAgICAgICAgICAgICAgIGlmKCBzMltpXSA9PSBjMSB8fCBzMltpXSA9PSBjMikgew0KICAgICAgICAgICAgICAgICAgICAgICAgayA9IDI7DQogICAgICAgICAgICAgICAgICAgIH0gDQoNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgaWYoIGsgPT0gMikgew0KICAgICAgICAgICAgICAgICAgICAvLyBjb3V0IDw8IGkgPDwiOiAiPDwgIk9LMyAiIDw8IHMyW2krZWRnZV0gPDwgIiAgIjw8IHMyW2ktZWRnZV0gPDwiICAiPDwgICBjMSA8PCIgOiAiPDwgYzIgIDw8IGVuZGw7DQogICAgICAgICAgICAgICAgICAgIGlmKCAoYzEgPT0gczJbaStlZGdlXSAmJiBjMiA9PSBzMltpLWVkZ2VdKSB8fCAoYzEgPT0gczJbaS1lZGdlXSAmJiBjMiA9PSBzMltpK2VkZ2VdKSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgLy8gY291dCA8PCJPSyAyIiA8PGVuZGw7DQogICAgICAgICAgICAgICAgICAgIH1lbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmKHMyW2ldID09ICcjJyl7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgYSA9IG1heChhLCBtcFtpXSAtMSAgKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH1lbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBvZGQgDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgYSA9IG1heChhLCBtcFtpXSAtMSApOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgb2sgPSAxOw0KICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgaWYoIGsgPT0gMykgew0KICAgICAgICAgICAgICAgICAgICAvLyBldmVuIA0KICAgICAgICAgICAgICAgICAgICBpZihzMltpXSA9PSAnIycpew0KICAgICAgICAgICAgICAgICAgICAgICAgYSA9IG1heChhLCBlZGdlIC0xICApOw0KICAgICAgICAgICAgICAgICAgICB9ZWxzZSB7DQogICAgICAgICAgICAgICAgICAgICAgICAvLyBvZGQgDQogICAgICAgICAgICAgICAgICAgICAgICBhID0gbWF4KGEsIGVkZ2UgLTEgKTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAvLyBhbnMgPSBtYXgoYW5zLCBlZGdlIC0gMSk7DQogICAgICAgICAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgDQogICAgICAgICAgICANCiAgICAgICAgICAgIGVkZ2UrKzsNCiAgICAgICAgfQ0KICAgICAgICBpZighb2sgJiYgayA9PSAyKSB7DQogICAgICAgICAgICAvLyBjb3V0IDw8Ik9LIiA8PCBlbmRsOw0KICAgICAgICAgICAgaWYoczJbaV0gPT0gJyMnKXsNCiAgICAgICAgICAgICAgICAgICAgYSA9IG1heChhLCBlZGdlIC0xICAgKTsNCiAgICAgICAgICAgICAgICB9ZWxzZSB7DQogICAgICAgICAgICAgICAgICAgIC8vIG9kZCANCiAgICAgICAgICAgICAgICAgICAgYSA9IG1heChhLCBlZGdlIC0xICApOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIC8vIGFucyA9IG1heChhbnMsIGVkZ2UtMSk7DQogICAgICAgIH1lbHNlIGlmIChrID09IDEpIHsNCiAgICAgICAgICAgIGEgPSBtYXgoYSwgbXBbaV0gLSAxKTsNCiAgICAgICAgfQ0KICAgICAgICBhbnMgPSBtYXgoYW5zLCBhKTsNCiAgICB9DQogICANCiAgIGlmKGFucyA9PSAxKSB7DQogICAgICAgYW5zID0gMDsNCiAgIH0NCiAgICBjb3V0IDw8ICBhbnMgICA8PGVuZGw7DQoNCg0KDQoNCg0KICAgIHJldHVybiA7DQoNCg0KfQ0KDQoNCg0KaW50IG1haW4gKCl7DQogICAgaW9zOjpzeW5jX3dpdGhfc3RkaW8oZmFsc2UpLCBjaW4udGllKDApLCBjb3V0LnRpZSgwKTsNCiAgICBpbnQgdCA9IDE7DQogICAgY2luID4+IHQ7DQogICAgd2hpbGUgKHQtLSl7DQogICAgICAgIHNvbHZlKCk7DQogICAgfQ0KDQogICAgcmV0dXJuIDA7DQp9DQovKg0KDQo1DQphYmFhYmENCmFiY2NhYg0KaWhpDQpzdGZnZml1dA0KcGFsaW5kcm9tZQ0KIA0KDQo0DQphYmNjYWINCjcNCmloaQ0KNQ0Kc3RmZ2ZpdXQNCjYNCnBhbGluZHJvbWUNCjQNCg0KDQo0DQphYmNjYWINCjEgMSAyIDEgMiAxIDIgMyAyIDEgMiAxIDIgMSAxDQo3DQppaGkNCjEgMSAyIDEgNCAxIDIgMSAxDQo1DQpzdGZnZml1dA0KMSAxIDIgMSAyIDEgMiAxIDQgMSAyIDEgMiAxIDIgMSAyIDEgMQ0KNg0KcGFsaW5kcm9tZQ0KMSAxIDIgMSAyIDEgMiAxIDIgMSAyIDEgMiAxIDIgMSAyIDEgMiAxIDIgMSAxDQo0DQp4eHh5eGFiYWJheQ0KMQ0KeHh4eXhhYmFiYXl4DQoNCg0KMQ0KYWFhYXNzDQoqLw=="}]