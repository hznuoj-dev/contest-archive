[{"id":"3388","submission_id":"3388","filename":"c.cpp","source":"I2luY2x1ZGUgPGlvc3RyZWFtPg0KI2luY2x1ZGUgPHZlY3Rvcj4NCiNpbmNsdWRlIDxjc3RyaW5nPg0KDQp1c2luZyBuYW1lc3BhY2Ugc3RkOw0KY29uc3QgaW50IG1vZCA9IDFlOSArIDc7DQp0eXBlZGVmIHBhaXI8aW50LGludD5waWk7DQp0eXBlZGVmIGxvbmcgbG9uZyBsbDsNCmNvbnN0IGludCBOPTFlNSsxMDsNCmludCBjbnQxW05dOw0KaW50IGNudDJbTl07DQppbnQgYW5zWzVdWzVdOw0KcGlpIHp4d1tOXTsNCg0KbGwgcXVpY2tfbW9kKGxsIGEsbGwgYiApDQp7DQoJbGwgcmVzPTE7DQoJd2hpbGUoYikNCgl7DQoJCWlmKGImMSlyZXM9cmVzKmElbW9kOw0KCQlhPWEqYSVtb2Q7DQoJCWI+Pj0xOw0KCX0NCglyZXR1cm4gcmVzOw0KfQ0KDQppbnQgbWFpbigpIHsNCgkgc3RyaW5nIGEsYjsNCgkgY2luPj5hPj5iOw0KCSBpbnQgc3oxLHN6MjsNCgkgbGwgcmVzPTA7DQoJIHN6MT1zejI9MDsNCgkgZm9yKGludCBpPTA7aTxhLmxlbmd0aCgpO2krKykNCgkgew0KCSAJY250MVthW2ldLSdhJysgMV0rKzsNCgkgCWlmKGNudDFbYVtpXS0nYScrIDFdID09IDEpDQoJIAkJc3oxKys7DQoJIAkNCgkgfQ0KCSBmb3IoaW50IGk9MDtpPGIubGVuZ3RoKCk7aSsrKQ0KCSB7DQoJIAljbnQyW2JbaV0tJ2EnKyAxXSsrOw0KCSAJaWYoY250MltiW2ldLSdhJysgMV0gPT0gMSkNCgkgCQlzejIrKzsNCgkgfQ0KCSANCgkgaWYoYWJzKHN6MS1zejIpPjQpDQoJIHsNCgkgCWNvdXQ8PCIwIjw8ZW5kbDsNCgkgCXJldHVybiAwOw0KCSB9DQoJIA0KCSBmb3IoaW50IGk9MDtpPGEubGVuZ3RoKCk7aSsrKQ0KCSB7DQoJCWNoYXIgeD1hW2ldLHk9YltpXTsNCgkJaWYoeD09eSkNCgkJew0KCQkJenh3W2ldPXsyLDJ9Ow0KCQkJYW5zWzJdWzJdKys7DQoJCQljb250aW51ZTsNCgkJfQ0KCQlpbnQgYzEsYzI7DQoJCWMxPWMyPTI7DQoJCWlmKGNudDFbYltpXS0nYScrMV0rMSA9PSAxKWMxKys7DQoJCWlmKGNudDFbYVtpXS0nYScrMV0tMSA9PSAwKWMxLS07DQoJCWlmKGNudDJbYltpXS0nYScrMV0tMSA9PSAwKWMyLS07DQoJCWlmKGNudDJbYVtpXS0nYScrMV0rMSA9PSAxKWMyKys7DQoJCXp4d1tpXT17YzEsYzJ9OwkNCgkJYW5zW2MxXVtjMl0rKzsNCgkgfQ0KCSANCgkgaW50IGRpZj1zejItc3oxOw0KCSBmb3IoaW50IGk9MDtpPGEubGVuZ3RoKCk7aSsrKQ0KCSB7DQoJCWF1dG8gdD16eHdbaV07DQoJCWludCBoMT10LmZpcnN0LGgyPXQuc2Vjb25kOw0KCQkNCgkJaW50IHRtcCA9IGRpZiArIChoMi1oMSk7DQoJCWlmKHRtcCA9PTEpDQoJCXsNCgkJCXJlcyA9IChyZXMgKyBhbnNbMl1bMV0pJW1vZDsNCgkJCXJlcyA9IChyZXMgKyBhbnNbM11bMl0pJW1vZDsNCgkJCWlmKGgxID09IDIgJiYgaDIgPT0gMSB8fCBoMSA9PSAzICYmIGgyID09IDIpDQoJCQkJcmVzLS07DQoJCX0NCgkJZWxzZSBpZih0bXAgPT0gMikNCgkJew0KCQkJcmVzPShyZXMgKyBhbnNbM11bMV0pJW1vZDsNCgkJCWlmKGgxID09IDMgJiYgaDIgPT0gMSkNCgkJCQlyZXMtLTsNCgkJfQ0KCQllbHNlIGlmKHRtcD09MCkNCgkJew0KCQkJcmVzPShyZXMgKyBhbnNbMV1bMV0pJW1vZDsNCgkJCXJlcz0ocmVzICsgYW5zWzJdWzJdKSVtb2Q7DQoJCQlyZXM9KHJlcyArIGFuc1szXVszXSklbW9kOw0KCQkJaWYoaDEgPT0gaDIpDQoJCQkJcmVzLS07DQoJCX0NCgkJZWxzZSBpZih0bXA9PS0xKQ0KCQl7DQoJCQlyZXMgPSAocmVzICsgYW5zWzFdWzJdKSVtb2Q7DQoJCQlyZXMgPSAocmVzICsgYW5zWzJdWzNdKSVtb2Q7DQoJCQlpZihoMSA9PSAxICYmIGgyID09IDIgfHwgaDEgPT0gMiAmJiBoMiA9PSAzKQ0KCQkJCXJlcy0tOw0KCQl9DQoJCWVsc2UgaWYodG1wPT0tMikNCgkJew0KCQkJcmVzPShyZXMrYW5zWzFdWzNdKSVtb2Q7DQoJCQlpZihoMSA9PSAxICYmIGgyID09IDMgKQ0KCQkJCXJlcy0tOw0KCQl9DQoJCS8vY291dDw8aDE8PCIgIjw8aDI8PCIgIjw8IHRtcCA8PCIgIjw8cmVzPDxlbmRsOw0KCQlyZXM9cmVzJW1vZDsNCgkgfQ0KCSBjb3V0PDwgKHJlcyAqIHF1aWNrX21vZCgyLG1vZCAtMikgJSBtb2QgKyBtb2QgKSAlIG1vZCA8PGVuZGw7DQoJDQp9"}]