[{"id":"3163","submission_id":"3163","filename":"Untitled6.cpp","source":"I2luY2x1ZGUgPGJpdHMvc3RkYysrLmg+DQoNCnVzaW5nIG5hbWVzcGFjZSBzdGQ7DQp1c2luZyBsbD1sb25nIGxvbmc7DQoNCmludCBuLHEsbSxwYXJlbnRbMTAwMDA1XSxlWzEwMDAwNV0scD0wLG51bVsxMDAwMDVdLGxlbixiYWNrWzEwMDAwNV0sc3VtLHRhcmdldDsNCnBhaXI8aW50LGludD5xXzFbMTAwMDA1XTsNCnZlY3RvcjxpbnQ+IHY7DQpib29sIGluWzEwMDAwNV0sY2hvb3NlWzEwMDAwNV0sY2hvc2VbMTAwMDA1XTsNCmludCBmaW5kKGludCBhKXsNCglyZXR1cm4gcGFyZW50W2FdPT1hP2E6KHBhcmVudFthXT1maW5kKHBhcmVudFthXSkpOw0KfQ0KDQp2b2lkIHVuaW9uXyhpbnQgYSxpbnQgYil7DQoJcGFyZW50W2ZpbmQoYSldPWZpbmQoYik7DQp9DQoNCmJvb2wgZGZzKGludCBub3csaW50IHMpew0KCWlmKHM9PXRhcmdldClyZXR1cm4gdHJ1ZTsNCglpZihub3c9PWxlbilyZXR1cm4gcz09dGFyZ2V0Ow0KCWlmKHMrYmFja1tub3ddPHRhcmdldClyZXR1cm4gZmFsc2U7DQoJY2hvb3NlW25vd109dHJ1ZTsNCglpbnQgdG1wOw0KCWlmKGVbdltub3ddXT09MCl0bXA9bnVtW3Zbbm93XV07DQoJZWxzZSB0bXA9YWJzKG51bVt2W25vd11dLW51bVtlW3Zbbm93XV1dKTsNCglpZihkZnMobm93KzEscyt0bXApKSByZXR1cm4gdHJ1ZTsNCgljaG9vc2Vbbm93XT1mYWxzZTsNCglyZXR1cm4gZGZzKG5vdysxLHMpOw0KfQ0KDQppbnQgbWFpbigpew0KCS8vZnJlb3BlbigiMjIyLnR4dCIsInIiLHN0ZGluKTsNCgljaW4+Pm4+PnE+Pm07DQoJZm9yKGludCBpPTE7aTw9bjtpKyspcGFyZW50W2ldPWk7DQoJZm9yKGludCBpPTE7aTw9bTtpKyspew0KCQlpbnQgayxhLGI7DQoJCWNpbj4+az4+YT4+YjsNCgkJaWYoaz09MCl1bmlvbl8oYSxiKTsNCgkJZWxzZXsNCgkJCXFfMVtwKytdPXthLGJ9Ow0KCQl9DQoJfQ0KCWZvcihpbnQgaT0wO2k8cDtpKyspew0KCQlpbnQgYV89ZmluZChxXzFbaV0uZmlyc3QpLGJfPWZpbmQocV8xW2ldLnNlY29uZCk7DQoJCWlmKGFfPT1iXyl7DQoJCQljb3V0PDwiTk8iOw0KCQkJcmV0dXJuIDA7DQoJCX1lbHNlew0KCQkJaWYoZVthX109PTApZVthX109Yl87DQoJCQllbHNlIHVuaW9uXyhiXyxlW2FfXSk7DQoJCQlpZihlW2JfXT09MCllW2JfXT1hXzsNCgkJCWVsc2UgdW5pb25fKGFfLGVbYl9dKTsNCgkJfQ0KCX0NCgkNCglmb3IoaW50IGk9MTtpPD1uO2krKyl7DQoJCW51bVtmaW5kKGkpXSsrOw0KCQlpZihlW2ldPjApZVtpXT1maW5kKGVbaV0pOw0KCQlpZihpPT1maW5kKGkpKXsNCgkJCWlmKGVbaV0+MCYmaW5bZVtpXV0pY29udGludWU7DQoJCQllbHNlew0KCQkJCXYuZW1wbGFjZV9iYWNrKGkpOw0KCQkJCWluW2ldPXRydWU7DQoJCQl9DQoJCX0NCgl9DQoJLypmb3IoaW50IGk9MTtpPD1uO2krKyl7DQoJCWNvdXQ8PGk8PCIgIjw8ZmluZChpKTw8IiAiPDxlW2ZpbmQoaSldPDwnXG4nOw0KCX0qLw0KCS8vZm9yKGF1dG8gJmE6diljb3V0PDxhPDwiICI7DQoJbGVuPXYuc2l6ZSgpOw0KCWZvcihpbnQgaT1sZW4tMTtpPj0wO2ktLSl7DQoJCWlmKGVbdltpXV0+MClzdW0rPW1pbihudW1bdltpXV0sbnVtW2VbdltpXV1dKTsNCgkJaWYoZVt2W2ldXT4wKWJhY2tbaV09YWJzKG51bVt2W2ldXS1udW1bZVt2W2ldXV0pOw0KCQllbHNlIGJhY2tbaV09bnVtW3ZbaV1dOw0KCQlpZihpPGxlbi0xKWJhY2tbaV0rPWJhY2tbaSsxXTsNCgl9DQoJdGFyZ2V0PXEtc3VtOw0KCWlmKHRhcmdldDwwKXsNCgkJY291dDw8Ik5PIjsNCgkJcmV0dXJuIDA7DQoJfQ0KCS8qZm9yKGF1dG8gJmE6diljb3V0PDxhPDwiICI7DQoJY291dDw8J1xuJzsNCglmb3IoaW50IGk9MTtpPD1uO2krKyljb3V0PDxpPDwiICI8PG51bVtpXTw8IiAiOw0KCWNvdXQ8PCdcbic7DQoJY291dDw8dGFyZ2V0PDwnXG4nOyovDQoJDQoJYm9vbCBvaz1kZnMoMCwwKTsNCgkNCgkvL2ZvcihpbnQgaT0wO2k8bGVuO2krKyljb3V0PDx2W2ldPDwiICI8PGNob29zZVtpXTw8IiAgICI7DQoJaWYoIW9rKWNvdXQ8PCJOTyI7DQoJZWxzZXsNCgkJY291dDw8IllFU1xuIjsNCgkJZm9yKGludCBpPTA7aTxsZW47aSsrKXsNCgkJCWlmKGVbdltpXV0pew0KCQkJCWlmKGNob29zZVtpXSl7DQoJCQkJCWlmKG51bVtlW3ZbaV1dXTxudW1bdltpXV0pY2hvc2VbdltpXV09dHJ1ZTsNCgkJCQkJZWxzZSBjaG9zZVtlW3ZbaV1dXT10cnVlOw0KCQkJCX1lbHNlew0KCQkJCQlpZihudW1bZVt2W2ldXV08bnVtW3ZbaV1dKWNob3NlW2VbdltpXV1dPXRydWU7DQoJCQkJCWVsc2UgY2hvc2VbdltpXV09dHJ1ZTsNCgkJCQl9DQoJCQl9ZWxzZXsNCgkJCQlpZihjaG9vc2VbaV0pY2hvc2VbdltpXV09dHJ1ZTsNCgkJCX0NCgkJfQ0KCQlmb3IoaW50IGk9MTtpPD1uO2krKylpZihjaG9zZVtmaW5kKGkpXSljb3V0PDxpPDwiICI7DQoJfQ0KCXJldHVybiAwOw0KfQ0KLyoNCjEzIDcgMTENCjAgMSAyDQowIDEgMw0KMCAxIDQNCjAgMSA1DQoxIDEgNg0KMSAxIDcNCjAgOCA5DQowIDggMTANCjAgOCAxMQ0KMSAxMyAxMg0KMSAxMiAxMw0KKi8="}]