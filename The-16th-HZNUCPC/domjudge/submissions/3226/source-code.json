[{"id":"3226","submission_id":"3226","filename":"c.cpp","source":"I2luY2x1ZGUgPGlvc3RyZWFtPg0KI2luY2x1ZGUgPHZlY3Rvcj4NCiNpbmNsdWRlIDxjc3RyaW5nPg0KI2RlZmluZSB4IGZpcnN0DQojZGVmaW5lIHkgc2Vjb25kDQoNCnVzaW5nIG5hbWVzcGFjZSBzdGQ7DQpjb25zdCBpbnQgbW9kID0gMWU5ICsgNzsNCnR5cGVkZWYgcGFpcjxpbnQsaW50PnBpaTsNCnR5cGVkZWYgbG9uZyBsb25nIGxsOw0KY29uc3QgaW50IE49MWU1KzEwOw0KaW50IGNudDFbTl07DQppbnQgY250MltOXTsNCmludCBhbnNbNV1bNV07DQpwaWkgenh3W05dOw0KDQpsbCBxdWlja19tb2QobGwgYSxsbCBiICkNCnsNCglsbCByZXM9MTsNCgl3aGlsZShiKQ0KCXsNCgkJaWYoYiYxKXJlcz1yZXMqYSVtb2Q7DQoJCWE9YSphJW1vZDsNCgkJYj4+PTE7DQoJfQ0KCXJldHVybiByZXM7DQp9DQoNCmludCBtYWluKCkgew0KCSBzdHJpbmcgYSxiOw0KCSBjaW4+PmE+PmI7DQoJIGludCBzejEsc3oyOw0KCSBsbCByZXM9MDsNCgkgc3oxPXN6Mj0wOw0KCSBmb3IoaW50IGk9MDtpPGEubGVuZ3RoKCk7aSsrKQ0KCSB7DQoJIAljbnQxW2FbaV0tJ2EnKyAxXSsrOw0KCSAJaWYoY250MVthW2ldLSdhJysgMV0gPT0gMSkNCgkgCQlzejErKzsNCgkgCQ0KCSB9DQoJIGZvcihpbnQgaT0wO2k8Yi5sZW5ndGgoKTtpKyspDQoJIHsNCgkgCWNudDJbYltpXS0nYScrIDFdKys7DQoJIAlpZihjbnQyW2JbaV0tJ2EnKyAxXSA9PSAxKQ0KCSAJCXN6MisrOw0KCSB9DQoJIA0KCSBpZihhYnMoc3oxLXN6Mik+NCkNCgkgew0KCSAJY291dDw8IjAiPDxlbmRsOw0KCSAJcmV0dXJuIDA7DQoJIH0NCgkgDQoJIGZvcihpbnQgaT0wO2k8YS5sZW5ndGgoKTtpKyspDQoJIHsNCgkJY2hhciB4PWFbaV0seT1iW2ldOw0KCQlpZih4PT15KQ0KCQl7DQoJCQl6eHdbaV09ezIsMn07DQoJCQlhbnNbMl1bMl0rKzsNCgkJCWNvbnRpbnVlOw0KCQl9DQoJCWludCBjMSxjMjsNCgkJYzE9YzI9MjsNCgkJaWYoY250MVtiW2ldLSdhJysxXSsxID09IDEpYzErKzsNCgkJaWYoY250MVthW2ldLSdhJysxXS0xID09IDApYzEtLTsNCgkJaWYoY250MltiW2ldLSdhJysxXS0xID09IDApYzItLTsNCgkJaWYoY250MlthW2ldLSdhJysxXSsxID09IDEpYzIrKzsNCgkJenh3W2ldPXtjMSxjMn07CQ0KCQlhbnNbYzFdW2MyXSsrOw0KCSB9DQoJIA0KCSBpbnQgZGlmPXN6Mi1zejE7DQoJIGZvcihpbnQgaT0wO2k8YS5sZW5ndGgoKTtpKyspDQoJIHsNCgkJYXV0byB0PXp4d1tpXTsNCgkJaW50IGgxPXQuZmlyc3QsaDI9dC5zZWNvbmQ7DQoJCQ0KCQlpbnQgdG1wID0gZGlmICsgKGgyLWgxKTsNCgkJaWYodG1wID09MSkNCgkJew0KCQkJcmVzID0gKHJlcyArIGFuc1syXVsxXSklbW9kOw0KCQkJcmVzID0gKHJlcyArIGFuc1szXVsyXSklbW9kOw0KCQkJaWYoaDEgPT0gMiAmJiBoMiA9PSAxIHx8IGgxID09IDMgJiYgaDIgPT0gMikNCgkJCQlyZXMtLTsNCgkJfQ0KCQllbHNlIGlmKHRtcCA9PSAyKQ0KCQl7DQoJCQlyZXM9KHJlcyArIGFuc1szXVsxXSklbW9kOw0KCQkJaWYoaDEgPT0gMyAmJiBoMiA9PSAxKQ0KCQkJCXJlcy0tOw0KCQl9DQoJCWVsc2UgaWYodG1wPT0wKQ0KCQl7DQoJCQlyZXM9KHJlcyArIGFuc1sxXVsxXSklbW9kOw0KCQkJcmVzPShyZXMgKyBhbnNbMl1bMl0pJW1vZDsNCgkJCXJlcz0ocmVzICsgYW5zWzNdWzNdKSVtb2Q7DQoJCQlpZihoMSA9PSBoMikNCgkJCQlyZXMtLTsNCgkJfQ0KCQllbHNlIGlmKHRtcD09LTEpDQoJCXsNCgkJCXJlcyA9IChyZXMgKyBhbnNbMV1bMl0pJW1vZDsNCgkJCXJlcyA9IChyZXMgKyBhbnNbMl1bM10pJW1vZDsNCgkJCWlmKGgxID09IDEgJiYgaDIgPT0gMiB8fCBoMSA9PSAyICYmIGgyID09IDMpDQoJCQkJcmVzLS07DQoJCX0NCgkJZWxzZSBpZih0bXA9PS0yKQ0KCQl7DQoJCQlyZXM9KHJlcythbnNbMV1bM10pJW1vZDsNCgkJCWlmKGgxID09IDEgJiYgaDIgPT0gMyApDQoJCQkJcmVzLS07DQoJCX0NCgkJY291dDw8aDE8PCIgIjw8aDI8PCIgIjw8IHRtcCA8PCIgIjw8cmVzPDxlbmRsOw0KCQlyZXM9cmVzJW1vZDsNCgkgfQ0KCSBjb3V0PDwgKHJlcyAqIHF1aWNrX21vZCgyLG1vZCAtMikgKyBtb2QgKSAlIG1vZCA8PGVuZGw7DQoJDQp9"}]