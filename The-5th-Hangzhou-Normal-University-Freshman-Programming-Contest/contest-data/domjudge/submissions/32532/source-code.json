[{"id":"32532","submission_id":"32532","filename":"main.cpp","source":"I2luY2x1ZGUgPGJpdHMvc3RkYysrLmg+DQojZGVmaW5lIG1heG4gMjAwMTAwDQojZGVmaW5lIGludCBsb25nIGxvbmcNCnVzaW5nIG5hbWVzcGFjZSBzdGQ7DQptYXA8cGFpcjxpbnQsaW50PixpbnQ+ZTsNCnZlY3RvcjxpbnQ+ZWRnZVttYXhuXTsNCnVub3JkZXJlZF9tYXA8aW50LGludD5udW0scG9zOw0KdW5vcmRlcmVkX21hcDxpbnQsYm9vbD52aXMsdmlzXzsNCmludCBhbnM9MCx0bXA9MCxuLGFuczE9MDsNCmludCBjaGVjayhpbnQgeCxpbnQgeSl7DQoJdmlzW3hdPXRydWU7DQoJaW50IHJlcz0wOw0KCWZvcihhdXRvIHU6ZWRnZVt4XSl7DQoJCWlmKHU9PXkpICByZXR1cm4gcmVzPXJlc15lW3t4LHl9XTsNCgkJZWxzZSBpZih2aXNbdV0pICBjb250aW51ZTsNCgkJZWxzZSByZXM9cmVzXmVbe3gsdX1dXmNoZWNrKHUseSk7DQoJfQ0KCXJldHVybiByZXM7DQp9DQp2b2lkIGNsZWFuMSgpew0KCXF1ZXVlPGludD5wcHA7DQoJZm9yKGludCBpPTE7aTw9bjsrK2kpew0KCQlpZihudW1baV09PTApICBwcHAucHVzaChpKTsNCgl9DQoJd2hpbGUocHBwLnNpemUoKSl7DQoJCWludCB4PXBwcC5mcm9udCgpOw0KCQlwcHAucG9wKCk7DQoJCWludCB5PXBwcC5mcm9udCgpOw0KCQlwcHAucG9wKCk7DQoJCWFucz1hbnNeY2hlY2soeCx5KTsNCgl9DQp9DQppbnQgY2hlY2sxKGludCB4LGludCB5KXsNCgl2aXNfW3hdPXRydWU7DQoJaW50IHJlcz0wOw0KCWZvcihhdXRvIHU6ZWRnZVt4XSl7DQoJCWlmKHU9PXkpICByZXR1cm4gcmVzPXJlc15lW3t4LHl9XTsNCgkJZWxzZSBpZih2aXNfW3VdKSAgY29udGludWU7DQoJCWVsc2UgcmVzPXJlc15lW3t4LHV9XV5jaGVjazEodSx5KTsNCgl9DQoJcmV0dXJuIHJlczsNCn0NCnZvaWQgY2xlYW4yKCl7DQoJcXVldWU8aW50PnBwcDsNCglmb3IoaW50IGk9MTtpPD1uOysraSl7DQoJCWlmKHBvc1tpXT09MCkgIHBwcC5wdXNoKGkpOw0KCX0NCgl3aGlsZShwcHAuc2l6ZSgpKXsNCgkJaW50IHg9cHBwLmZyb250KCk7DQoJCXBwcC5wb3AoKTsNCgkJaW50IHk9cHBwLmZyb250KCk7DQoJCXBwcC5wb3AoKTsNCgkJYW5zMT1hbnMxXmNoZWNrMSh4LHkpOw0KCX0NCn0NCnZvaWQgc29sdmUoKXsNCglwb3MuY2xlYXIoKTsNCglpbnQgeCx5Ow0KCWNpbiA+PiB4ID4+IHk7DQoJYW5zMT15Ow0KCXBvc1t4XSsrOw0KCWZvcihhdXRvIHU6ZSl7DQoJCWFuczE9YW5zMV51LnNlY29uZDsNCgkJcG9zW3UuZmlyc3QuZmlyc3RdKysscG9zW3UuZmlyc3Quc2Vjb25kXSsrOw0KCQlwb3NbdS5maXJzdC5maXJzdF0lPTIscG9zW3UuZmlyc3Quc2Vjb25kXSU9MjsNCgl9DQoJZm9yKGF1dG8gdTplKXsNCgkJaWYocG9zW3UuZmlyc3QuZmlyc3RdPT0wJiZwb3NbdS5maXJzdC5zZWNvbmRdPT0wKXsNCgkJCXBvc1t1LmZpcnN0LmZpcnN0XSsrLHBvc1t1LmZpcnN0LnNlY29uZF0rKzsNCgkJCXBvc1t1LmZpcnN0LmZpcnN0XSU9Mixwb3NbdS5maXJzdC5zZWNvbmRdJT0yOw0KCQkJYW5zMT1hbnMxXnUuc2Vjb25kOw0KCQl9DQoJfQ0KCWNsZWFuMigpOw0KCWNvdXQgPDwgYW5zMSA8PCAnXG4nOw0KfQ0Kc2lnbmVkIG1haW4oKXsNCiAgICBpb3M6OnN5bmNfd2l0aF9zdGRpbyhmYWxzZSk7DQogICAgY2luLnRpZSgwKTtjb3V0LnRpZSgwKTsNCiAgICBpbnQgcTsgIGNpbiA+PiBuOw0KCWZvcihpbnQgaT0xO2k8bjsrK2kpew0KCQlpbnQgdSx2LHc7DQoJCWNpbiA+PiB1ID4+IHYgPj4gdzsNCgkJZWRnZVt1XS5wdXNoX2JhY2sodik7DQoJCWVkZ2Vbdl0ucHVzaF9iYWNrKHUpOw0KCQllW3t1LHZ9XT13Ow0KCQllW3t2LHV9XT13Ow0KCX0NCglmb3IoYXV0byB1OmUpew0KCQlpZihudW1bdS5maXJzdC5maXJzdF09PTAmJm51bVt1LmZpcnN0LnNlY29uZF09PTApew0KCQkJYW5zPWFuc151LnNlY29uZDsNCgkJCW51bVt1LmZpcnN0LmZpcnN0XSsrLG51bVt1LmZpcnN0LnNlY29uZF0rKzsNCgkJCW51bVt1LmZpcnN0LmZpcnN0XSU9MixudW1bdS5maXJzdC5zZWNvbmRdJT0yOw0KCQl9DQoJfQ0KCWlmKG4lMj09MCkgIGNsZWFuMSgpOw0KCWNpbiA+PiBxOw0KCXdoaWxlKHEtLSl7DQoJCWlmKG4lMj09MCl7DQoJCQlpbnQgeCx5Ow0KCQkJY2luID4+IHggPj4geTsNCgkJCWNvdXQgPDwgYW5zIDw8ICdcbic7DQoJCX0NCgkJZWxzZSAgc29sdmUoKTsNCgl9DQogICAgcmV0dXJuIDA7DQp9"}]