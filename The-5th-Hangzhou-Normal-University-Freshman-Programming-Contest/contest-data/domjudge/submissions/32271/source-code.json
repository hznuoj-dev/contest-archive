[{"id":"32271","submission_id":"32271","filename":"main.cpp","source":"I2luY2x1ZGUgPGJpdHMvc3RkYysrLmg+CiNkZWZpbmUgaW50IGxvbmcgbG9uZwoKdXNpbmcgbmFtZXNwYWNlIHN0ZDsKCgp2b2lkIGIoKXsKICAgIGludCBuOwogICAgY2luID4+IG47CiAgICB2ZWN0b3I8aW50PiBhKG4pOwogICAgdmVjdG9yPGludD4gdmNfdXAobik7CiAgICB2ZWN0b3I8aW50PiB2Y19kb3duKG4pOwogICAgZm9yIChpbnQgaSA9IDA7IGkgPCBuOyArK2kpIHsKICAgICAgICBjaW4gPj4gYVtpXTsKICAgIH0KICAgIGZvciAoaW50IGkgPSAwOyBpIDwgbjsgKytpKSB7CiAgICAgICAgY2luID4+IHZjX3VwW2ldOwogICAgICAgIHZjX2Rvd25baV0gPSAtdmNfdXBbaV07CiAgICB9CgogICAgc3RkOjpzb3J0KGEuYmVnaW4oKSwgYS5lbmQoKSk7CiAgICBzdGQ6OnNvcnQodmNfdXAuYmVnaW4oKSwgdmNfdXAuZW5kKCkpOwogICAgc3RkOjpzb3J0KHZjX2Rvd24uYmVnaW4oKSwgdmNfZG93bi5lbmQoKSk7CgoKICAgIGludCBkZXRbMl07CiAgICBkZXRbMF0gPSBhWzBdIC0gdmNfdXBbMF07CiAgICBkZXRbMV0gPSBhWzBdIC0gdmNfZG93blswXTsKCgogICAgZm9yIChpbnQgaSA9IDA7IGkgPCBuOyArK2kpIHsKICAgICAgICB2Y191cFtpXSArPSBkZXRbMF07CiAgICAgICAgdmNfZG93bltpXSArPSBkZXRbMV07CiAgICB9CgogICAgYm9vbCBmWzJdID0ge3RydWUsIHRydWV9OwogICAgZm9yIChpbnQgaSA9IDA7IGkgPCBuOyArK2kpIHsKICAgICAgICBpZihhW2ldICE9IHZjX3VwW2ldKXsKICAgICAgICAgICAgZlswXSA9IGZhbHNlOwogICAgICAgIH0KICAgICAgICBpZihhW2ldICE9IHZjX2Rvd25baV0pewogICAgICAgICAgICBmWzFdID0gZmFsc2U7CiAgICAgICAgfQogICAgfQoKICAgIGludCBwb2ludFsyXSA9IHswLCAxfTsKCiAgICBpbnQgcmVzWzJdOwogICAgZm9yIChpbnQgaSA9IDA7IGkgPCAyOyArK2kpIHsKICAgICAgICBpZihmW2ldKXsKICAgICAgICAgICAgcmVzW2ldID0gKGFicyhkZXRbaV0pICsgcG9pbnRbaV0pOwogICAgICAgIH0KICAgICAgICBlbHNlewogICAgICAgICAgICByZXNbaV0gPSAtMTsKICAgICAgICB9CiAgICB9CgoKICAgIGlmKHJlc1swXSAhPSAtMSAmJiByZXNbMV0gIT0gLTEpewogICAgICAgIGNvdXQgPDwgKHJlc1swXSA8IHJlc1sxXSA/IHJlc1swXSA6IHJlc1sxXSk7CiAgICB9CiAgICBlbHNlIGlmKHJlc1swXSA9PSAtMSl7CiAgICAgICAgY291dCA8PCByZXNbMV07CiAgICB9CiAgICBlbHNlIHsKICAgICAgICBjb3V0IDw8IHJlc1swXTsKICAgIH0KCgp9CgpzaWduZWQgbWFpbigpIHsKICAgIGludCBuID0gMTsKICAgIC8vY2luID4+IG47CiAgICB3aGlsZSAobi0tKXsKICAgICAgICBiKCk7CiAgICB9Cn0K"}]