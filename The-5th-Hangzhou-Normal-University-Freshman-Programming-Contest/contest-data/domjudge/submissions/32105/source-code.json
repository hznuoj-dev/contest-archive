[{"id":"32105","submission_id":"32105","filename":"A.cpp","source":"I2luY2x1ZGUgPGlvc3RyZWFtPg0KLy8jaW5jbHVkZSA8Yml0cy9zdGRjKysuaD4NCiNpbmNsdWRlIDxzdGFjaz4NCnVzaW5nIG5hbWVzcGFjZSBzdGQ7DQpjb25zdCBpbnQgTiA9IDFlNiArIDEwOw0KaW50IGFbTl0sIG4sIGs7DQppbnQgbWF4eCA9IDAsIG1pbm4gPSAxZTk7DQppbnQgbnVtbCwgbnVtcjsNCg0KYm9vbCBqdWRnZShpbnQgbWlkKQ0Kew0KCXN0YWNrPGNoYXI+IHN0Ow0KCWNoYXIgY2g7DQoJZm9yIChpbnQgaSA9IDE7IGkgPD0gbjsgaSsrKQ0KCXsNCgkJaWYgKGFbaV0gPT0gbWlkKQ0KCQl7DQoJCQljb250aW51ZTsNCgkJfQ0KCQllbHNlIGlmIChhW2ldIDwgbWlkKQ0KCQl7DQoJCQljaCA9ICcoJzsNCgkJCW51bWwrKzsNCgkJfQ0KCQllbHNlIGlmIChhW2ldID4gbWlkKQ0KCQl7DQoJCQljaCA9ICcpJzsNCgkJCW51bXIrKzsNCgkJfQ0KCQlpZiAoc3Quc2l6ZSgpID09IDApDQoJCXsNCgkJCXN0LnB1c2goY2gpOw0KCQl9DQoJCWVsc2UgaWYgKHN0LnNpemUoKSAmJiBzdC50b3AoKSA9PSAnKCcgJiYgY2ggPT0gJygnKQ0KCQl7DQoJCQlzdC5wdXNoKGNoKTsNCgkJfQ0KCQllbHNlIGlmIChzdC5zaXplKCkgJiYgc3QudG9wKCkgPT0gJygnICYmIGNoID09ICcpJykNCgkJew0KCQkJc3QucG9wKCk7DQoJCX0NCgkJZWxzZSBpZiAoc3Quc2l6ZSgpICYmIHN0LnRvcCgpID09ICcpJykNCgkJew0KCQkJc3QucHVzaChjaCk7DQoJCX0NCg0KCX0NCglpZiAoc3Quc2l6ZSgpKQ0KCXsNCgkJcmV0dXJuIGZhbHNlOw0KCX0NCgllbHNlDQoJew0KCQlyZXR1cm4gdHJ1ZTsNCgl9DQp9DQoNCmludCBtYWluKCkNCnsNCgljaW4gPj4gbjsNCglpbnQgZmxhZyA9IDA7DQoJZm9yIChpbnQgaSA9IDE7IGkgPD0gbjsgaSsrKQ0KCXsNCgkJc2NhbmYoIiVkIiwgJmFbaV0pOw0KCX0NCglpbnQgbGwgPSAwLCByciA9IDA7DQoJaW50IGwgPSAxLCByID0gMmU1Ow0KDQoJd2hpbGUgKGwgPCByKQ0KCXsNCgkJbnVtbCA9IDAsIG51bXIgPSAwOw0KCQlpbnQgbWlkID0gbCArIHIgPj4gMTsNCgkJaWYgKGp1ZGdlKG1pZCkpDQoJCXsNCgkJCWZsYWcgPSAxOw0KCQkJciA9IG1pZCAtIDE7DQoJCX0NCgkJZWxzZSBpZiAobnVtbCA+PSBudW1yICYmICFqdWRnZShtaWQpKQ0KCQl7DQoJCQlyID0gbWlkIC0gMTsNCgkJfQ0KCQllbHNlIGlmIChudW1yID4gbnVtbCAmJiAhanVkZ2UobWlkKSkNCgkJew0KCQkJbCA9IG1pZCArIDE7DQoJCX0NCgl9DQoJbGwgPSBsOw0KCWwgPSAxLCByID0gMmU1Ow0KCXdoaWxlIChsIDwgcikNCgl7DQoJCW51bWwgPSAwLCBudW1yID0gMDsNCgkJaW50IG1pZCA9IGwgKyByICsgMSA+PiAxOw0KCQlpZiAoanVkZ2UobWlkKSkNCgkJew0KCQkJZmxhZyA9IDE7DQoJCQlsID0gbWlkICsgMTsNCgkJfQ0KCQllbHNlIGlmIChudW1sID49IG51bXIgJiYgIWp1ZGdlKG1pZCkpDQoJCXsNCgkJCXIgPSBtaWQgLSAxOw0KCQl9DQoJCWVsc2UgaWYgKG51bXIgPiBudW1sICYmICFqdWRnZShtaWQpKQ0KCQl7DQoJCQlsID0gbWlkICsgMTsNCgkJfQ0KDQoJfQ0KCXJyID0gcjsNCglpZiAoZmxhZyA9PSAxKQ0KCXsNCgkJY291dCA8PCByciAtIGxsIDw8IGVuZGw7DQoJfQ0KCWVsc2UNCgl7DQoJCWNvdXQgPDwgMCA8PCBlbmRsOw0KCX0NCg0KCXJldHVybiAwOw0KfQ=="}]