[{"id":"31860","submission_id":"31860","filename":"3.cpp","source":"I2luY2x1ZGU8Yml0cy9zdGRjKysuaD4NCnVzaW5nIG5hbWVzcGFjZSBzdGQ7DQoNCnR5cGVkZWYgbG9uZyBsb25nIGxsOw0KY29uc3QgbGwgbWF4biA9IDJlNSArIDEwOw0KY29uc3QgbGwgbWlubiA9IDFlOSArIDc7DQpjb25zdCBkb3VibGUgZXBzID0gMWUtNjsNCmNvbnN0IGludCBJTkZUWSA9ICgxPDwyMSk7DQoNCmludCBnY2QoaW50IGEsIGludCBiKSB7cmV0dXJuIGIgPyBnY2QoYiwgYSAlIGIpIDogYTt9DQppbnQgbGNtKGludCBhLCBpbnQgYikge3JldHVybiBhICogYiAvIGdjZChhLCBiKTt9DQoNCmxsIG47DQpsbCBhW21heG5dLGJbbWF4bl0sY1ttYXhuXSxkW21heG5dOw0KDQppbnQgbWFpbigpDQp7DQogICAgc3RkOjppb3M6OnN5bmNfd2l0aF9zdGRpbyhmYWxzZSk7DQogICAgc3RkOjpjaW4udGllKG51bGxwdHIpOw0KICAgIHN0ZDo6Y2luPj5uOw0KICAgIGZvcihsbCBpPTE7aTw9bjtpKyspDQogICAgew0KICAgICAgICBzdGQ6OmNpbj4+YVtpXTsNCiAgICAgICAgY1tpXT0tYVtpXTsNCiAgICB9DQogICAgZm9yKGxsIGk9MTtpPD1uO2krKykNCiAgICB7DQogICAgICAgIHN0ZDo6Y2luPj5iW2ldOw0KICAgICAgICBkW2ldPS1iW2ldOw0KICAgIH0NCiAgICBzb3J0KGErMSxhKzErbik7DQogICAgc29ydChiKzEsYisxK24pOw0KICAgIHNvcnQoYysxLGMrMStuKTsNCiAgICBzb3J0KGQrMSxkKzErbik7DQogICAgaW50IGYxPTAsZjI9MCxmMz0wLGY0PTA7DQogICAgbGwgbnVtPS0xOw0KICAgIGZvcihsbCBpPTI7aTw9bjtpKyspDQogICAgew0KICAgICAgICBpZihhW2ldLWJbaV0hPWFbMV0tYlsxXSkNCiAgICAgICAgew0KICAgICAgICAgICAgZjE9MTsNCiAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICB9DQogICAgfQ0KICAgIGlmKGYxIT0xKQ0KICAgIHsNCiAgICAgICAgbnVtPWFicyhhWzFdLWJbMV0pOw0KICAgIH0NCiAgICBmb3IobGwgaT0yO2k8PW47aSsrKQ0KICAgIHsNCiAgICAgICAgaWYoYVtpXS1kW2ldIT1hWzFdLWRbMV0pDQogICAgICAgIHsNCiAgICAgICAgICAgIGYyPTE7DQogICAgICAgICAgICBicmVhazsNCiAgICAgICAgfQ0KICAgIH0NCiAgICBpZihmMiE9MSkNCiAgICB7DQogICAgICAgIGlmKG51bSE9LTEpDQogICAgICAgIHsNCiAgICAgICAgICAgIG51bT1taW4obnVtLGFicyhhWzFdLWRbMV0pKTsNCiAgICAgICAgfQ0KICAgICAgICBlbHNlIA0KICAgICAgICB7DQogICAgICAgICAgICBudW09YWJzKGFbMV0tZFsxXSk7DQogICAgICAgIH0NCiAgICB9DQogICAgZm9yKGxsIGk9MjtpPD1uO2krKykNCiAgICB7DQogICAgICAgIGlmKGNbaV0tZFtpXSE9Y1sxXS1kWzFdKQ0KICAgICAgICB7DQogICAgICAgICAgICBmMz0xOw0KICAgICAgICAgICAgYnJlYWs7DQogICAgICAgIH0NCiAgICB9DQogICAgaWYoZjMhPTEpDQogICAgew0KICAgICAgICBpZihudW0hPS0xKQ0KICAgICAgICB7DQogICAgICAgICAgICBudW09bWluKG51bSxhYnMoY1sxXS1kWzFdKSk7DQogICAgICAgIH0NCiAgICAgICAgZWxzZSANCiAgICAgICAgew0KICAgICAgICAgICAgbnVtPWFicyhjWzFdLWRbMV0pOw0KICAgICAgICB9DQogICAgfQ0KICAgIGZvcihsbCBpPTI7aTw9bjtpKyspDQogICAgew0KICAgICAgICBpZihjW2ldLWJbaV0hPWNbMV0tYlsxXSkNCiAgICAgICAgew0KICAgICAgICAgICAgZjQ9MTsNCiAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICB9DQogICAgfQ0KICAgIGlmKGY0IT0xKQ0KICAgIHsNCiAgICAgICAgaWYobnVtIT0tMSkNCiAgICAgICAgew0KICAgICAgICAgICAgbnVtPW1pbihudW0sYWJzKGNbMV0tYlsxXSkpOw0KICAgICAgICB9DQogICAgICAgIGVsc2UgDQogICAgICAgIHsNCiAgICAgICAgICAgIG51bT1hYnMoY1sxXS1iWzFdKTsNCiAgICAgICAgfQ0KICAgIH0NCiAgICBpZihudW0hPS0xKQ0KICAgIHsNCiAgICAgICAgc3RkOjpjb3V0PDxudW08PGVuZGw7DQogICAgfQ0KICAgIGVsc2UgDQogICAgew0KICAgICAgICBzdGQ6OmNvdXQ8PCItMSI8PGVuZGw7DQogICAgfQ0KICAgIHJldHVybiAwOw0KfQ=="}]