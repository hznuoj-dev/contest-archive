[{"id":"31778","submission_id":"31778","filename":"main.cpp","source":"I2luY2x1ZGUgPGlvc3RyZWFtPg0KI2luY2x1ZGUgPGFsZ29yaXRobT4NCiNpbmNsdWRlIDxxdWV1ZT4NCiNpbmNsdWRlIDx2ZWN0b3I+DQojaW5jbHVkZSA8Y3N0cmluZz4NCiNkZWZpbmUgZW5kbCAiXG4iDQp1c2luZyBuYW1lc3BhY2Ugc3RkOw0KdHlwZWRlZiBwYWlyPGludCwgaW50PiBQSUk7DQp0eXBlZGVmIGxvbmcgbG9uZyBsbDsNCg0KaW50IG47DQp2ZWN0b3I8aW50PiBhLCBiOw0KaW50IGs7DQppbnQgdmE7DQoNCmJvb2wgY21wKGludCBhLCBpbnQgYikNCnsNCiAgICByZXR1cm4gYWJzKGEpIDwgYWJzKGIpIHx8IGFicyhhKSA9PSBhYnMoYikgJiYgYSA8IGI7DQp9DQoNCmludCBtYWluKCkNCnsNCiAgICBjaW4gPj4gbjsNCiAgICBmb3IoaW50IGkgPSAwO2kgPCBuO2krKykNCiAgICB7DQogICAgICAgIGludCB0dDsNCiAgICAgICAgY2luID4+IHR0Ow0KICAgICAgICBhLnB1c2hfYmFjayh0dCk7DQogICAgfQ0KICAgIGZvcihpbnQgaSA9IDA7aSA8IG47aSsrKQ0KICAgIHsNCiAgICAgICAgaW50IHR0Ow0KICAgICAgICBjaW4gPj4gdHQ7DQogICAgICAgIGIucHVzaF9iYWNrKHR0KTsNCiAgICB9DQogICAgc29ydChhLmJlZ2luKCksIGEuZW5kKCkpOw0KICAgIHNvcnQoYi5iZWdpbigpLCBiLmVuZCgpKTsNCiAgICBpZihhWzBdIC0gYlswXSA9PSBhWzFdIC0gYlsxXSkNCiAgICB7DQogICAgICAgIGJvb2wganVkZ2UgPSAwOw0KICAgICAgICBmb3IoaW50IGkgPSAxO2kgPCBuIC0gMTtpKyspDQogICAgICAgIHsNCiAgICAgICAgICAgIGlmKGFbaV0gLSBhW2kgKyAxXSAhPSBhW2kgLSAxXSAtIGFbaV0gfHwgYltpXSAtIGJbaSArIDFdICE9IGJbaSAtIDFdIC0gYltpXSkNCiAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICBqdWRnZSA9IDE7DQogICAgICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgICAgaWYoYWJzKGFbMF0gLSBiWzBdKSA+IGFicyhhW24gLSAxXSArIGJbMF0pICsgMSAmJiBqdWRnZSkNCiAgICAgICAgew0KICAgICAgICAgICAgayA9IGFicyhhW24gLSAxXSArIGJbMF0pICsgMTsNCiAgICAgICAgICAgIHJldmVyc2UoYS5iZWdpbigpLCBhLmVuZCgpKTsNCiAgICAgICAgICAgIGZvcihpbnQgaSA9IDA7aSA8IG47aSsrKQ0KICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgIGFbaV0gPSAtYVtpXTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIA0KICAgICAgICAgICAgdmEgPSBhWzBdIC0gYlswXTsNCiAgICAgICAgfQ0KICAgICAgICBlbHNlDQogICAgICAgIHsNCiAgICAgICAgICAgIGsgPSBhYnMoYVswXSAtIGJbMF0pOw0KICAgICAgICAgICAgdmEgPSBhWzBdIC0gYlswXTsNCiAgICAgICAgfQ0KICAgIH0NCiAgICBlbHNlDQogICAgew0KICAgICAgICByZXZlcnNlKGEuYmVnaW4oKSwgYS5lbmQoKSk7DQogICAgICAgIGZvcihpbnQgaSA9IDA7aSA8IG47aSsrKQ0KICAgICAgICB7DQogICAgICAgICAgICBhW2ldID0gLWFbaV07DQogICAgICAgIH0NCiAgICAgICAgayA9IDE7DQogICAgICAgIGlmKGFbMF0gLSBiWzBdID09IGFbMV0gLSBiWzFdKQ0KICAgICAgICB7DQogICAgICAgICAgICBrICs9IGFicyhhWzBdIC0gYlswXSk7DQogICAgICAgICAgICB2YSA9IGFbMF0gLSBiWzBdOw0KICAgICAgICB9DQogICAgfQ0KICAgIGZvcihpbnQgaSA9IDA7aSA8IG47aSsrKQ0KICAgIHsNCiAgICAgICAgaWYoYVtpXSAtIGJbaV0gIT0gdmEpDQogICAgICAgIHsNCiAgICAgICAgICAgIGNvdXQgPDwgLTE7DQogICAgICAgICAgICByZXR1cm4gMDsNCiAgICAgICAgfQ0KICAgIH0NCiAgICBjb3V0IDw8IGs7DQogICAgcmV0dXJuIDA7DQp9DQo="}]