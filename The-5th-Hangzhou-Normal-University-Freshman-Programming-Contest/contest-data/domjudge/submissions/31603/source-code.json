[{"id":"31603","submission_id":"31603","filename":"A.cpp","source":"I2luY2x1ZGUgPGlvc3RyZWFtPg0KI2luY2x1ZGUgPGFsZ29yaXRobT4NCiNpbmNsdWRlIDxtYXA+DQp1c2luZyBuYW1lc3BhY2Ugc3RkOw0KY29uc3QgaW50IE4gPSAyZTUgKyAxMDsNCmludCBhW05dLCBiW05dOw0KLy8gbWFwPGludCwgaW50PiBtcDsNCmludCBuOw0KDQpib29sIGNoZWNrKGludCB4KSB7DQogICAgaW50IHN1bSA9IDA7DQogICAgZm9yKGludCBpID0gMTsgaSA8PSBuOyBpKyspIHsNCiAgICAgICAgaWYoYVtpXSA8IHgpICAgIHN1bSsrOw0KICAgICAgICBlbHNlIGlmKGFbaV0gPiB4KSAgICBzdW0tLTsNCiAgICAgICAgaWYoc3VtIDwgMCkgcmV0dXJuIGZhbHNlOw0KICAgIH0NCiAgICByZXR1cm4gc3VtID09IDA7DQp9DQoNCmludCBtYWluKCkNCnsNCiAgICANCiAgICBzY2FuZigiJWQiLCAmbik7DQogICAgZm9yKGludCBpID0gMTsgaSA8PSBuOyBpKyspIHsNCiAgICAgICAgc2NhbmYoIiVkIiwgJmFbaV0pOw0KICAgICAgICBiW2ldID0gYVtpXTsNCiAgICAgICAgLy8gbXBbYVtpXV0rKzsNCiAgICB9DQogICAgc29ydChiICsgMSwgYiArIG4gKyAxKTsNCiAgICBpbnQgcCA9IChuICsgMSkgLyAyLCBtaWQgPSBiW3BdOw0KICAgIC8vIHByaW50ZigiOiVkXG4iLCBtaWQpOw0KICAgIGlmKG4gJiAxKSB7DQogICAgICAgIGlmKCFjaGVjayhtaWQpKSAgICB7DQogICAgICAgICAgICBwcmludGYoIjAiKTsNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgIHByaW50ZigiMSIpOw0KICAgICAgICB9DQogICAgfSBlbHNlIHsNCiAgICAgICAgaWYoYltwKzFdID4gbWlkICsgMSkgew0KICAgICAgICAgICAgaWYoY2hlY2sobWlkICsgMSkpICB7DQogICAgICAgICAgICAgICAgcHJpbnRmKCIlZCIsIGJbcCsxXSAtIG1pZCAtIDEpOw0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICBwcmludGYoIjAiKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgIGlmKGNoZWNrKG1pZCkpICBwcmludGYoIjEiKTsNCiAgICAgICAgICAgIGVsc2UgICAgcHJpbnRmKCIwIik7DQogICAgICAgIH0NCiAgICB9DQoNCiAgICByZXR1cm4gMDsNCn0="}]