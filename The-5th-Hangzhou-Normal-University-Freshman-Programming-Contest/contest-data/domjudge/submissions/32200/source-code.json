[{"id":"32200","submission_id":"32200","filename":"f.cpp","source":"I2luY2x1ZGU8Yml0cy9zdGRjKysuaD4NCnVzaW5nIG5hbWVzcGFjZSBzdGQ7DQp0eXBlZGVmIGxvbmcgbG9uZyBsbDsNCg0KY29uc3QgaW50IE49MmU1KzcsTU9EPTFlOSs3LElORj0weDNmM2YzZjNmLE09MWUzKzc7DQpsbCBuLGsscSxhW05dLGxlbltOXSxsZW5sW05dLHJlc1tNXVtNXTsNCmxsIHN6LHRvdCxibFtOXSxMW05dLFJbTl07DQoNCnN0cnVjdCBub2Rlew0KCWxsIGwscixtaW5uLG1heG47DQp9dFtOKjRdOw0Kdm9pZCB1cChpbnQgaWQpew0KCWlmKHRbaWRdLmw9PXRbaWRdLnIpIHJldHVybjsNCgl0W2lkXS5taW5uPW1pbih0W2lkKjJdLm1pbm4sdFtpZCoyKzFdLm1pbm4pOw0KCXRbaWRdLm1heG49bWF4KHRbaWQqMl0ubWF4bix0W2lkKjIrMV0ubWF4bik7DQp9DQp2b2lkIGJ1aWxkKGludCBpZCxpbnQgbCxpbnQgcil7DQoJdFtpZF09e2wscixJTkYsMH07DQoJaWYobD09cil7DQoJCXRbaWRdLm1pbm49dFtpZF0ubWF4bj1hW2xdOw0KCQlyZXR1cm47DQoJfQ0KCWJ1aWxkKGlkKjIsbCwobCtyKS8yKTsNCglidWlsZChpZCoyKzEsKGwrcikvMisxLHIpOw0KCXVwKGlkKTsNCn0NCmxsIHF1ZXJ5KGludCBpZCxpbnQgbCxpbnQgcixpbnQgdmFsKXsNCglpbnQgZGlmTm93PW1heChhYnModFtpZF0ubWlubi12YWwpLGFicyh0W2lkXS5tYXhuLXZhbCkpOw0KCWlmKGRpZk5vdzw9aykgcmV0dXJuIG4rMTsNCgkNCglpZih0W2lkXS5sPT1sJiZ0W2lkXS5yPT1yKXsNCgkJaWYodFtpZF0ubD09dFtpZF0ucikgcmV0dXJuIHRbaWRdLmw7DQoJCWludCBkaWZMPW1heChhYnModFtpZCoyXS5taW5uLXZhbCksYWJzKHRbaWQqMl0ubWF4bi12YWwpKTsNCgkJaWYoZGlmTD5rKSByZXR1cm4gcXVlcnkoaWQqMix0W2lkKjJdLmwsdFtpZCoyXS5yLHZhbCk7DQoJCWVsc2UgcmV0dXJuIHF1ZXJ5KGlkKjIrMSx0W2lkKjIrMV0ubCx0W2lkKjIrMV0ucix2YWwpOw0KCX0NCglpbnQgbWlkPSh0W2lkXS5sK3RbaWRdLnIpLzI7DQoJaWYocjw9bWlkKSByZXR1cm4gcXVlcnkoaWQqMixsLHIsdmFsKTsNCgllbHNlIGlmKGw+bWlkKSByZXR1cm4gcXVlcnkoaWQqMisxLGwscix2YWwpOw0KCWVsc2UgcmV0dXJuIG1pbihxdWVyeShpZCoyLGwsbWlkLHZhbCkscXVlcnkoaWQqMisxLG1pZCsxLHIsdmFsKSk7DQp9DQpsbCBxdWVyeTIoaW50IGlkLGludCBsLGludCByLGludCB2YWwpew0KCWludCBkaWZOb3c9bWF4KGFicyh0W2lkXS5taW5uLXZhbCksYWJzKHRbaWRdLm1heG4tdmFsKSk7DQoJaWYoZGlmTm93PD1rKSByZXR1cm4gMDsNCgkNCglpZih0W2lkXS5sPT1sJiZ0W2lkXS5yPT1yKXsNCgkJaWYodFtpZF0ubD09dFtpZF0ucikgcmV0dXJuIHRbaWRdLmw7DQoJCWludCBkaWZSPW1heChhYnModFtpZCoyKzFdLm1pbm4tdmFsKSxhYnModFtpZCoyKzFdLm1heG4tdmFsKSk7DQoJCWlmKGRpZlI+aykgcmV0dXJuIHF1ZXJ5MihpZCoyKzEsdFtpZCoyKzFdLmwsdFtpZCoyKzFdLnIsdmFsKTsNCgkJZWxzZSByZXR1cm4gcXVlcnkyKGlkKjIsdFtpZCoyXS5sLHRbaWQqMl0ucix2YWwpOw0KCX0NCglpbnQgbWlkPSh0W2lkXS5sK3RbaWRdLnIpLzI7DQoJaWYocjw9bWlkKSByZXR1cm4gcXVlcnkyKGlkKjIsbCxyLHZhbCk7DQoJZWxzZSBpZihsPm1pZCkgcmV0dXJuIHF1ZXJ5MihpZCoyKzEsbCxyLHZhbCk7DQoJZWxzZSByZXR1cm4gbWF4KHF1ZXJ5MihpZCoyLGwsbWlkLHZhbCkscXVlcnkyKGlkKjIrMSxtaWQrMSxyLHZhbCkpOw0KfQ0KDQp2b2lkIHNvbHZlKCl7DQoJY2luPj5uPj5rPj5xOw0KCWZvcihpbnQgaT0xO2k8PW47aSsrKSBjaW4+PmFbaV07DQoJYVtuKzFdPTJlOSs3Ow0KCWJ1aWxkKDEsMSxuKzEpOw0KCWZvcihpbnQgaT0xO2k8PW47aSsrKXsNCgkJbGVuW2ldPXF1ZXJ5KDEsaSsxLG4rMSxhW2ldKS1pOw0KCQlsZW5sW2ldPWktcXVlcnkyKDEsMSxpLTEsYVtpXSk7DQoJfQ0KCQ0KCXN6PXNxcnQobik7DQoJdG90PShuK3N6LTEpL3N6Ow0KCWZvcihpbnQgaT0xO2k8PW47aSsrKXsNCgkJYmxbaV09KGktMSkvc3orMTsNCgkJaWYoTFtibFtpXV09PTApIExbYmxbaV1dPWk7DQoJCVJbYmxbaV1dPWk7DQoJfQ0KCQ0KCWZvcihpbnQgcj10b3Q7cj49MTtyLS0pew0KCQlmb3IoaW50IGw9cjtsPj0xO2wtLSl7DQoJCQlpZihsPHIpIHJlc1tsXVtyXT1yZXNbbCsxXVtyXTsNCgkJCWZvcihpbnQgaT1MW2xdO2k8PVJbbF07aSsrKXsNCgkJCQlyZXNbbF1bcl0rPW1pbihsZW5baV0sMWxsKlJbcl0taSsxKTsNCgkJCX0NCgkJfQ0KCX0NCgkNCgl3aGlsZShxLS0pew0KCQlpbnQgbCxyOw0KCQljaW4+Pmw+PnI7DQoJCWxsIGFucz0wOw0KCQlpZihibFtsXT09Ymxbcl0pew0KCQkJZm9yKGludCBpPWw7aTw9cjtpKyspew0KCQkJCWFucys9bWluKDFsbCpyLWkrMSxsZW5baV0pOw0KCQkJfQ0KCQl9ZWxzZXsNCgkJCWludCBiTD1ibFtsXSsxLGJSPWJsW3JdLTE7DQoJCQlpZihiTDw9YlIpIGFucys9cmVzW2JMXVtiUl07DQoJCQlmb3IoaW50IGk9bDtpPExbYkxdO2krKyl7DQoJCQkJYW5zKz1taW4oMWxsKnItaSsxLGxlbltpXSk7DQoJCQl9DQoJCQlmb3IoaW50IGk9cjtpPlJbYlJdO2ktLSl7DQoJCQkJYW5zKz1taW4oMWxsKmktTFtiTF0rMSxsZW5sW2ldKTsNCgkJCX0JDQoJCX0NCgkJY291dDw8YW5zPDwnXG4nOw0KCX0NCn0NCg0KaW50IG1haW4oKXsNCglpb3M6OnN5bmNfd2l0aF9zdGRpbygwKTtjaW4udGllKDApO2NvdXQudGllKDApOw0KCWludCB0Yz0xOw0KLy8JY2luPj50YzsNCgl3aGlsZSh0Yy0tKSBzb2x2ZSgpOw0KCXJldHVybiAwOw0KfQ0KLyoNCjUgMiA0DQoxIDMgMyA1IDMNCjEgNQ0KMSA0DQoyIDMNCjMgMw0KDQoqLw0K"}]