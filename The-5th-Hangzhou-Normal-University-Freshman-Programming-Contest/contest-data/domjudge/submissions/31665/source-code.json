[{"id":"31665","submission_id":"31665","filename":"main.cpp","source":"I2luY2x1ZGUgPGJpdHMvc3RkYysrLmg+CnVzaW5nIGxsID0gbG9uZyBsb25nOwp1c2luZyBwaWkgPSBzdGQ6OnBhaXI8bGwsIGxsPjsKY29uc3QgaW50IFAgPSAxZTkgKyA3OwoKbGwgcW1pKGxsIGEsIGludCBiLCBpbnQgbSA9IFApewogICAgbGwgcmVzID0gMTsKICAgIGEgJT0gbTsKICAgIHdoaWxlKGIpewogICAgICAgIGlmKGIgJiAxKSByZXMgPSByZXMgKiBhICUgbTsKICAgICAgICBhID0gYSAqIGEgJSBtOwogICAgICAgIGIgPj49IDE7CiAgICB9CiAgICByZXR1cm4gcmVzOwp9Cgp2b2lkIHNvbHZlKCkgewogICAgaW50IG4sIG0sIGs7CiAgICBzdGQ6OmNpbiA+PiBuID4+IG0gPj4gazsKICAgIHN0ZDo6dmVjdG9yPGludD5kZWVwKG4gKyAzKTsKICAgIHN0ZDo6dmVjdG9yPGludD5kdShuICsgMyk7CiAgICBzdGQ6OnZlY3RvcjxzdGQ6OnZlY3RvcjxpbnQ+PmcobiArIDMpOwogICAgZm9yKGludCBpID0gMTtpIDw9IG07aSsrKSB7CiAgICAgICAgaW50IHUsIHY7CiAgICAgICAgc3RkOjpjaW4gPj4gdSA+PiB2OwogICAgICAgIGdbdV0ucHVzaF9iYWNrKHYpOwogICAgICAgIGR1W3ZdKys7CiAgICB9CiAgICBzdGQ6OnF1ZXVlPHBpaT5xOwogICAgZm9yKGludCBpID0gMTtpIDw9IG47aSsrKSB7CiAgICAgICAgaWYoZHVbaV0gPT0gMCkgewogICAgICAgICAgICBxLmVtcGxhY2UoaSwgMCk7CiAgICAgICAgfQogICAgfQogICAgc3RkOjp2ZWN0b3I8aW50Pm51bShuICsgMyk7CiAgICB3aGlsZSghcS5lbXB0eSgpKSB7CiAgICAgICAgYXV0byBbdCwgZF0gPSBxLmZyb250KCk7CiAgICAgICAgcS5wb3AoKTsKICAgICAgICBudW1bZF0rKzsKICAgICAgICBmb3IoYXV0byBlIDogZ1t0XSkgewogICAgICAgICAgICBkdVtlXS0tOwogICAgICAgICAgICBpZihkdVtlXSA9PSAwKSB7CiAgICAgICAgICAgICAgICBxLmVtcGxhY2UoZSwgZCArIDEpOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQogICAgbGwgc3VtID0gMDsKICAgIGxsIGFucyA9IDA7CiAgICBmb3IoaW50IGkgPSBuO2kgPj0gMDtpLS0pIHsKICAgICAgICBhbnMgPSAoYW5zICsgbnVtW2ldICogc3VtKSAlIFA7CiAgICAgICAgc3VtICs9IG51bVtpXTsKICAgIH0KICAgIHN0ZDo6Y291dCA8PCBxbWkoYW5zLCBrKSA8PCAnXG4nOwp9CgppbnQgbWFpbigpIHsKICAgIHN0ZDo6aW9zOjpzeW5jX3dpdGhfc3RkaW8oZmFsc2UpOwogICAgc3RkOjpjaW4udGllKG51bGxwdHIpOwogICAgc3RkOjpjb3V0LnRpZShudWxscHRyKTsKICAgIGludCBUID0gMTsKICAgIC8vc3RkOjpjaW4gPj4gVDsKICAgIHdoaWxlKFQtLSkgewogICAgICAgIHNvbHZlKCk7CiAgICB9Cn0="}]