[{"id":"31512","submission_id":"31512","filename":"main.cpp","source":"I2luY2x1ZGUgPGJpdHMvc3RkYysrLmg+CnVzaW5nIGxsID0gbG9uZyBsb25nOwp1c2luZyBwaWkgPSBzdGQ6OnBhaXI8bGwsIGxsPjsKCgoKdm9pZCBzb2x2ZSgpIHsKICAgIGludCBuLCBrLCBxOwogICAgc3RkOjpjaW4gPj4gbiA+PiBrID4+IHE7CiAgICBzdGQ6OnZlY3RvcjxpbnQ+YShuICsgMik7CiAgICBzdGQ6Om11bHRpc2V0PGludD5zOwogICAgZm9yKGludCBpID0gMTtpIDw9IG47aSsrKSBzdGQ6OmNpbiA+PiBhW2ldOwogICAgc3RkOjp2ZWN0b3I8aW50PlIobiArIDIpLCBzdW1SKG4gKyAyKTsKICAgIGludCBsLCByID0gMDsKICAgIGZvcihpbnQgaSA9IDE7aSA8PSBuO2krKykgewogICAgICAgIHdoaWxlKHIgPCBuKSB7CiAgICAgICAgICAgIHIrKzsKICAgICAgICAgICAgcy5pbnNlcnQoYVtyXSk7CiAgICAgICAgICAgIGludCBtbiA9ICpzLmJlZ2luKCk7CiAgICAgICAgICAgIGludCBteCA9ICpzLnJiZWdpbigpOwogICAgICAgICAgICBpZihteCAtIG1uID4gaykgewogICAgICAgICAgICAgICAgcy5lcmFzZShzLmZpbmQoYVtyXSkpOwogICAgICAgICAgICAgICAgci0tOwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgUltpXSA9IHI7CiAgICAgICAgc3VtUltpXSA9IFJbaV0gLSBpICsgMSArIHN1bVJbaSAtIDFdOwogICAgICAgIHMuZXJhc2Uocy5maW5kKGFbaV0pKTsKICAgIH0KICAgIFJbbiArIDFdID0gbiArIDE7CiAgICB3aGlsZShxLS0pIHsKICAgICAgICBzdGQ6OmNpbiA+PiBsID4+IHI7CiAgICAgICAgaW50IHAgPSBzdGQ6OnVwcGVyX2JvdW5kKFIuYmVnaW4oKSwgUi5lbmQoKSwgcikgLSBSLmJlZ2luKCk7CiAgICAgICAgcC0tOwogICAgICAgIGlmKHAgPCBsKXAgPSBsIC0gMTsKICAgICAgICBpZihwID4gbikgcCA9IG47CiAgICAgICAgbGwgYW5zID0gc3VtUltwXSAtIHN1bVJbbCAtIDFdOwogICAgICAgIGFucyArPSAoMSArIHIgLSBwKSAqIChyIC0gcCkgLyAyOwogICAgICAgIHN0ZDo6Y291dCA8PCBhbnMgPDwgJ1xuJzsKICAgIH0KfQoKaW50IG1haW4oKSB7CiAgICBzdGQ6Omlvczo6c3luY193aXRoX3N0ZGlvKGZhbHNlKTsKICAgIHN0ZDo6Y2luLnRpZShudWxscHRyKTsKICAgIHN0ZDo6Y291dC50aWUobnVsbHB0cik7CiAgICBpbnQgVCA9IDE7CiAgICAvL3N0ZDo6Y2luID4+IFQ7CiAgICB3aGlsZShULS0pIHsKICAgICAgICBzb2x2ZSgpOwogICAgfQp9"}]