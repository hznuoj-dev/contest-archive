[{"id":"31757","submission_id":"31757","filename":"main.cpp","source":"I2luY2x1ZGUgPGJpdHMvc3RkYysrLmg+DQoNCnVzaW5nIG5hbWVzcGFjZSBzdGQ7DQoNCnR5cGVkZWYgbG9uZyBsb25nIGxsOw0KdHlwZWRlZiBsb25nIGRvdWJsZSBsZDsNCg0KI2RlZmluZSBkbCA8PCJcbiINCiNkZWZpbmUgcHViIHB1c2hfYmFjaw0KI2RlZmluZSBwb2IgcG9wX2JhY2sNCiNkZWZpbmUgcG9mIHBvcF9mcm9udA0KI2RlZmluZSBwdWYgcHVzaF9mcm9udA0KI2RlZmluZSBlcHMgMWUtNg0KI2RlZmluZSBNQVhYIDFlNSsxDQojZGVmaW5lIElPUyBpb3M6OnN5bmNfd2l0aF9zdGRpbyhmYWxzZSksIGNpbi50aWUoMCksIGNvdXQudGllKDApDQoNCi8vY29uc3QgbGwgSU5GID0gMHgzZjNmM2YzZjNmM2YzZjNmOw0KY29uc3QgaW50IGluZiA9IDB4M2YzZjNmM2YsIG1vZCA9IDEwMDAwMDAwMDcsIHJnZTEgPSAxMDAwMTAwLCByZ2UyID0gMTAwMDE7DQoNCi8vbGwgc1syMDAwMDFdID0geyAwIH07DQoNCi8qDQpkb3VibGUgbSA9IDAsIGsgPSAwOw0KZG91YmxlIGQgPSAwOw0KDQpzdHJ1Y3QgR09PRCB7DQogICAgZG91YmxlIHA7Ly9wcmljZQ0KICAgIGRvdWJsZSBjOy8vY29tbWVudA0KICAgIGRvdWJsZSByOy8vcmF0ZQ0KfTsNCg0KR09PRCBnWzVdOw0KDQpib29sIG1jKEdPT0QgeCwgR09PRCB5KSB7DQoNCiAgICBpZiAoeC5yICE9IHkucikgew0KDQogICAgICAgIGlmICh4LnIgPiB5LnIpIHsNCiAgICAgICAgICAgIGQgKz0geC5wOw0KICAgICAgICB9DQogICAgICAgIGVsc2Ugew0KICAgICAgICAgICAgZCArPSB5LnA7DQogICAgICAgIH0NCg0KICAgICAgICByZXR1cm4geC5yID4geS5yOw0KICAgIH0NCiAgICBlbHNlIHsNCg0KICAgICAgICBpZiAoeC5wID49IChtIC0gZCkpIHsNCg0KICAgICAgICAgICAgaWYgKHkucCA8IChtIC0gZCkpIHsNCiAgICAgICAgICAgICAgICBkICs9IHgucDsNCiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGVsc2Ugew0KDQogICAgICAgICAgICAgICAgaWYgKHgucCA8IHkucCkgew0KICAgICAgICAgICAgICAgICAgICBkICs9IHgucDsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgZWxzZSB7DQogICAgICAgICAgICAgICAgICAgIGQgKz0geS5wOw0KICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgIHJldHVybiB4LnAgPCB5LnA7DQogICAgICAgICAgICB9DQoNCiAgICAgICAgfQ0KICAgICAgICBlbHNlIHsNCg0KICAgICAgICAgICAgaWYgKHkucCA+PSAobSAtIGQpKSB7DQogICAgICAgICAgICAgICAgZCArPSB5LnA7DQogICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgZWxzZSB7DQoNCiAgICAgICAgICAgICAgICBpZiAoeC5wID4geS5wKSB7DQogICAgICAgICAgICAgICAgICAgIGQgKz0geC5wOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgZCArPSB5LnA7DQogICAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAgICAgcmV0dXJuIHgucCA+IHkucDsNCiAgICAgICAgICAgIH0NCg0KICAgICAgICB9DQogICAgDQogICAgfQ0KDQp9DQoqLw0KDQpsbCBhWzIwMDAwMV0gPSB7IDAgfTsNCg0Kdm9pZCBMb2xpdGFTYW1hKCkgew0KDQogICAgLyoNCiAgICBsbCBuID0gMCwgayA9IDA7DQogICAgY2luID4+IG4gPj4gazsNCg0KICAgIGxsIGMgPSAwOw0KDQogICAgZm9yIChsbCBpID0gMTsgaSA8PSBuOyBpKyspIHsNCiAgICAgICAgY2luID4+IHNbaV07DQogICAgICAgIGlmIChzW2ldID09IGkpIGMrKzsNCiAgICB9DQoNCiAgICBpZiAobiA9PSBrICsgMSkgew0KICAgICAgICBjb3V0IDw8ICItMSIgZGw7DQogICAgfQ0KICAgIGVsc2Ugew0KICAgICAgICBjb3V0IDw8IChjICsgMSAtIGspIC8gMiBkbDsNCiAgICB9DQogICAgKi8NCg0KICAgIC8qDQogICAgY2luID4+IG0gPj4gazsNCg0KICAgIGZvciAoaW50IGkgPSAwOyBpIDwgNTsgaSsrKSB7DQogICAgICAgIGNpbiA+PiBnW2ldLnA7DQogICAgfQ0KICAgIGZvciAoaW50IGkgPSAwOyBpIDwgNTsgaSsrKSB7DQogICAgICAgIGNpbiA+PiBnW2ldLmM7DQogICAgICAgIGdbaV0uciA9IGdbaV0uYyAvIGdbaV0ucDsNCiAgICB9DQoNCiAgICBzb3J0KGcsIGcgKyA1LCBtYyk7DQoNCiAgICBkb3VibGUgc3VtcCA9IDA7DQogICAgZG91YmxlIHN1bWMgPSAwOw0KICAgIGRvdWJsZSByZW0gPSBnWzBdLnI7DQoNCiAgICBmb3IgKGludCBpID0gMDsgaSA8IDU7aSsrKSB7DQogICAgDQogICAgICAgIHN1bXAgKz0gZ1tpXS5wOw0KICAgICAgICBzdW1jICs9IGdbaV0uYzsNCiAgICAgICAgaWYgKHN1bXAgPj0gbSkgew0KICAgICAgICAgICAgY291dCA8PCBmaXhlZCA8PCBzZXRwcmVjaXNpb24oMikgPDwgbWF4KChzdW1jKSAvIChzdW1wIC0gayksIHJlbSkgZGw7DQogICAgICAgICAgICByZXR1cm47DQogICAgICAgIH0NCg0KICAgIH0NCg0KICAgIGNvdXQgPDwgZml4ZWQgPDwgc2V0cHJlY2lzaW9uKDIpIDw8IHJlbSBkbDsNCiAgICAqLw0KDQogICAgbGwgbiA9IDA7DQogICAgY2luID4+IG47DQoNCiAgICBpZiAobiAlIDIgIT0gMCkgew0KICAgICAgICBjb3V0IDw8ICIwIiBkbDsNCiAgICAgICAgcmV0dXJuOw0KICAgIH0NCiAgICANCiAgICBmb3IgKGludCBpID0gMDsgaSA8IG47IGkrKykgew0KICAgICAgICBjaW4gPj4gYVtpXTsNCiAgICB9DQogICAgDQogICAgaW50IGNudCA9IDA7DQoNCiAgICBmb3IgKGludCBpID0gYVswXTsgaSA8PSBhW24gLSAxXTsgaSsrKSB7DQogICAgICAgIA0KICAgICAgICBpbnQgb3AgPSAwOw0KDQogICAgICAgIGZvciAoaW50IGogPSAwOyBqIDwgbjsgaisrKSB7DQogICAgICAgICAgICBpZiAoYVtqXSA8IGkpIG9wLS07DQogICAgICAgICAgICBlbHNlIGlmIChhW2pdID4gaSkgb3ArKzsNCiAgICAgICAgfQ0KDQogICAgICAgIGlmIChvcCA9PSAwKSB7DQogICAgICAgICAgICBjbnQrKzsNCiAgICAgICAgfQ0KDQogICAgfQ0KDQogICAgY291dCA8PCBjbnQgZGw7DQoNCn0NCg0KaW50IG1haW4oKSB7DQoNCiAgICAvL0lPUzsNCg0KICAgIGludCBUID0gMTsNCiAgICAvL2NpbiA+PiBUOw0KDQoNCiAgICB3aGlsZSAoVC0tKSB7DQoNCiAgICAgICAgTG9saXRhU2FtYSgpOw0KDQogICAgfQ0KDQp9DQo="}]