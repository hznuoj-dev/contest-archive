[{"id":"31837","submission_id":"31837","filename":"main.cpp","source":"I2luY2x1ZGUgPGJpdHMvc3RkYysrLmg+CnVzaW5nIGxsID0gbG9uZyBsb25nOwp1c2luZyBwaWkgPSBzdGQ6OnBhaXI8bGwsIGxsPjsKY29uc3QgaW50IE4gPSAyZTUgKyAzOwpjb25zdCBpbnQgUCA9IDFlOSArIDc7CgppbnQgZVtOICogMl0sIG5lW04gKiAyXSwgd1tOICogMl0sIGhbTl0sIGlkeDsKdm9pZCBhZGQoaW50IGEsIGludCBiLCBpbnQgYykgewogICAgZVtpZHhdID0gYiwgbmVbaWR4XSA9IGhbYV0sIHdbaWR4XSA9IGMsIGhbYV0gPSBpZHgrKzsKfQppbnQgcmVzW05dOwoKdm9pZCBkZnMoaW50IHQsIGludCBmKSB7CiAgICBmb3IoaW50IGkgPSBoW3RdO35pO2kgPSBuZVtpXSkgewogICAgICAgIGludCBqID0gZVtpXTsKICAgICAgICBpZihqID09IGYpIGNvbnRpbnVlOwogICAgICAgIHJlc1tqXSA9IHJlc1t0XSBeIHdbaV07CiAgICAgICAgZGZzKGosIHQpOwogICAgfQp9CnZvaWQgc29sdmUoKSB7CiAgICBpbnQgbjsKICAgIHN0ZDo6Y2luID4+IG47CiAgICBtZW1zZXQoaCwgLTEsIHNpemVvZiBoKTsKICAgIGZvcihpbnQgaSA9IDE7aSA8IG47aSsrKSB7CiAgICAgICAgaW50IHUsIHYsIGM7CiAgICAgICAgc3RkOjpjaW4gPj4gdSA+PiB2ID4+IGM7CiAgICAgICAgYWRkKHUsIHYsIGMpOwogICAgICAgIGFkZCh2LCB1ICxjKTsKICAgIH0KICAgIGRmcygxLCAwKTsKLy8gICAgc3RkOjp2ZWN0b3I8bGw+cG93Mig0MCwgMSk7Ci8vICAgIGZvcihpbnQgaSA9IDE7aSA8IDQwO2krKykgcG93MltpXSA9IHBvdzJbaSAtIDFdICogMjsKLy8gICAgc3RkOjp2ZWN0b3I8bGw+bnVtKDQwKTsKLy8gICAgZm9yKGludCBpID0gMDtpIDwgNDA7aSsrKSB7Ci8vICAgICAgICBmb3IoaW50IGogPSAxO2ogPD0gbjtqKyspIHsKLy8gICAgICAgICAgICBpZigocmVzW2pdID4+IGkpICYgMSkgewovLyAgICAgICAgICAgICAgICBudW1baV0rKzsKLy8gICAgICAgICAgICB9Ci8vICAgICAgICB9Ci8vICAgIH0KICAgIGxsIHRvdCA9IDA7CiAgICBmb3IoaW50IGkgPSAxO2kgPD0gbjtpKyspIHRvdCBePSByZXNbaV07CiAgICBpbnQgcTsKICAgIHN0ZDo6Y2luID4+IHE7CiAgICB3aGlsZShxLS0pIHsKICAgICAgICBpbnQgdSwgeDsKICAgICAgICBzdGQ6OmNpbiA+PiB1ID4+IHg7CiAgICAgICAgaWYobiAmIDEpIHN0ZDo6Y291dCA8PCAodG90IF4geCkgPDwgJ1xuJzsKICAgICAgICBlbHNlIHN0ZDo6Y291dCA8PCB0b3QgPDwgJ1xuJzsKLy8gICAgICAgIGludCBiaCA9IHJlc1t1XSBeIHg7Ci8vICAgICAgICBmb3IoaW50IGkgPSAwO2kgPCA0MDtpKyspIHsKLy8gICAgICAgICAgICBpZigoYmggPj4gaSkgJiAxKSB7Ci8vICAgICAgICAgICAgICAgIGFucyArPSAobiAtIG51bVtpXSkgKiBwb3cyW2ldOwovLyAgICAgICAgICAgIH0gZWxzZSB7Ci8vICAgICAgICAgICAgICAgIGFucyArPSBudW1baV0gKiBwb3cyW2ldOwovLyAgICAgICAgICAgIH0KLy8gICAgICAgIH0KICAgIH0KfQoKaW50IG1haW4oKSB7CiAgICBzdGQ6Omlvczo6c3luY193aXRoX3N0ZGlvKGZhbHNlKTsKICAgIHN0ZDo6Y2luLnRpZShudWxscHRyKTsKICAgIHN0ZDo6Y291dC50aWUobnVsbHB0cik7CiAgICBpbnQgVCA9IDE7CiAgICAvL3N0ZDo6Y2luID4+IFQ7CiAgICB3aGlsZShULS0pIHsKICAgICAgICBzb2x2ZSgpOwogICAgfQp9"}]