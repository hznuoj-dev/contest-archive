[{"id":"30994","submission_id":"30994","filename":"b.cpp","source":"I2luY2x1ZGUgPGJpdHMvc3RkYysrLmg+DQojZGVmaW5lIGZwKGksIGEsIGIpIGZvcihpbnQgaSA9IChhKSwgZWQgPSAoYik7IGkgPD0gZWQ7ICsraSkNCiNkZWZpbmUgZmIoaSwgYSwgYikgZm9yKGludCBpID0gKGEpLCBlZCA9IChiKTsgaSA+PSBlZDsgLS1pKQ0KI2RlZmluZSBnbyh1LCBpKSBmb3IoaW50IGkgPSBoZWFkW3VdOyBpOyBpID0gZVtpXS5ueHQpDQp1c2luZyBuYW1lc3BhY2Ugc3RkOw0KdHlwZWRlZiBsb25nIGxvbmcgTEw7DQp0eXBlZGVmIHBhaXI8aW50LCBpbnQ+IHBpaTsNCmlubGluZSBpbnQgcmQoKSB7DQoJcmVnaXN0ZXIgaW50IHgoMCksIGYoMSk7IHJlZ2lzdGVyIGNoYXIgYyhnZXRjaGFyKCkpOw0KCXdoaWxlIChjIDwgJzAnIHx8ICc5JyA8IGMpIHsgaWYgKGMgPT0gJy0nKWYgPSAtMTsgYyA9IGdldGNoYXIoKTsgfQ0KCXdoaWxlICgnMCcgPD0gYyAmJiBjIDw9ICc5Jyl4ID0geCoxMCArIGMtJzAnLCBjID0gZ2V0Y2hhcigpOw0KCXJldHVybiB4KmY7DQp9DQppbmxpbmUgTEwgUkQoKSB7DQoJcmVnaXN0ZXIgTEwgeCgwKTsgcmVnaXN0ZXIgaW50IGYoMSk7IHJlZ2lzdGVyIGNoYXIgYyhnZXRjaGFyKCkpOw0KCXdoaWxlIChjIDwgJzAnIHx8ICc5JyA8IGMpIHsgaWYgKGMgPT0gJy0nKWYgPSAtMTsgYyA9IGdldGNoYXIoKTsgfQ0KCXdoaWxlICgnMCcgPD0gYyAmJiBjIDw9ICc5Jyl4ID0geCoxMCArIGMtJzAnLCBjID0gZ2V0Y2hhcigpOw0KCXJldHVybiB4KmY7DQp9DQppbmxpbmUgaW50IGludF9yYW5kKGludCBsLCBpbnQgcil7DQoJaW50IHJlcyA9IDEuMGwqcmFuZCgpL1JBTkRfTUFYKihyLWwrMSk7DQoJaWYocmVzID09IHItbCsxKXJlcyA9IHItbDsNCglyZXR1cm4gbCtyZXM7DQp9DQppbmxpbmUgTEwgTExfcmFuZChMTCBsLCBMTCByKXsNCglMTCByZXMgPSAxLjBsKnJhbmQoKS9SQU5EX01BWCooci1sKzEpOw0KCWlmKHJlcyA9PSByLWwrMSlyZXMgPSByLWw7DQoJcmV0dXJuIGwrcmVzOw0KfQ0KY29uc3QgaW50IG1heG4gPSAyMDAwMTAsIGluZiA9IElOVF9NQVgtMTA7DQppbnQgbiwgYVttYXhuXSwgYlttYXhuXSwgYW5zOw0KaW5saW5lIGludCBzbHYoKXsNCglpbnQgZHQgPSBhWzFdLWJbMV07DQoJZnAoaSwgMiwgbilpZihhW2ldLWJbaV0gIT0gZHQpcmV0dXJuIGluZjsNCglyZXR1cm4gYWJzKGR0KTsNCn0NCmludCBtYWluKCl7DQovLwlmcmVvcGVuKCJhLmluIiwgInIiLCBzdGRpbik7DQovLwlmcmVvcGVuKCJhLm91dCIsICJ3Iiwgc3Rkb3V0KTsNCgluID0gcmQoKTsNCglmcChpLCAxLCBuKWFbaV0gPSByZCgpOw0KCWZwKGksIDEsIG4pYltpXSA9IHJkKCk7DQoJc29ydChhKzEsIGErMStuKSwgc29ydChiKzEsIGIrMStuKTsNCglhbnMgPSBzbHYoKSwgcmV2ZXJzZShhKzEsIGErMStuKTsNCglmcChpLCAxLCBuKWFbaV0gPSAtYVtpXTsNCglhbnMgPSBtaW4oYW5zLCBzbHYoKSsxKTsNCglwcmludGYoIiVkXG4iLCBhbnMgPT0gaW5mID8gLTEgOiBhbnMpOw0KCXJldHVybiAwOw0KfQ0K"}]