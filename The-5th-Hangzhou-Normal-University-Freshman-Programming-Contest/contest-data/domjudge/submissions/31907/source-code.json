[{"id":"31907","submission_id":"31907","filename":"A.cpp","source":"I2luY2x1ZGUgPGJpdHMvc3RkYysrLmg+DQoNCnVzaW5nIG5hbWVzcGFjZSBzdGQ7DQp1c2luZyBpNjQgPSBsb25nIGxvbmc7DQoNCmNvbnN0IGludCBNID0gMmU1ICsgMTA7DQpjb25zdCBpbnQgSU5GID0gMHgzZjNmM2YzZjsNCg0KaW50IG47DQppbnQgYXJyW01dOw0KDQppbnQgY2hlY2soaW50IGspIHsNCiAgICBpbnQgcHJlOw0KICAgIHN0YWNrPGludD4gc3RrOw0KICAgIGZvciAoaW50IGkgPSAwOyBpIDwgbjsgaSArKykgew0KICAgICAgICBpZiAoc3RrLnNpemUoKSkgcHJlID0gc3RrLnRvcCgpOw0KICAgICAgICBlbHNlIHByZSA9IC0xOw0KICAgICAgICBpZiAoYXJyW2ldIDwgaykgc3RrLnB1c2goMCk7DQogICAgICAgIGVsc2UgaWYgKGFycltpXSA+IGspIHN0ay5wdXNoKDEpOw0KICAgICAgICBpZiAocHJlID09IDAgJiYgc3RrLnRvcCgpID09IDEpIHsNCiAgICAgICAgICAgIHN0ay5wb3AoKTsNCiAgICAgICAgICAgIHN0ay5wb3AoKTsNCiAgICAgICAgfQ0KICAgIH0NCiAgICBpZiAoIXN0ay5zaXplKCkpIHJldHVybiAwOw0KICAgIGVsc2Ugew0KICAgICAgICBpZiAoc3RrLnRvcCgpID09IDApIHJldHVybiAxOyAvLyAnKCcNCiAgICAgICAgZWxzZSBpZiAoc3RrLnRvcCgpID09IDEpIHJldHVybiAyOyAvLyAnKScNCiAgICB9DQogICAgcmV0dXJuIC0xOw0KfQ0KDQppbnQgbWFpbigpIHsNCiAgICBpb3M6OnN5bmNfd2l0aF9zdGRpbyhmYWxzZSk7DQogICAgY2luLnRpZShudWxscHRyKTsNCg0KICAgIGNpbiA+PiBuOw0KDQogICAgaW50IG1pblYgPSBJTkYsIG1heFYgPSAtMTsNCiAgICBmb3IgKGludCBpID0gMDsgaSA8IG47IGkgKyspIHsNCiAgICAgICAgY2luID4+IGFycltpXTsNCiAgICAgICAgbWluViA9IG1pbihtaW5WLCBhcnJbaV0pOw0KICAgICAgICBtYXhWID0gbWF4KG1heFYsIGFycltpXSk7DQogICAgfQ0KDQogICAgLy8gZm9yIChpbnQgaSA9IG1pblY7IGkgPD0gbWF4VjsgaSArKykgew0KICAgIC8vICAgICBjb3V0IDw8IGkgPDwgIiAiOw0KICAgIC8vICAgICBpZiAoY2hlY2soaSkgPT0gMCkgY291dCA8PCAiWUVTIiA8PCAnXG4nOw0KICAgIC8vICAgICBlbHNlIGNvdXQgPDwgIk5PIiA8PCAnXG4nOw0KICAgIC8vIH0NCg0KICAgIGludCBhbnNfbCwgYW5zX3I7DQoNCiAgICBpbnQgbCA9IG1pblYsIHIgPSBtYXhWOw0KICAgIHdoaWxlIChsIDwgcikgew0KICAgICAgICBpbnQgbWlkID0gKGwgKyByKSAvIDI7DQogICAgICAgIGlmIChjaGVjayhtaWQpID09IDApIHIgPSBtaWQ7DQogICAgICAgIGVsc2Ugew0KICAgICAgICAgICAgaWYgKGNoZWNrKG1pZCkgPT0gMSkgciA9IG1pZCAtIDE7DQogICAgICAgICAgICBlbHNlIGlmIChjaGVjayhtaWQpID09IDIpIGwgPSBtaWQgKyAxOw0KICAgICAgICB9DQogICAgfQ0KICAgIGFuc19sID0gbDsNCg0KICAgIC8vIGNvdXQgPDwgbCA8PCAiICIgPDwgciA8PCAnXG4nOw0KDQogICAgaW50IGFucyA9IDA7DQogICAgZm9yIChpbnQgaSA9IGw7IGkgPD0gbWF4VjsgaSArKykgew0KICAgICAgICBpZiAoY2hlY2soaSkgPT0gMCkgYW5zICsrOw0KICAgICAgICBlbHNlIGJyZWFrOw0KICAgIH0NCg0KICAgIGNvdXQgPDwgYW5zIDw8ICdcbic7DQoNCiAgICAvLyBsID0gbWluViwgciA9IG1heFY7DQogICAgLy8gd2hpbGUgKGwgPCByKSB7DQogICAgLy8gICAgIGludCBtaWQgPSAobCArIHIgKyAxKSAvIDI7DQogICAgLy8gICAgIGlmIChjaGVjayhtaWQpID09IDApIGwgPSBtaWQ7DQogICAgLy8gICAgIGVsc2Ugew0KICAgIC8vICAgICAgICAgaWYgKGNoZWNrKG1pZCkgPT0gMSkgciA9IG1pZCAtIDE7DQogICAgLy8gICAgICAgICBlbHNlIGlmIChjaGVjayhtaWQpID09IDIpIGwgPSBtaWQgKyAxOw0KICAgIC8vICAgICB9DQogICAgLy8gfQ0KICAgIC8vIGFuc19yID0gbDsNCg0KICAgIC8vIC8vIGNvdXQgPDwgbCA8PCAiICIgPDwgciA8PCAnXG4nOw0KDQogICAgLy8gaWYgKGFuc19sID4gYW5zX3IpIGNvdXQgPDwgMCA8PCAnXG4nOw0KICAgIC8vIGVsc2UgaWYgKGFuc19sID09IGFuc19yKSB7DQogICAgLy8gICAgIGlmIChjaGVjayhhbnNfbCkgPT0gMCkgY291dCA8PCAxIDw8ICdcbic7DQogICAgLy8gICAgIGVsc2UgY291dCA8PCAwIDw8ICdcbic7DQogICAgLy8gfSBlbHNlIGNvdXQgPDwgYW5zX3IgLSBhbnNfbCArIDEgPDwgJ1xuJzsNCg0KICAgIHJldHVybiAwOw0KfQ=="}]