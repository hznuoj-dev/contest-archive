[{"id":"32438","submission_id":"32438","filename":"I.cpp","source":"I2luY2x1ZGUgPGJpdHMvc3RkYysrLmg+DQp1c2luZyBuYW1lc3BhY2Ugc3RkOw0KDQp0eXBlZGVmIGxvbmcgbG9uZyBMTDsNCnR5cGVkZWYgdW5zaWduZWQgbG9uZyBsb25nIFVMTDsNCi8vdHlwZWRlZiBfX2ludDEyOCBMTEw7DQoNCnZlY3RvcjxpbnQ+IGVbMTAwNTBdOw0KbWFwPHBhaXI8aW50LCBpbnQ+LCBpbnQ+IG1wOw0KaW50IHJlc3RbMTAwNTBdLCBzdGtbMTAwNTBdOw0KDQpib29sIHFyeShpbnQgdSwgaW50IHYpIHsNCiAgICBjb3V0IDw8ICI/ICIgPDwgdSA8PCAnICcgPDwgdiA8PCBlbmRsOw0KICAgIGludCByOyBjaW4gPj4gcjsNCiAgICByZXR1cm4gciA9PSAxOw0KfQ0KDQp2b2lkIGVuc3VyZShpbnQgeCkgew0KICAgIGNvdXQgPDwgIiEgIiA8PCB4IDw8IGVuZGw7DQp9DQoNCmJvb2wgZGZzKGludCB4LCBpbnQgZmEpIHsNCiAgICByZXN0W3hdID0gMDsNCiAgICBmb3IoaW50IHkgOiBlW3hdKSB7DQogICAgICAgIGlmKHkgPT0gZmEpIGNvbnRpbnVlOw0KICAgICAgICBpZihkZnMoeSwgeCkpIHJldHVybiB0cnVlOw0KICAgIH0NCiAgICANCiAgICBpbnQgdG9wID0gMDsNCiAgICBmb3IoaW50IHkgOiBlW3hdKSB7DQogICAgICAgIGlmKHkgPT0gZmEpIGNvbnRpbnVlOw0KICAgICAgICBpZihyZXN0W3ldKSB7DQogICAgICAgICAgICBpZihxcnkoeCwgcmVzdFt5XSkpIHsNCiAgICAgICAgICAgICAgICBpZihxcnkoeCwgeSkpIGVuc3VyZShtcFt7eCwgeX1dKTsNCiAgICAgICAgICAgICAgICBlbHNlIGVuc3VyZShtcFt7eSwgcmVzdFt5XX1dKTsNCiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgICBlbHNlIHN0a1srK3RvcF0gPSB5Ow0KICAgIH0NCiAgICANCiAgICBmb3IoaW50IGkgPSAxOyBpICsgMSA8PSB0b3A7IGkgKz0gMikgew0KICAgICAgICBpZihxcnkoc3RrW2ldLCBzdGtbaSArIDFdKSkgew0KICAgICAgICAgICAgaWYocXJ5KHgsIHN0a1tpXSkpIGVuc3VyZShtcFt7eCwgc3RrW2ldfV0pOw0KICAgICAgICAgICAgZWxzZSBlbnN1cmUobXBbe3gsIHN0a1tpXSArIDF9XSk7DQogICAgICAgICAgICByZXR1cm4gdHJ1ZTsNCiAgICAgICAgfQ0KICAgIH0NCiAgICANCiAgICBpZih0b3AgJiAxKSByZXN0W3hdID0gc3RrW3RvcF07DQogICAgDQogICAgcmV0dXJuIGZhbHNlOw0KfQ0KDQpzaWduZWQgbWFpbigpIHsNCiAgICBpbnQgdDsgY2luID4+IHQ7DQogICAgd2hpbGUodC0tKSB7DQogICAgICAgIGludCBuOyBjaW4gPj4gbjsNCiAgICAgICAgZm9yKGludCBpID0gMSwgdSwgdjsgaSA8IG47ICsraSkgew0KICAgICAgICAgICAgY2luID4+IHUgPj4gdjsNCiAgICAgICAgICAgIGVbdV0ucHVzaF9iYWNrKHYpLCBlW3ZdLnB1c2hfYmFjayh1KTsNCiAgICAgICAgICAgIG1wW3t1LCB2fV0gPSBtcFt7diwgdX1dID0gaTsNCiAgICAgICAgfQ0KICAgICAgICBpZighZGZzKDEsIDApKSBlbnN1cmUobXBbezEsIHJlc3RbMV19XSk7DQogICAgICAgIA0KICAgICAgICBtcC5jbGVhcigpOw0KICAgICAgICBmb3IoaW50IGkgPSAxOyBpIDw9IG47ICsraSkgZVtpXS5jbGVhcigpOw0KICAgIH0NCiAgICANCiAgICByZXR1cm4gMDsNCn0NCg0KLyoNCg0KMTINCjEgMg0KMSAzDQoxIDQNCjIgMTINCjMgNQ0KMyA2DQo0IDcNCjUgOA0KNSA5DQo1IDEwDQoxMCAxMQ0KKi8NCg0K"}]