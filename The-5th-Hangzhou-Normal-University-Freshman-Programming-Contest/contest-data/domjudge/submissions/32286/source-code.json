[{"id":"32286","submission_id":"32286","filename":"f.cpp","source":"I2luY2x1ZGU8Yml0cy9zdGRjKysuaD4NCnVzaW5nIG5hbWVzcGFjZSBzdGQ7DQp0eXBlZGVmIGxvbmcgbG9uZyBsbDsNCg0KY29uc3QgaW50IE49MmU1KzcsTU9EPTFlOSs3LElORj0weDNmM2YzZjNmLE09MWUzKzc7DQpsbCBuLGsscSxhW05dLGxlbltOXSxsZW5sW05dLHJlc1tNXVtNXTsNCmxsIHN6LHRvdCxibFtOXSxMW05dLFJbTl07DQoNCnN0cnVjdCBub2Rlew0KCWludCBsLHIsbWlubixtYXhuOw0KfXRbTio0XTsNCnZvaWQgdXAoaW50IGlkKXsNCglpZih0W2lkXS5sPT10W2lkXS5yKSByZXR1cm47DQoJdFtpZF0ubWlubj1taW4odFtpZCoyXS5taW5uLHRbaWQqMisxXS5taW5uKTsNCgl0W2lkXS5tYXhuPW1heCh0W2lkKjJdLm1heG4sdFtpZCoyKzFdLm1heG4pOw0KfQ0Kdm9pZCBidWlsZChpbnQgaWQsaW50IGwsaW50IHIpew0KCXRbaWRdPXtsLHIsSU5GLDB9Ow0KCWlmKGw9PXIpew0KCQl0W2lkXS5taW5uPXRbaWRdLm1heG49YVtsXTsNCgkJcmV0dXJuOw0KCX0NCglidWlsZChpZCoyLGwsKGwrcikvMik7DQoJYnVpbGQoaWQqMisxLChsK3IpLzIrMSxyKTsNCgl1cChpZCk7DQp9DQppbnQgZ2V0TWlubihpbnQgaWQsaW50IGwsaW50IHIpew0KCWlmKHRbaWRdLmw9PWwmJnRbaWRdLnI9PXIpIHJldHVybiB0W2lkXS5taW5uOw0KCWludCBtaWQ9KHRbaWRdLmwrdFtpZF0ucikvMjsNCglpZihyPD1taWQpIHJldHVybiBnZXRNaW5uKGlkKjIsbCxyKTsNCgllbHNlIGlmKGw+bWlkKSByZXR1cm4gZ2V0TWlubihpZCoyKzEsbCxyKTsNCgllbHNlIHJldHVybiBtaW4oZ2V0TWlubihpZCoyLGwsbWlkKSxnZXRNaW5uKGlkKjIrMSxtaWQrMSxyKSk7DQp9DQppbnQgZ2V0TWF4bihpbnQgaWQsaW50IGwsaW50IHIpew0KCWlmKHRbaWRdLmw9PWwmJnRbaWRdLnI9PXIpIHJldHVybiB0W2lkXS5tYXhuOw0KCWludCBtaWQ9KHRbaWRdLmwrdFtpZF0ucikvMjsNCglpZihyPD1taWQpIHJldHVybiBnZXRNYXhuKGlkKjIsbCxyKTsNCgllbHNlIGlmKGw+bWlkKSByZXR1cm4gZ2V0TWF4bihpZCoyKzEsbCxyKTsNCgllbHNlIHJldHVybiBtYXgoZ2V0TWF4bihpZCoyLGwsbWlkKSxnZXRNYXhuKGlkKjIrMSxtaWQrMSxyKSk7DQp9DQoNCnZvaWQgc29sdmUoKXsNCgljaW4+Pm4+Pms+PnE7DQoJZm9yKGludCBpPTE7aTw9bjtpKyspIGNpbj4+YVtpXTsNCglhW24rMV09MmU5Kzc7DQoJYnVpbGQoMSwxLG4rMSk7DQoJZm9yKGludCBpPTE7aTw9bjtpKyspew0KCQlpbnQgbD1pLHI9bixyZXM9bisxOw0KCQl3aGlsZShsPD1yKXsNCgkJCWludCBtaWQ9KGwrcikvMjsNCgkJCWludCBtYXhuPWdldE1heG4oMSxpLG1pZCksbWlubj1nZXRNaW5uKDEsaSxtaWQpOw0KCQkJaWYobWF4bi1taW5uPmspew0KCQkJCXJlcz1taWQ7DQoJCQkJcj1taWQtMTsNCgkJCX1lbHNlew0KCQkJCWw9bWlkKzE7DQoJCQl9DQoJCX0NCgkJbGVuW2ldPXJlcy1pOw0KCQkNCgkJbD0xLHI9aSxyZXM9MDsNCgkJd2hpbGUobDw9cil7DQoJCQlpbnQgbWlkPShsK3IpLzI7DQoJCQlpZihnZXRNYXhuKDEsbWlkLGkpLWdldE1pbm4oMSxtaWQsaSk+ayl7DQoJCQkJcmVzPW1pZDsNCgkJCQlsPW1pZCsxOw0KCQkJfWVsc2V7DQoJCQkJcj1taWQtMTsNCgkJCX0NCgkJfQ0KCQlsZW5sW2ldPWktcmVzOw0KLy8JCWxlbltpXT1xdWVyeSgxLGkrMSxuKzEsYVtpXSktaTsNCi8vCQlsZW5sW2ldPWktcXVlcnkyKDEsMSxpLTEsYVtpXSk7DQoJfQ0KCQ0KCXN6PXNxcnQobik7DQoJdG90PShuK3N6LTEpL3N6Ow0KCWZvcihpbnQgaT0xO2k8PW47aSsrKXsNCgkJYmxbaV09KGktMSkvc3orMTsNCgkJaWYoTFtibFtpXV09PTApIExbYmxbaV1dPWk7DQoJCVJbYmxbaV1dPWk7DQoJfQ0KCQ0KCWZvcihpbnQgcj10b3Q7cj49MTtyLS0pew0KCQlmb3IoaW50IGw9cjtsPj0xO2wtLSl7DQoJCQlpZihsPHIpIHJlc1tsXVtyXT1yZXNbbCsxXVtyXTsNCgkJCWZvcihpbnQgaT1MW2xdO2k8PVJbbF07aSsrKXsNCgkJCQlyZXNbbF1bcl0rPW1pbihsZW5baV0sMWxsKlJbcl0taSsxKTsNCgkJCX0NCgkJfQ0KCX0NCgkNCgl3aGlsZShxLS0pew0KCQlpbnQgbCxyOw0KCQljaW4+Pmw+PnI7DQoJCWxsIGFucz0wOw0KCQlpZihibFtsXT09Ymxbcl0pew0KCQkJZm9yKGludCBpPWw7aTw9cjtpKyspew0KCQkJCWFucys9bWluKDFsbCpyLWkrMSxsZW5baV0pOw0KCQkJfQ0KCQl9ZWxzZXsNCgkJCWludCBiTD1ibFtsXSsxLGJSPWJsW3JdLTE7DQoJCQlpZihiTDw9YlIpIGFucys9cmVzW2JMXVtiUl07DQoJCQlmb3IoaW50IGk9bDtpPExbYkxdO2krKyl7DQoJCQkJYW5zKz1taW4oMWxsKnItaSsxLGxlbltpXSk7DQoJCQl9DQoJCQlmb3IoaW50IGk9cjtpPlJbYlJdO2ktLSl7DQoJCQkJYW5zKz1taW4oMWxsKmktTFtiTF0rMSxsZW5sW2ldKTsNCgkJCX0NCgkJfQ0KCQljb3V0PDxhbnM8PCdcbic7DQoJfQ0KfQ0KDQppbnQgbWFpbigpew0KCWlvczo6c3luY193aXRoX3N0ZGlvKDApO2Npbi50aWUoMCk7Y291dC50aWUoMCk7DQoJaW50IHRjPTE7DQovLwljaW4+PnRjOw0KCXdoaWxlKHRjLS0pIHNvbHZlKCk7DQoJcmV0dXJuIDA7DQp9DQovKg0KNSAyIDQNCjEgMyAzIDUgMw0KMSA1DQoxIDQNCjIgMw0KMyAzDQoNCiovDQo="}]