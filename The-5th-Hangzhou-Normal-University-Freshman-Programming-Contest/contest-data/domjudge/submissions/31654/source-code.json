[{"id":"31654","submission_id":"31654","filename":"unamed2.cpp","source":"I2luY2x1ZGU8Yml0cy9zdGRjKysuaD4NCnVzaW5nIG5hbWVzcGFjZSBzdGQ7DQojZGVmaW5lIGludCBsb25nIGxvbmcNCg0KaW50IGFbMjAwMDEwXSwgYlsyMDAwMTBdOw0KDQp2b2lkIHJ1bigpIHsNCglzdHJpbmcgczsNCglpbnQgbiwgcmVzLCBwLCBjYWw7DQoJY2luID4+IG47DQoJZm9yIChpbnQgaSA9IDE7IGkgPD0gbjsgaSsrKSB7DQoJCWNpbiA+PiBhW2ldOw0KCQliW2ldID0gYVtpXTsNCgl9DQoJc29ydChiICsgMSwgYiArIDEgKyBuKTsNCglwID0gbiAvIDI7DQoJaWYgKG4gJSAyID09IDEpIHsNCgkJcmVzID0gMTsNCgkJY2FsID0gYltwICsgMV07DQoJfSBlbHNlIHsNCgkJaWYgKGFicyhiW3BdIC0gYltwICsgMV0pIDwgMikgew0KCQkJaWYgKGJbcF0gPT0gYltwICsgMV0pIHsNCgkJCQlyZXMgPSAxOw0KCQkJCWNhbCA9IGJbcF07DQoJCQl9IGVsc2Ugew0KCQkJCWNvdXQgPDwgIjBcbiI7DQoJCQkJcmV0dXJuOw0KCQkJfQ0KCQl9IGVsc2Ugew0KCQkJcmVzID0gYWJzKGJbcF0gLSBiW3AgKyAxXSkgLSAxOw0KCQkJY2FsID0gYltwXSArIDE7DQoJCX0NCgl9DQoJZm9yIChpbnQgaSA9IDE7IGkgPD0gbjsgaSsrKSB7DQoJCWlmIChhW2ldID4gY2FsKSB7DQoJCQlzICs9ICcpJzsNCgkJfSBlbHNlIGlmIChhW2ldIDwgY2FsKSB7DQoJCQlzICs9ICcoJzsNCgkJfQ0KCX0NCglpbnQgY3VyID0gMDsNCglmb3IgKGludCBpID0gMDsgaSA8IHMubGVuZ3RoKCk7IGkrKykgew0KCQlpZiAoc1tpXSA9PSAnKCcpIHsNCgkJCWN1cisrOw0KCQl9IGVsc2Ugew0KCQkJY3VyLS07DQoJCX0NCgkJaWYgKGN1ciA8IDApIHsNCgkJCWNvdXQgPDwgIjBcbiI7DQoJCQlyZXR1cm47DQoJCX0NCgl9DQoJaWYgKGN1ciAhPSAwKSB7DQoJCWNvdXQgPDwgIjBcbiI7DQoJCXJldHVybjsNCgl9DQoJY291dCA8PCByZXMgPDwgIlxuIjsNCglyZXR1cm47DQp9DQoNCnNpZ25lZCBtYWluKCkgew0KCWlvczo6c3luY193aXRoX3N0ZGlvKDApLCBjaW4udGllKDApLCBjb3V0LnRpZSgwKTsNCglpbnQgVCA9IDE7DQovLwljaW4gPj4gVDsNCgl3aGlsZSAoVC0tKSB7DQoJCXJ1bigpOw0KCX0NCglyZXR1cm4gMDsNCn0NCg=="}]