[{"id":"32424","submission_id":"32424","filename":"main.cpp","source":"CiNpbmNsdWRlIDxiaXRzL3N0ZGMrKy5oPgp1c2luZyBuYW1lc3BhY2Ugc3RkOwojZGVmaW5lIHJlcChpLGosaykgZm9yKGk9ajtpPD1rOysraSkKI2RlZmluZSBkb3coaSxqLGspIGZvcihpPWo7aT49azstLWkpCiNkZWZpbmUgcHIgcGFpcgojZGVmaW5lIG1rcCBtYWtlX3BhaXIKI2RlZmluZSBmaSBmaXJzdAojZGVmaW5lIHNlIHNlY29uZApjb25zdCBpbnQgTj0xMDEwOwp2ZWN0b3I8cHI8aW50LGludD4gPkdbTl07CmludCBuLGFucyxmdFtOXTsKaW50IGFzayhpbnQgdSxpbnQgdil7CiAgICBwcmludGYoIj8gJWQgJWRcbiIsdSx2KTsKICAgIGZmbHVzaChzdGRvdXQpOwogICAgaW50IHJlcztzY2FuZigiJWQiLCZyZXMpO3JldHVybiByZXM7Cn0KYm9vbCBmbGc7CnZvaWQgZGZzMChpbnQgdSxpbnQgZmEpewogICAgZnRbdV09ZmE7CiAgICBmb3IoYXV0byB2OkdbdV0paWYodi5maSE9ZmEpewogICAgICAgIGRmczAodi5maSx1KTsKICAgIH0KfQp2b2lkIGRmcyhpbnQgdSxpbnQgZmEpewogICAgdmVjdG9yPHByPGludCxpbnQ+ID5zc2V0OwogICAgaW50IGk7CiAgICBmb3IoYXV0byB2OkdbdV0paWYodi5maSE9ZnRbdV0pc3NldC5wdXNoX2JhY2sodik7CiAgICBpbnQgc3o9c3NldC5zaXplKCk7CiAgICBmb3IoaT0wO2k8PXN6LTE7aSs9Mil7CiAgICAgICAgaWYoaSsxPD1zei0xKXsKICAgICAgICAgICAgaWYoYXNrKHNzZXRbaV0uZmksc3NldFtpKzFdLmZpKSl7CiAgICAgICAgICAgICAgICBpZihhc2soc3NldFtpXS5maSx1KSl7CiAgICAgICAgICAgICAgICAgICAgYW5zPXNzZXRbaV0uc2U7CiAgICAgICAgICAgICAgICB9ZWxzZSBhbnM9c3NldFtpKzFdLnNlOwogICAgICAgICAgICAgICAgZmxnPTE7cmV0dXJuOwogICAgICAgICAgICB9ZGZzKHNzZXRbaV0uZmksc3NldFtpXS5maSk7aWYoZmxnKXJldHVybjsKICAgICAgICAgICAgZGZzKHNzZXRbaSsxXS5maSxzc2V0W2krMV0uZmkpO2lmKGZsZylyZXR1cm47CiAgICAgICAgfQoKICAgIH0KICAgIGlmKHN6PjAgJiYgKHN6LTEpJTI9PTApewogICAgICAgIGRmcyhzc2V0W3N6LTFdLmZpLGZhKTsKICAgIH1lbHNlewogICAgICAgIGlmKHUhPWZhICYmIGFzayhmYSx1KSl7CiAgICAgICAgICAgIHZlY3RvcjxpbnQ+dG1wOwogICAgICAgICAgICBpbnQgdj11O3RtcC5wdXNoX2JhY2sodik7CiAgICAgICAgICAgIHdoaWxlKHYhPWZhKXsKICAgICAgICAgICAgICAgIHRtcC5wdXNoX2JhY2soZnRbdl0pO3Y9ZnRbdl07CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaW50IGw9MSxyPShpbnQpdG1wLnNpemUoKS0xLHJlczsKICAgICAgICAgICAgd2hpbGUobDw9cil7CiAgICAgICAgICAgICAgICBpbnQgbWlkPWwrcj4+MTsKICAgICAgICAgICAgICAgIGlmKGFzayh0bXBbMF0sdG1wW21pZF0pKXJlcz1taWQscj1taWQtMTtlbHNlIGw9bWlkKzE7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZm9yKGF1dG8gdnY6R1t0bXBbcmVzXV0paWYodnYuZmk9PXRtcFtyZXMtMV0pYW5zPXZ2LnNlOwogICAgICAgICAgICBmbGc9MTtyZXR1cm47CiAgICAgICAgfQogICAgfQp9CmludCBtYWluKCl7CiAgICBpbnQgVCxpLGo7c2NhbmYoIiVkIiwmVCk7CiAgICB3aGlsZShULS0pewogICAgICAgIHNjYW5mKCIlZCIsJm4pOwogICAgICAgIHJlcChpLDEsbi0xKXsKICAgICAgICAgICAgaW50IHgseTtzY2FuZigiJWQlZCIsJngsJnkpOwogICAgICAgICAgICBHW3hdLnB1c2hfYmFjayhta3AoeSxpKSk7CiAgICAgICAgICAgIEdbeV0ucHVzaF9iYWNrKG1rcCh4LGkpKTsKICAgICAgICB9CiAgICAgICAgZmxnPTA7CiAgICAgICAgZGZzMCgxLDApOwogICAgICAgIGRmcygxLDEpOwogICAgICAgIHByaW50ZigiISAlZFxuIixhbnMpO2ZmbHVzaChzdGRvdXQpOwogICAgfQp9"}]