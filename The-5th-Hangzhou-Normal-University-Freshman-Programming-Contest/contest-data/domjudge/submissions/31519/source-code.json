[{"id":"31519","submission_id":"31519","filename":"main.cpp","source":"I2luY2x1ZGUgPGlvc3RyZWFtPg0KI2luY2x1ZGUgPGFsZ29yaXRobT4NCiNpbmNsdWRlIDxjc3RyaW5nPg0KdXNpbmcgbmFtZXNwYWNlIHN0ZDsNCmNvbnN0IGludCBOID0gMiAqIDFlNSArIDEwOw0KaW50IGFbTl0sIGJbTl0sIGNbTl07DQoNCmludCBtYWluKCkNCnsNCiAgICBpbnQgbjsNCiAgICBjaW4gPj4gbjsNCiAgICBpbnQgaSwgaiwgcmVzID0gMDsNCiAgICBmb3IoaSA9IDE7IGkgPD0gbjsgaSsrKQ0KICAgIHsNCiAgICAgICAgY2luID4+IGFbaV07DQogICAgICAgIGJbYVtpXV0gKys7DQogICAgfQ0KICAgIGZvcihpID0gMTsgaSA8PSBOIC0gMTA7IGkrKykNCiAgICB7DQogICAgICAgIGNbaV0gPSBjW2kgLSAxXSArIGJbaV07DQogICAgfQ0KICAgIGogPSAwOw0KICAgIGkgPSAwOw0KICAgIC8vY291dCA8PCBhWzFdIDw8ICc9JyA8PCBhW25dIDw8IGVuZGw7DQogICAgaWYgKGFbMV0gPiBhW25dKQ0KICAgIHsNCiAgICAgICAgY291dCA8PCAwIDw8IGVuZGw7DQogICAgICAgIHJldHVybiAwOyANCiAgICB9DQogICAgZWxzZSBpZiAoYVsxXSA9PSBhW25dKQ0KICAgIHsNCiAgICAgICAgd2hpbGUgKGFbMSArIGldID09IGFbMV0gJiYgMSArIGkgPD0gbikNCiAgICAgICAgew0KICAgICAgICAgICAgaSsrOw0KICAgICAgICB9DQogICAgICAgIGlmICgxICsgaSA+IG4pDQogICAgICAgIHsNCiAgICAgICAgICAgIGNvdXQgPDwgIjEiIDw8IGVuZGw7DQogICAgICAgICAgICByZXR1cm4gMDsNCiAgICAgICAgfQ0KICAgICAgICB3aGlsZSAoYVtuIC0gal0gPT0gYVtuXSAmJiBuIC0gaiA+PSAwKQ0KICAgICAgICB7DQogICAgICAgICAgICBqKys7DQogICAgICAgIH0NCiAgICAgICAgLy9jb3V0IDw8IGFbMSArIGldIDw8ICI9PT0iIDw8IGFbbiAtIGpdIDw8IGVuZGw7DQogICAgICAgIGlmIChhWzEgKyBpXSA+PSBhW24gLSBqXSkNCiAgICAgICAgew0KICAgICAgICAgICAgY291dCA8PCAwIDw8IGVuZGw7DQogICAgICAgICAgICByZXR1cm4gMDsNCiAgICAgICAgfQ0KICAgICAgICBpbnQgbCA9IGNbYVsxXSAtIDFdLCByID0gbiAtIGwgLSBiW2FbMV1dOw0KICAgICAgICAvL2NvdXQgPDwgbCA8PCAiPT09IiA8PCByIDw8IGVuZGw7DQogICAgICAgIGlmIChsID09IHIpDQogICAgICAgIHsNCiAgICAgICAgICAgIGNvdXQgPDwgIjEiIDw8IGVuZGw7DQogICAgICAgICAgICByZXR1cm4gMDsNCiAgICAgICAgfQ0KICAgICAgICBlbHNlDQogICAgICAgIHsNCiAgICAgICAgICAgIGNvdXQgPDwgIjAiIDw8IGVuZGw7DQogICAgICAgICAgICByZXR1cm4gMDsNCiAgICAgICAgfQ0KICAgIH0NCiAgICBpID0gYVtpICsgMV0gKyAxOw0KICAgIGogPSBhW24gLSBqXTsNCiAgICAvL2ZvcihpID0gMTsgaSA8PSAxMDsgaSsrKSBjb3V0IDw8IGNbaV0gPDwgZW5kbDsNCiAgICBmb3IoOyBpIDwgajsgaSsrKQ0KICAgIHsNCiAgICAgICAgaW50IGwgPSBjW2kgLSAxXSwgciA9IG4gLSBsIC0gYltpXTsNCiAgICAgICAgaWYgKGwgPT0gcikNCiAgICAgICAgICAgIHJlcysrOw0KICAgIH0NCiAgICBpID0gMDsNCiAgICBqID0gMDsNCiAgICB3aGlsZSAoYVsxICsgaV0gPT0gYVsxXSAmJiAxICsgaSA8PSBuKQ0KICAgIHsNCiAgICAgICAgaSsrOw0KICAgIH0NCiAgICBpZiAoYVsxICsgaV0gPCBhW25dICYmIGNbYVsxXSAtIDFdICogMiA9PSBuIC0gYlthWzFdXSkNCiAgICB7DQogICAgICAgIHJlcysrOw0KICAgIH0NCiAgICB3aGlsZSAoYVtuIC0gal0gPT0gYVtuXSAmJiBuIC0gaiA+PSAwKQ0KICAgIHsNCiAgICAgICAgaisrOw0KICAgIH0NCiAgICBpZiAoYVsxXSA8IGFbbiAtIGpdICYmIGNbYVtuXSAtIDFdICogMiA9PSBuIC0gYlthW25dXSkNCiAgICB7DQogICAgICAgIHJlcysrOw0KICAgIH0NCiAgICBjb3V0IDw8IHJlcyA8PCBlbmRsOw0KICAgIHJldHVybiAwOw0KfQ=="}]