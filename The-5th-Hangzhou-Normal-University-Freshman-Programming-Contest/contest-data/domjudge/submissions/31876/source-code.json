[{"id":"31876","submission_id":"31876","filename":"A.cpp","source":"I2luY2x1ZGUgPGJpdHMvc3RkYysrLmg+DQoNCnVzaW5nIG5hbWVzcGFjZSBzdGQ7DQp1c2luZyBpNjQgPSBsb25nIGxvbmc7DQoNCmNvbnN0IGludCBNID0gMmU1ICsgMTA7DQpjb25zdCBpbnQgSU5GID0gMHgzZjNmM2YzZjsNCg0KaW50IG47DQppbnQgYXJyW01dOw0KDQppbnQgY2hlY2soaW50IGspIHsNCiAgICBpbnQgcHJlOw0KICAgIHN0YWNrPGludD4gc3RrOw0KICAgIGZvciAoaW50IGkgPSAwOyBpIDwgbjsgaSArKykgew0KICAgICAgICBpZiAoc3RrLnNpemUoKSkgcHJlID0gc3RrLnRvcCgpOw0KICAgICAgICBlbHNlIHByZSA9IC0xOw0KICAgICAgICBpZiAoYXJyW2ldIDwgaykgc3RrLnB1c2goMCk7DQogICAgICAgIGVsc2UgaWYgKGFycltpXSA+IGspIHN0ay5wdXNoKDEpOw0KICAgICAgICBpZiAocHJlID09IDAgJiYgc3RrLnRvcCgpID09IDEpIHsNCiAgICAgICAgICAgIHN0ay5wb3AoKTsNCiAgICAgICAgICAgIHN0ay5wb3AoKTsNCiAgICAgICAgfQ0KICAgIH0NCiAgICBpZiAoIXN0ay5zaXplKCkpIHJldHVybiAwOw0KICAgIGVsc2Ugew0KICAgICAgICBpZiAoc3RrLnRvcCgpID09IDApIHJldHVybiAxOyAvLyAnKCcNCiAgICAgICAgZWxzZSBpZiAoc3RrLnRvcCgpID09IDEpIHJldHVybiAyOyAvLyAnKScNCiAgICB9DQogICAgcmV0dXJuIC0xOw0KfQ0KDQppbnQgbWFpbigpIHsNCiAgICBpb3M6OnN5bmNfd2l0aF9zdGRpbyhmYWxzZSk7DQogICAgY2luLnRpZShudWxscHRyKTsNCg0KICAgIGNpbiA+PiBuOw0KDQogICAgaW50IG1pblYgPSBJTkYsIG1heFYgPSAtMTsNCiAgICBmb3IgKGludCBpID0gMDsgaSA8IG47IGkgKyspIHsNCiAgICAgICAgY2luID4+IGFycltpXTsNCiAgICAgICAgbWluViA9IG1pbihtaW5WLCBhcnJbaV0pOw0KICAgICAgICBtYXhWID0gbWF4KG1heFYsIGFycltpXSk7DQogICAgfQ0KDQogICAgLy8gZm9yIChpbnQgaSA9IG1pblY7IGkgPD0gbWF4VjsgaSArKykgew0KICAgIC8vICAgICBjb3V0IDw8IGkgPDwgIiAiOw0KICAgIC8vICAgICBpZiAoY2hlY2soaSkgPT0gMCkgY291dCA8PCAiWUVTIiA8PCAnXG4nOw0KICAgIC8vICAgICBlbHNlIGNvdXQgPDwgIk5PIiA8PCAnXG4nOw0KICAgIC8vIH0NCg0KICAgIGludCBhbnNfbCwgYW5zX3I7DQoNCiAgICBpbnQgbCA9IG1pblYsIHIgPSBtYXhWOw0KICAgIHdoaWxlIChsIDwgcikgew0KICAgICAgICBpbnQgbWlkID0gKGwgKyByKSAvIDI7DQogICAgICAgIGlmIChjaGVjayhtaWQpID09IDApIHIgPSBtaWQ7DQogICAgICAgIGVsc2Ugew0KICAgICAgICAgICAgaWYgKGNoZWNrKG1pZCkgPT0gMSkgciA9IG1pZCAtIDE7DQogICAgICAgICAgICBlbHNlIGlmIChjaGVjayhtaWQpID09IDIpIGwgPSBtaWQgKyAxOw0KICAgICAgICB9DQogICAgfQ0KICAgIGFuc19sID0gbDsNCg0KICAgIC8vIGNvdXQgPDwgbCA8PCAiICIgPDwgciA8PCAnXG4nOw0KDQogICAgbCA9IG1pblYsIHIgPSBtYXhWOw0KICAgIHdoaWxlIChsIDwgcikgew0KICAgICAgICBpbnQgbWlkID0gKGwgKyByICsgMSkgLyAyOw0KICAgICAgICBpZiAoY2hlY2sobWlkKSA9PSAwKSBsID0gbWlkOw0KICAgICAgICBlbHNlIHsNCiAgICAgICAgICAgIGlmIChjaGVjayhtaWQpID09IDEpIHIgPSBtaWQgLSAxOw0KICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2sobWlkKSA9PSAyKSBsID0gbWlkICsgMTsNCiAgICAgICAgfQ0KICAgIH0NCiAgICBhbnNfciA9IGw7DQoNCiAgICAvLyBjb3V0IDw8IGwgPDwgIiAiIDw8IHIgPDwgJ1xuJzsNCg0KICAgIGlmIChhbnNfbCA+IGFuc19yKSBjb3V0IDw8IDAgPDwgJ1xuJzsNCiAgICBlbHNlIGlmIChhbnNfbCA9PSBhbnNfcikgew0KICAgICAgICBpZiAoY2hlY2soYW5zX2wpID09IDApIGNvdXQgPDwgMSA8PCAnXG4nOw0KICAgICAgICBlbHNlIGNvdXQgPDwgMCA8PCAnXG4nOw0KICAgIH0gZWxzZSBjb3V0IDw8IGFuc19yIC0gYW5zX2wgKyAxIDw8ICdcbic7DQoNCiAgICByZXR1cm4gMDsNCn0="}]