[{"id":"32422","submission_id":"32422","filename":"A.cpp","source":"I2luY2x1ZGU8Yml0cy9zdGRjKysuaD4NCnVzaW5nIG5hbWVzcGFjZSBzdGQ7DQpjb25zdCBpbnQgTiA9IDJlNSArIDEwOw0KaW50IG47DQppbnQgYVtOXSAsIGJbTl07DQppbnQgcmVzICwgazsNCmJvb2wgZmxhZzsNCmludCBtYXhuICwgbWlubjsNCg0KaW50IG1haW4oKQ0Kew0KCWlvczo6c3luY193aXRoX3N0ZGlvKGZhbHNlKTsNCgljaW4udGllKDApOw0KCWNvdXQudGllKDApOw0KCWNpbiA+PiBuOw0KCWZvcihpbnQgaSA9IDEgOyBpIDw9IG4gOyBpICsrKWNpbiA+PiBhW2ldOw0KCWludCBwb3MgPSAxOw0KCW1heG4gPSAxZTk7DQoJaWYobiA9PSAxKQ0KCXsNCgkJY291dCA8PCAxIDw8ICdcbic7DQoJCXJldHVybiAwOw0KCX0NCglmb3IoaW50IGkgPSAyIDsgaSA8PSBuICsgMSA7IGkgKyspDQoJew0KCQlpbnQgYmIgPSBhWyhwb3MgKyBpIC0gMSkgLyAyXTsNCgkJaWYoKGFbaV0gPj0gYVtpIC0gMV0gJiYgaSAhPSBuICsgMSkgfHwgKChpIC0gcG9zKSAlIDIgPT0gMSAmJiBpICE9IG4gKyAxICYmIGFbaV0gPj0gYmIpKQ0KCQl7DQoJCQlzb3J0KGEgKyBwb3MgLCBhICsgaSArIDEpOw0KCQkJY29udGludWU7DQoJCX0NCgkJZWxzZQ0KCQl7DQoJCQlpZigoaSArIHBvcykgJSAyID09IDApDQoJCQl7DQoJCQkJaW50IGwgPSAoaSAtIDEgKyBwb3MpIC8gMiAsIHIgPSAoaSAtIDEgKyBwb3MpIC8gMiArIDE7DQoJCQkJaWYoYVtsXSA9PSBhW3JdKQ0KCQkJCXsNCgkJCQkJaW50IHNoYW9iaW4gPSBhW2xdOw0KCQkJCQlpZihhW2xdIDwgbWlubiB8fCBhW2xdICA+IG1heG4pDQoJCQkJCXsNCgkJCQkJCWZsYWcgPSB0cnVlOw0KCQkJCQkJYnJlYWs7DQoJCQkJCX0NCgkJCQkJZm9yKDsgciA8PSBpIC0gMSA7IHIgKysgLCBsIC0tKQ0KCQkJCQl7DQoJCQkJCQlpZihhW2xdID09IHNoYW9iaW4gJiYgYVtyXSA9PSBzaGFvYmluKQ0KCQkJCQkJew0KCQkJCQkJCWNvbnRpbnVlOw0KCQkJCQkJfQ0KCQkJCQkJZWxzZSBpZihhW2xdICA9PSBzaGFvYmluICYmIGFbcl0gICE9IHNoYW9iaW4pDQoJCQkJCQl7DQoJCQkJCQkJZmxhZyA9IHRydWU7DQoJCQkJCQkJYnJlYWs7DQoJCQkJCQl9DQoJCQkJCQllbHNlIGlmKGFbbF0gICE9IHNoYW9iaW4gJiYgYVtyXSA9PSBzaGFvYmluKQ0KCQkJCQkJew0KCQkJCQkJCWZsYWcgPSB0cnVlOw0KCQkJCQkJCWJyZWFrOw0KCQkJCQkJfQ0KCQkJCQl9DQoJCQkJCWlmKGZsYWcpDQoJCQkJCXsNCgkJCQkJCWJyZWFrOw0KCQkJCQl9DQoJCQkJCWVsc2UNCgkJCQkJew0KCQkJCQkJbWlubiA9IHNoYW9iaW4gLCBtYXhuID0gc2hhb2JpbjsNCgkJCQkJCXBvcyA9IGk7DQoJCQkJCX0NCgkJCQl9DQoJCQkJZWxzZQ0KCQkJCXsNCgkJCQkJaWYoYVtyXSAtIGFbbF0gPiAxICYmIChhW2xdICsgMSA+PSBtaW5uIHx8IGFbcl0gLSAxIDw9IG1heG4pKQ0KCQkJCQl7DQoJCQkJCQltaW5uID0gbWF4KG1pbm4gLCBhW2xdICsgMSkgLCBtYXhuID0gbWluKG1heG4gLCBhW3JdIC0gMSk7DQoJCQkJCQlwb3MgPSBpOw0KCQkJCQl9DQoJCQkJCWVsc2UNCgkJCQkJew0KCQkJCQkJZmxhZyA9IHRydWU7DQoJCQkJCQlicmVhazsNCgkJCQkJfQ0KCQkJCX0gDQoJCQl9DQoJCQllbHNlDQoJCQl7DQoJCQkJaW50IG1pZCA9IChwb3MgKyBpIC0gMSkgLyAyOw0KCQkJCWludCBzaGFvYmluID0gYVttaWRdOw0KCQkJCWlmKGFbbWlkXSA8IG1pbm4gfHwgYVttaWRdICA+IG1heG4pDQoJCQkJCXsNCgkJCQkJCWZsYWcgPSB0cnVlOw0KCQkJCQkJYnJlYWs7DQoJCQkJCX0NCgkJCQlmb3IoaW50IGwgPSBtaWQgLSAxICwgciA9IG1pZCArIDEgOyByIDw9IGkgLSAxIDsgciArKyAsIGwgLS0pDQoJCQkJew0KCQkJCQlpZihhW2xdID09IHNoYW9iaW4gJiYgYVtyXSA9PSBzaGFvYmluKQ0KCQkJCQl7DQoJCQkJCQljb250aW51ZTsNCgkJCQkJfQ0KCQkJCQllbHNlIGlmKGFbbF0gID09IHNoYW9iaW4gJiYgYVtyXSAgIT0gc2hhb2JpbikNCgkJCQkJew0KCQkJCQkJZmxhZyA9IHRydWU7DQoJCQkJCQlicmVhazsNCgkJCQkJfQ0KCQkJCQllbHNlIGlmKGFbbF0gICE9IHNoYW9iaW4gJiYgYVtyXSA9PSBzaGFvYmluKQ0KCQkJCQl7DQoJCQkJCQlmbGFnID0gdHJ1ZTsNCgkJCQkJCWJyZWFrOw0KCQkJCQl9DQoJCQkJfQ0KCQkJCWlmKGZsYWcpDQoJCQkJew0KCQkJCQlicmVhazsNCgkJCQl9DQoJCQkJZWxzZQ0KCQkJCXsNCgkJCQkJbWlubiA9IHNoYW9iaW4gLCBtYXhuID0gc2hhb2JpbjsNCgkJCQkJcG9zID0gaTsNCgkJCQl9DQoJCQl9DQoJCX0NCgl9DQoJaWYoZmxhZykNCgl7DQoJCWNvdXQgPDwgMCA8PCAnXG4nOw0KCX1lbHNlDQoJew0KCQljb3V0IDw8IG1heCgwICwgbWF4biAtIG1pbm4gKyAxKSA8PCAnXG4nOw0KCX0NCglyZXR1cm4gMDsNCn0="}]