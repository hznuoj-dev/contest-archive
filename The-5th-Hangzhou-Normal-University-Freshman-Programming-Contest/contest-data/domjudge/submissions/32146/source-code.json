[{"id":"32146","submission_id":"32146","filename":"A.cpp","source":"I2luY2x1ZGUgPGlvc3RyZWFtPg0KI2luY2x1ZGUgPGJpdHMvc3RkYysrLmg+DQojaW5jbHVkZSA8c3RhY2s+DQp1c2luZyBuYW1lc3BhY2Ugc3RkOw0KI2RlZmluZSBpbnQgbG9uZyBsb25nIGludA0KY29uc3QgaW50IE4gPSAyZTYgKyAxMDsNCmludCBhW05dLCBuOw0KaW50IG51bWwsIG51bXI7DQoNCmJvb2wganVkZ2UoaW50IG1pZCkNCnsNCglzdGFjazxjaGFyPiBzdDsNCgljaGFyIGNoID0gJygnOw0KCWZvciAoaW50IGkgPSAxOyBpIDw9IG47IGkrKykNCgl7DQoJCWlmIChhW2ldID09IG1pZCkNCgkJew0KCQkJY29udGludWU7DQoJCX0NCgkJZWxzZSBpZiAoYVtpXSA8IG1pZCkNCgkJew0KCQkJY2ggPSAnKCc7DQoJCQludW1sKys7DQoJCX0NCgkJZWxzZSBpZiAoYVtpXSA+IG1pZCkNCgkJew0KCQkJY2ggPSAnKSc7DQoJCQludW1yKys7DQoJCX0NCgkJaWYgKHN0LmVtcHR5KCkpDQoJCXsNCgkJCXN0LnB1c2goY2gpOw0KCQl9DQoJCWVsc2UgaWYgKCFzdC5lbXB0eSgpICYmIHN0LnRvcCgpID09ICcoJyAmJiBjaCA9PSAnKCcpDQoJCXsNCgkJCXN0LnB1c2goY2gpOw0KCQl9DQoJCWVsc2UgaWYgKCFzdC5lbXB0eSgpICYmIHN0LnRvcCgpID09ICcoJyAmJiBjaCA9PSAnKScpDQoJCXsNCgkJCXN0LnBvcCgpOw0KCQl9DQoJCWVsc2UgaWYgKCFzdC5lbXB0eSgpICYmIHN0LnRvcCgpID09ICcpJykNCgkJew0KCQkJc3QucHVzaChjaCk7DQoJCX0NCg0KCX0NCglpZiAoc3Quc2l6ZSgpKQ0KCXsNCgkJcmV0dXJuIGZhbHNlOw0KCX0NCgllbHNlDQoJew0KCQlyZXR1cm4gdHJ1ZTsNCgl9DQp9DQoNCnNpZ25lZCBtYWluKCkNCnsNCgljaW4gPj4gbjsNCglpbnQgZmxhZyA9IDA7DQoJZm9yIChpbnQgaSA9IDE7IGkgPD0gbjsgaSsrKQ0KCXsNCgkJc2NhbmYoIiVsbGQiLCAmYVtpXSk7DQoJfQ0KCWludCBsbCA9IDAsIHJyID0gMDsNCglpbnQgbCA9IDEsIHIgPSAyMDAwMDA7DQoNCgl3aGlsZSAobCA8IHIpDQoJew0KCQludW1sID0gMCwgbnVtciA9IDA7DQoJCWludCBtaWQgPSAobCArIHIpID4+IDE7DQoJCWlmIChqdWRnZShtaWQpKQ0KCQl7DQoJCQlmbGFnID0gMTsNCgkJCXIgPSBtaWQgLSAxOw0KCQl9DQoJCWVsc2UgaWYgKG51bWwgPj0gbnVtciAmJiAhanVkZ2UobWlkKSkNCgkJew0KCQkJciA9IG1pZCAtIDE7DQoJCX0NCgkJZWxzZSBpZiAobnVtciA+IG51bWwgJiYgIWp1ZGdlKG1pZCkpDQoJCXsNCgkJCWwgPSBtaWQgKyAxOw0KCQl9DQoJfQ0KCWxsID0gbDsNCglsID0gMSwgciA9IDIwMDAwMDsNCgl3aGlsZSAobCA8IHIpDQoJew0KCQludW1sID0gMCwgbnVtciA9IDA7DQoJCWludCBtaWQgPSAobCArIHIgKyAxKSA+PiAxOw0KCQlpZiAoanVkZ2UobWlkKSkNCgkJew0KCQkJZmxhZyA9IDE7DQoJCQlsID0gbWlkICsgMTsNCgkJfQ0KCQllbHNlIGlmIChudW1sID49IG51bXIgJiYgIWp1ZGdlKG1pZCkpDQoJCXsNCgkJCXIgPSBtaWQgLSAxOw0KCQl9DQoJCWVsc2UgaWYgKG51bXIgPiBudW1sICYmICFqdWRnZShtaWQpKQ0KCQl7DQoJCQlsID0gbWlkICsgMTsNCgkJfQ0KDQoJfQ0KCXJyID0gcjsNCglpZiAoZmxhZyA9PSAxKQ0KCXsNCgkJY291dCA8PCByciAtIGxsIDw8IGVuZGw7DQoJfQ0KCWVsc2UNCgl7DQoJCWNvdXQgPDwgMCA8PCBlbmRsOw0KCX0NCg0KCXJldHVybiAwOw0KfQ=="}]