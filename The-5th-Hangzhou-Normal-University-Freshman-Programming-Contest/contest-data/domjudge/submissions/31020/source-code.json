[{"id":"31020","submission_id":"31020","filename":"main.cpp","source":"I2luY2x1ZGUgPGJpdHMvc3RkYysrLmg+CnVzaW5nIGxsID0gbG9uZyBsb25nOwp1c2luZyBwaWkgPSBzdGQ6OnBhaXI8bGwsIGxsPjsKCnZvaWQgc29sdmUoKSB7CiAgICBpbnQgbjsKICAgIHN0ZDo6Y2luID4+IG47CiAgICBzdGQ6OnZlY3RvcjxpbnQ+YShuKTsKICAgIGZvcihhdXRvICZ2IDogYSkgc3RkOjpjaW4gPj4gdjsKICAgIHN0ZDo6dmVjdG9yPGludD5iKGEpOwogICAgc3RkOjpzb3J0KGIuYmVnaW4oKSwgYi5lbmQoKSk7CiAgICBpbnQgcCA9IG4gLyAyOwogICAgaWYobiAmIDEgfHwgYltwXSA9PSBiW3AgLSAxXSkgewogICAgICAgIGludCBrID0gYltwXTsKICAgICAgICBpbnQgbnVtID0gMDsKICAgICAgICBmb3IoYXV0byB2IDogYSkgewogICAgICAgICAgICBpZih2IDwgaykgbnVtKys7CiAgICAgICAgICAgIGlmKHYgPiBrKSBudW0tLTsKICAgICAgICAgICAgaWYobnVtIDwgMCl7CiAgICAgICAgICAgICAgICBzdGQ6OmNvdXQgPDwgIjBcbiI7CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgaWYobnVtICE9IDApIHN0ZDo6Y291dCA8PCAiMFxuIjsKICAgICAgICBlbHNlIHN0ZDo6Y291dCA8PCAiMVxuIjsKICAgIH0gZWxzZSB7CiAgICAgICAgaW50IGsgPSBiW3BdIC0gMTsKICAgICAgICBpbnQgbnVtID0gMDsKICAgICAgICBmb3IoYXV0byB2IDogYSkgewogICAgICAgICAgICBpZih2IDwgaykgbnVtKys7CiAgICAgICAgICAgIGlmKHYgPiBrKSBudW0tLTsKICAgICAgICAgICAgaWYobnVtIDwgMCl7CiAgICAgICAgICAgICAgICBzdGQ6OmNvdXQgPDwgIjBcbiI7CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgaWYobnVtICE9IDApIHN0ZDo6Y291dCA8PCAiMFxuIjsKICAgICAgICBlbHNlIHN0ZDo6Y291dCA8PCBiW3BdIC0gYltwIC0gMV0gLSAxIDw8ICdcbic7CiAgICB9Cn0KCmludCBtYWluKCkgewogICAgaW50IFQgPSAxOwogICAgLy9zdGQ6OmNpbiA+PiBUOwogICAgd2hpbGUoVC0tKSB7CiAgICAgICAgc29sdmUoKTsKICAgIH0KfQ=="}]