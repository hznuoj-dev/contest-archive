[{"id":"31918","submission_id":"31918","filename":"A.cpp","source":"I2luY2x1ZGUgPGlvc3RyZWFtPg0KI2luY2x1ZGUgPGFsZ29yaXRobT4NCg0KdXNpbmcgbmFtZXNwYWNlIHN0ZDsNCg0KY29uc3QgaW50IE4gPSAyMDAwMTA7DQoNCmludCBuOw0KaW50IGFbTl0sIGJbTl07DQoNCmludCBtYWluKCkNCnsNCiAgICBjaW4gPj4gbjsNCiAgICBmb3IgKGludCBpID0gMDsgaSA8IG47IGkgKysgKQ0KICAgIHsNCiAgICAgICAgY2luID4+IGFbaV07DQogICAgICAgIGJbaV0gPSBhW2ldOw0KICAgIH0NCiAgICBzb3J0KGIsIGIgKyBuKTsNCg0KICAgIGludCBpZHgxLCBpZHgyOw0KICAgIGludCBmbGFnID0gMTsNCiAgICBpZiAobiAlIDIgIT0gMCkNCiAgICB7DQogICAgICAgIGlkeDEgPSBiW24gLyAyXTsNCiAgICAgICAgaW50IGMgPSAwLCBkID0gMDsNCiAgICAgICAgZm9yIChpbnQgaSA9IDA7IGkgPCBuOyBpICsrICkNCiAgICAgICAgew0KICAgICAgICAgICAgaWYgKGFbaV0gPCBpZHgxKSBjICsrIDsNCiAgICAgICAgICAgIGlmIChhW2ldID4gaWR4MSkgZCArKyA7DQogICAgICAgICAgICBpZiAoYyA8IGQpDQogICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgZmxhZyA9IDA7DQogICAgICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgICAgaWYgKGMgIT0gZCkgZmxhZyA9IDA7DQogICAgICAgIGlmIChmbGFnID09IDApIGNvdXQgPDwgMDsNCiAgICAgICAgZWxzZSBjb3V0IDw8IDE7DQogICAgfQ0KICAgIGVsc2UgaWYgKG4gJSAyID09IDApDQogICAgew0KICAgICAgICBpbnQgZmxhZzEgPSAxLCBmbGFnMiA9IDE7DQogICAgICAgIGlkeDEgPSBiW24gLyAyIC0gMV07DQogICAgICAgIGlkeDIgPSBiW24gLyAyXTsNCiAgICAgICAgaW50IGMgPSAwLCBkID0gMDsNCiAgICAgICAgZm9yIChpbnQgaSA9IDA7IGkgPCBuOyBpICsrICkNCiAgICAgICAgew0KICAgICAgICAgICAgaWYgKGFbaV0gPCBpZHgxKSBjICsrIDsNCiAgICAgICAgICAgIGlmIChhW2ldID4gaWR4MSkgZCArKyA7DQogICAgICAgICAgICBpZiAoYyA8IGQpDQogICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgZmxhZzEgPSAwOw0KICAgICAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIGlmIChjICE9IGQpIGZsYWcxID0gMDsNCiAgICAgICAgYyA9IDAsIGQgPSAwOw0KICAgICAgICBpZiAoaWR4MSAhPSBpZHgyKQ0KICAgICAgICAgICAgZm9yIChpbnQgaSA9IDA7IGkgPCBuOyBpICsrICkNCiAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICBpZiAoYVtpXSA8IGlkeDIpIGMgKysgOw0KICAgICAgICAgICAgICAgIGlmIChhW2ldID4gaWR4MikgZCArKyA7DQogICAgICAgICAgICAgICAgaWYgKGMgPCBkKQ0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgZmxhZzIgPSAwOw0KICAgICAgICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgIGlmIChjICE9IGQpIGZsYWcyID0gMDsNCiAgICAgICAgaW50IHJlcyA9IGlkeDIgLSBpZHgxICsgMTsNCiAgICAgICAgaWYgKGZsYWcxID09IDApIHJlcyAtLSA7DQogICAgICAgIGlmIChmbGFnMiA9PSAwKSByZXMgLS0gOw0KICAgICAgICBjb3V0IDw8IHJlczsNCiAgICB9DQogICAgcmV0dXJuIDA7DQp9"}]