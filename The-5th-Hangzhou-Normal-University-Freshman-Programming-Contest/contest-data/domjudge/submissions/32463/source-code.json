[{"id":"32463","submission_id":"32463","filename":"3.cpp","source":"I2luY2x1ZGU8Yml0cy9zdGRjKysuaD4NCnVzaW5nIG5hbWVzcGFjZSBzdGQ7IA0KY29uc3QgaW50IE4gPSAyZTUrNTsNCnR5cGVkZWYgbG9uZyBsb25nIExMOw0KaW50IG4sIGEsIGIsIGM7DQppbnQgaFtOXSxlW05dLG5lW05dLGlkeDsNCkxMIHdbTl0sIHBbTl0sIHJlcyA9IDA7DQpib29sIHZ0W05dOw0KDQp2b2lkIGFkZChpbnQgYSwgaW50IGIsIGludCBjKSB7DQoJZVtpZHhdID0gYix3W2lkeF0gPSBjLG5lW2lkeF0gPSBoW2FdLGhbYV0gPSBpZHgrKzsNCn0NCg0KTEwgZmlnKExMIGEsIExMIGspew0KCWludCBnWzM1XSxkWzM1XSxjbnQgPSAwLGRjID0gMDsNCgltZW1zZXQoZywgMCwgc2l6ZW9mIGcpOw0KCXdoaWxlKGEpZ1srK2NudF0gPSBhICUgMiwgYSAvPSAyOw0KCXdoaWxlKGspZFsrK2RjXSA9IGsgJSAyLCBrIC89IDI7DQoJZm9yKGludCBpID0gMTsgaSA8PSBkYzsgKytpKWlmKGRbaV0pZ1tpXSA9IGFicyhnW2ldIC0gMSk7DQoJTEwgcmVzID0gMDsNCi8vCWZvcihpbnQgaSA9IDE7IGkgPD0gbWF4KGNudCwgZGMpOyArK2kpY291dDw8Z1tpXTtjb3V0PDwiXG4iOw0KCWZvcihpbnQgaSA9IDE7IGkgPD0gbWF4KGNudCwgZGMpOyArK2kpcmVzICs9IGdbaV0qcG93KDIsIGkgLSAxKTsNCglyZXR1cm4gcmVzOw0KfQ0KDQp2b2lkIGNjKGludCByKXsNCglyZXMgXj0gcFtyXTsNCglxdWV1ZTxpbnQ+IHFlOw0KCXFlLnB1c2gocik7DQoJDQoJd2hpbGUocWUuc2l6ZSgpKXsNCgkJaW50IHUgPSBxZS5mcm9udCgpO3FlLnBvcCgpOw0KCQlmb3IoaW50IGkgPSBoW3VdOyBpICE9IC0xOyBpID0gbmVbaV0pew0KCQkJTEwgdCA9IGVbaV07DQoJCQlpZih2dFt0XSljb250aW51ZTsNCgkJCXZ0W3RdID0gdHJ1ZTsNCgkvLwkJY291dDw8cFt1XTw8IiAiPDx3W2ldPDwiXG4iOw0KCQkJTEwgbm93ID0gZmlnKHBbdV0sIHdbaV0pOw0KCS8vCQljb3V0PDxub3c8PCJcbiI7DQoJCQlwW3RdID0gbm93Ow0KCQkJcmVzIF49IHBbdF07DQoJCQlxZS5wdXNoKHQpOw0KCQl9DQoJfQ0KfQ0KaW5saW5lIGludCByZWFkKCkNCnsNCiAgICBpbnQgeD0wLGY9MTsNCiAgICBjaGFyIGNoPWdldGNoYXIoKTsNCiAgICB3aGlsZShjaDwnMCd8fGNoPic5Jyl7DQogICAgICAgIGlmKGNoPT0nLScpDQogICAgICAgICAgICBmPS0xOw0KICAgICAgICBjaD1nZXRjaGFyKCk7DQogICAgfQ0KICAgIHdoaWxlKGNoPj0nMCcmJmNoPD0nOScpew0KICAgICAgICB4PSh4PDwxKSsoeDw8MykrKGNoXjQ4KTsNCiAgICAgICAgY2g9Z2V0Y2hhcigpOw0KICAgIH0NCiAgICByZXR1cm4geCpmOw0KfQ0KaW50IG1haW4oKQ0Kew0KLy8JY291dDw8ZmlnKDAsIDUpPDwiXG4iOw0KCWlvczo6c3luY193aXRoX3N0ZGlvKGZhbHNlKTsNCgluID0gcmVhZCgpOw0KCWZvcihpbnQgaSA9IDE7aTw9IG47aSsrKSBoW2ldID0gLTE7DQoJZm9yKGludCBpID0gMTsgaSA8IG47ICsraSlhID0gcmVhZCgpLGI9cmVhZCgpLGM9cmVhZCgpLGFkZChhLGIsYyksYWRkKGIsYSxjKTsNCglpbnQgdHQ7DQoJdHQgPSByZWFkKCk7DQoJd2hpbGUodHQtLSl7DQoJCXJlcyA9IDA7DQoJCWZvcihpbnQgaSA9IDA7aSA8PSBuO2krKyl2dFtpXSA9IDA7DQoJCWZvcihpbnQgaSA9IDA7aSA8PSBuO2krKylwW2ldID0gMDsNCgkJaW50IHUsIGNudDsNCgkJdSA9IHJlYWQoKTsNCgkJY250ID0gcmVhZCgpOw0KCQlwW3VdID0gY250Ow0KCQl2dFt1XSA9IHRydWU7DQoJCWNjKHUpOw0KCQlwcmludGYoIiVsbGRcbiIscmVzKTsNCgl9DQp9IA0K"}]