[{"id":"32178","submission_id":"32178","filename":"A.cpp","source":"I2luY2x1ZGUgPGlvc3RyZWFtPg0KI2luY2x1ZGUgPGJpdHMvc3RkYysrLmg+DQojaW5jbHVkZSA8c3RhY2s+DQp1c2luZyBuYW1lc3BhY2Ugc3RkOw0KI2RlZmluZSBpbnQgbG9uZyBsb25nIGludA0KY29uc3QgaW50IE4gPSAxZTYgKyAxMDsNCmludCBhW05dLCBuLCBrOw0KaW50IG51bWwsIG51bXI7DQoNCmJvb2wganVkZ2UoaW50IG1pZCkNCnsNCglzdGFjazxjaGFyPiBzdDsNCgljaGFyIGNoID0gJygnOw0KCWZvciAoaW50IGkgPSAxOyBpIDw9IG47IGkrKykNCgl7DQoJCWlmIChhW2ldID09IG1pZCkNCgkJew0KCQkJY29udGludWU7DQoJCX0NCgkJZWxzZSBpZiAoYVtpXSA8IG1pZCkNCgkJew0KCQkJY2ggPSAnKCc7DQoJCQludW1sKys7DQoJCX0NCgkJZWxzZSBpZiAoYVtpXSA+IG1pZCkNCgkJew0KCQkJY2ggPSAnKSc7DQoJCQludW1yKys7DQoJCX0NCgkJaWYgKHN0LnNpemUoKSA9PSAwKQ0KCQl7DQoJCQlzdC5wdXNoKGNoKTsNCgkJfQ0KCQllbHNlIGlmIChzdC5zaXplKCkgJiYgc3QudG9wKCkgPT0gJygnICYmIGNoID09ICcoJykNCgkJew0KCQkJc3QucHVzaChjaCk7DQoJCX0NCgkJZWxzZSBpZiAoc3Quc2l6ZSgpICYmIHN0LnRvcCgpID09ICcoJyAmJiBjaCA9PSAnKScpDQoJCXsNCgkJCXN0LnBvcCgpOw0KCQl9DQoJCWVsc2UgaWYgKHN0LnNpemUoKSAmJiBzdC50b3AoKSA9PSAnKScpDQoJCXsNCgkJCXN0LnB1c2goY2gpOw0KCQl9DQoNCgl9DQoJaWYgKHN0LnNpemUoKSkNCgl7DQoJCXJldHVybiBmYWxzZTsNCgl9DQoJZWxzZQ0KCXsNCgkJcmV0dXJuIHRydWU7DQoJfQ0KfQ0KDQpzaWduZWQgbWFpbigpDQp7DQoJY2luID4+IG47DQoJaW50IGZsYWcgPSAwOw0KCWZvciAoaW50IGkgPSAxOyBpIDw9IG47IGkrKykNCgl7DQoJCXNjYW5mKCIlbGxkIiwgJmFbaV0pOw0KCX0NCglpbnQgbGwgPSAwLCByciA9IDA7DQoJaW50IGwgPSAxLCByID0gMmU1Ow0KDQoJd2hpbGUgKGwgPD0gcikNCgl7DQoJCW51bWwgPSAwLCBudW1yID0gMDsNCgkJaW50IG1pZCA9IChsICsgcikgPj4gMTsNCgkJaWYgKGp1ZGdlKG1pZCkpDQoJCXsNCgkJCWZsYWcgPSAxOw0KCQkJciA9IG1pZCAtIDE7DQoJCX0NCgkJZWxzZSBpZiAobnVtbCA+PSBudW1yICYmICFqdWRnZShtaWQpKQ0KCQl7DQoJCQlyID0gbWlkIC0gMTsNCgkJfQ0KCQllbHNlIGlmIChudW1yID4gbnVtbCAmJiAhanVkZ2UobWlkKSkNCgkJew0KCQkJbCA9IG1pZCArIDE7DQoJCX0NCgl9DQoJbGwgPSBsOw0KCWwgPSAxLCByID0gMmU1Ow0KCXdoaWxlIChsIDw9IHIpDQoJew0KCQludW1sID0gMCwgbnVtciA9IDA7DQoJCWludCBtaWQgPSAobCArIHIgKyAxKSA+PiAxOw0KCQlpZiAoanVkZ2UobWlkKSkNCgkJew0KCQkJZmxhZyA9IDE7DQoJCQlsID0gbWlkICsgMTsNCgkJfQ0KCQllbHNlIGlmIChudW1sID49IG51bXIgJiYgIWp1ZGdlKG1pZCkpDQoJCXsNCgkJCXIgPSBtaWQgLSAxOw0KCQl9DQoJCWVsc2UgaWYgKG51bXIgPiBudW1sICYmICFqdWRnZShtaWQpKQ0KCQl7DQoJCQlsID0gbWlkICsgMTsNCgkJfQ0KDQoJfQ0KCXJyID0gcjsNCglpZiAoZmxhZyA9PSAxKQ0KCXsNCgkJaWYgKHJyID09IGxsKQ0KCQkJY291dCA8PCAxIDw8IGVuZGw7DQoJCWVsc2UNCgkJCWNvdXQgPDwgcnIgLSBsbCArIDEgPDwgZW5kbDsNCgl9DQoJZWxzZQ0KCXsNCgkJY291dCA8PCAwIDw8IGVuZGw7DQoJfQ0KDQoJcmV0dXJuIDA7DQp9"}]