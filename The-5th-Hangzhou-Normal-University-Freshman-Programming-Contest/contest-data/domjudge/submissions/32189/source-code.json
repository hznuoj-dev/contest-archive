[{"id":"32189","submission_id":"32189","filename":"f.cpp","source":"I2luY2x1ZGU8Yml0cy9zdGRjKysuaD4NCnVzaW5nIG5hbWVzcGFjZSBzdGQ7DQp0eXBlZGVmIGxvbmcgbG9uZyBsbDsNCg0KY29uc3QgaW50IE49MmU1KzcsTU9EPTFlOSs3LElORj0weDNmM2YzZjNmLE09MWUzKzc7DQpsbCBuLGsscSxhW05dLGxlbltOXSxsZW5sW05dLHJlc1tNXVtNXTsNCmludCBzeix0b3QsYmxbTl0sTFtOXSxSW05dOw0KDQpzdHJ1Y3Qgbm9kZXsNCglpbnQgbCxyLG1pbm4sbWF4bjsNCn10W04qNF07DQp2b2lkIHVwKGludCBpZCl7DQoJaWYodFtpZF0ubD09dFtpZF0ucikgcmV0dXJuOw0KCXRbaWRdLm1pbm49bWluKHRbaWQqMl0ubWlubix0W2lkKjIrMV0ubWlubik7DQoJdFtpZF0ubWF4bj1tYXgodFtpZCoyXS5tYXhuLHRbaWQqMisxXS5tYXhuKTsNCn0NCnZvaWQgYnVpbGQoaW50IGlkLGludCBsLGludCByKXsNCgl0W2lkXT17bCxyLElORiwwfTsNCglpZihsPT1yKXsNCgkJdFtpZF0ubWlubj10W2lkXS5tYXhuPWFbbF07DQoJCXJldHVybjsNCgl9DQoJYnVpbGQoaWQqMixsLChsK3IpLzIpOw0KCWJ1aWxkKGlkKjIrMSwobCtyKS8yKzEscik7DQoJdXAoaWQpOw0KfQ0KaW50IHF1ZXJ5KGludCBpZCxpbnQgbCxpbnQgcixpbnQgdmFsKXsNCglpbnQgZGlmTm93PW1heChhYnModFtpZF0ubWlubi12YWwpLGFicyh0W2lkXS5tYXhuLXZhbCkpOw0KCWlmKGRpZk5vdzw9aykgcmV0dXJuIG4rMTsNCgkNCglpZih0W2lkXS5sPT1sJiZ0W2lkXS5yPT1yKXsNCgkJaWYodFtpZF0ubD09dFtpZF0ucikgcmV0dXJuIHRbaWRdLmw7DQoJCWludCBkaWZMPW1heChhYnModFtpZCoyXS5taW5uLXZhbCksYWJzKHRbaWQqMl0ubWF4bi12YWwpKTsNCgkJaWYoZGlmTD5rKSByZXR1cm4gcXVlcnkoaWQqMix0W2lkKjJdLmwsdFtpZCoyXS5yLHZhbCk7DQoJCWVsc2UgcmV0dXJuIHF1ZXJ5KGlkKjIrMSx0W2lkKjIrMV0ubCx0W2lkKjIrMV0ucix2YWwpOw0KCX0NCglpbnQgbWlkPSh0W2lkXS5sK3RbaWRdLnIpLzI7DQoJaWYocjw9bWlkKSByZXR1cm4gcXVlcnkoaWQqMixsLHIsdmFsKTsNCgllbHNlIGlmKGw+bWlkKSByZXR1cm4gcXVlcnkoaWQqMisxLGwscix2YWwpOw0KCWVsc2UgcmV0dXJuIG1pbihxdWVyeShpZCoyLGwsbWlkLHZhbCkscXVlcnkoaWQqMisxLG1pZCsxLHIsdmFsKSk7DQp9DQppbnQgcXVlcnkyKGludCBpZCxpbnQgbCxpbnQgcixpbnQgdmFsKXsNCglpbnQgZGlmTm93PW1heChhYnModFtpZF0ubWlubi12YWwpLGFicyh0W2lkXS5tYXhuLXZhbCkpOw0KCWlmKGRpZk5vdzw9aykgcmV0dXJuIDA7DQoJDQoJaWYodFtpZF0ubD09bCYmdFtpZF0ucj09cil7DQoJCWlmKHRbaWRdLmw9PXRbaWRdLnIpIHJldHVybiB0W2lkXS5sOw0KCQlpbnQgZGlmUj1tYXgoYWJzKHRbaWQqMisxXS5taW5uLXZhbCksYWJzKHRbaWQqMisxXS5tYXhuLXZhbCkpOw0KCQlpZihkaWZSPmspIHJldHVybiBxdWVyeTIoaWQqMisxLHRbaWQqMisxXS5sLHRbaWQqMisxXS5yLHZhbCk7DQoJCWVsc2UgcmV0dXJuIHF1ZXJ5MihpZCoyLHRbaWQqMl0ubCx0W2lkKjJdLnIsdmFsKTsNCgl9DQoJaW50IG1pZD0odFtpZF0ubCt0W2lkXS5yKS8yOw0KCWlmKHI8PW1pZCkgcmV0dXJuIHF1ZXJ5MihpZCoyLGwscix2YWwpOw0KCWVsc2UgaWYobD5taWQpIHJldHVybiBxdWVyeTIoaWQqMisxLGwscix2YWwpOw0KCWVsc2UgcmV0dXJuIG1heChxdWVyeTIoaWQqMixsLG1pZCx2YWwpLHF1ZXJ5MihpZCoyKzEsbWlkKzEscix2YWwpKTsNCn0NCg0Kdm9pZCBzb2x2ZSgpew0KCWNpbj4+bj4+az4+cTsNCglmb3IoaW50IGk9MTtpPD1uO2krKykgY2luPj5hW2ldOw0KCWFbbisxXT0yZTkrNzsNCglidWlsZCgxLDEsbisxKTsNCglmb3IoaW50IGk9MTtpPD1uO2krKyl7DQoJCWxlbltpXT1xdWVyeSgxLGkrMSxuKzEsYVtpXSktaTsNCgkJbGVubFtpXT1pLXF1ZXJ5MigxLDEsaS0xLGFbaV0pOw0KCX0NCgkNCglzej1zcXJ0KG4pOw0KCXRvdD0obitzei0xKS9zejsNCglmb3IoaW50IGk9MTtpPD1uO2krKyl7DQoJCWJsW2ldPShpLTEpL3N6KzE7DQoJCWlmKExbYmxbaV1dPT0wKSBMW2JsW2ldXT1pOw0KCQlSW2JsW2ldXT1pOw0KCX0NCgkNCglmb3IoaW50IHI9dG90O3I+PTE7ci0tKXsNCgkJZm9yKGludCBsPXI7bD49MTtsLS0pew0KCQkJaWYobDxyKSByZXNbbF1bcl09cmVzW2wrMV1bcl07DQoJCQlmb3IoaW50IGk9TFtsXTtpPD1SW2xdO2krKyl7DQoJCQkJcmVzW2xdW3JdKz1taW4obGVuW2ldLDFsbCpSW3JdLWkrMSk7DQoJCQl9DQoJCX0NCgl9DQoJDQoJd2hpbGUocS0tKXsNCgkJaW50IGwscjsNCgkJY2luPj5sPj5yOw0KCQlsbCBhbnM9MDsNCgkJaWYoYmxbbF09PWJsW3JdKXsNCgkJCWZvcihpbnQgaT1sO2k8PXI7aSsrKXsNCgkJCQlhbnMrPW1pbigxbGwqci1pKzEsbGVuW2ldKTsNCgkJCX0NCgkJfWVsc2V7DQoJCQlpbnQgYkw9YmxbbF0rMSxiUj1ibFtyXS0xOw0KCQkJaWYoYkw8PWJSKSBhbnMrPXJlc1tiTF1bYlJdOw0KCQkJZm9yKGludCBpPWw7aTxMW2JMXTtpKyspew0KCQkJCWFucys9bWluKDFsbCpyLWkrMSxsZW5baV0pOw0KCQkJfQ0KCQkJZm9yKGludCBpPXI7aT5SW2JSXTtpLS0pew0KCQkJCWFucys9bWluKDFsbCppLUxbYkxdKzEsbGVubFtpXSk7DQoJCQl9CQ0KCQl9DQoJCWNvdXQ8PGFuczw8J1xuJzsNCgl9DQp9DQoNCmludCBtYWluKCl7DQoJaW9zOjpzeW5jX3dpdGhfc3RkaW8oMCk7Y2luLnRpZSgwKTtjb3V0LnRpZSgwKTsNCglpbnQgdGM9MTsNCi8vCWNpbj4+dGM7DQoJd2hpbGUodGMtLSkgc29sdmUoKTsNCglyZXR1cm4gMDsNCn0NCi8qDQo1IDIgNA0KMSAzIDMgNSAzDQoxIDUNCjEgNA0KMiAzDQozIDMNCg0KKi8NCg=="}]