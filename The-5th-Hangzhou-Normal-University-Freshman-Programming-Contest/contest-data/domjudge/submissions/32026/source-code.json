[{"id":"32026","submission_id":"32026","filename":"main.cpp","source":"Ly8jaW5jbHVkZSA8aW9zdHJlYW0+Ci8vdXNpbmcgbmFtZXNwYWNlIHN0ZDsKLy9jb25zdCBpbnQgTiA9IDJlNSArIDEwOwovL2xvbmcgbG9uZyBxcG93KGxvbmcgbG9uZyBhICwgbG9uZyBsb25nIG4gLCBsb25nIGxvbmcgbW9kKXsKLy8gICAgbG9uZyBsb25nIGFucyA9IDE7Ci8vICAgIHdoaWxlKG4pewovLyAgICAgICAgaWYobiAmIDEpewovLyAgICAgICAgICAgIGFucyA9IGFucyAqIGEgJSBtb2Q7Ci8vICAgICAgICB9Ci8vICAgICAgICBuID4+PSAxOwovLyAgICAgICAgYSA9IGEgKiBhICUgbW9kOwovLyAgICB9Ci8vICAgIHJldHVybiBhbnM7Ci8vfQovL2ludCBmYVtOXSAsIGFbTl0gLCBzdW1bTl0gLCBiW05dOwovL2ludCBuICwgcTsKLy92b2lkIEluaXQoKXsKLy8gICAgZm9yKGludCBpID0gMSA7IGkgPD0gbjtpKyspIHsKLy8gICAgICAgIGZhW2ldID0gaTsKLy8gICAgICAgIHN1bVtpXSA9IDE7Ci8vICAgIH0KLy99Ci8vaW50IGZpbmQoaW50IHgpewovLyAgICByZXR1cm4gZmFbeF0gPT0geCA/IHggOiBmaW5kKGZhW3hdKTsKLy99Ci8vaW50IG1haW4oKSB7Ci8vICAgIGNpbiA+PiBuID4+IHE7Ci8vICAgIEluaXQoKTsKLy8gICAgZm9yKGludCBpID0gMSA7IGkgPD0gbjtpKyspewovLyAgICAgICAgY2luID4+IGJbaV07Ci8vICAgICAgICBhW2ldID0gYltpXTsKLy8gICAgfQovLyAgICBmb3IoaW50IGkgPSAxIDsgaSA8PSBxO2krKyl7Ci8vICAgICAgICBpbnQgayAsIHUgLCB2OwovLyAgICAgICAgY2luID4+IGsgPj4gdTsKLy8gICAgICAgIGlmKGsgPT0gMSl7Ci8vICAgICAgICAgICAgY2luID4+IHY7Ci8vICAgICAgICAgICAgaW50IGZ1ID0gZmluZCh1KTsKLy8gICAgICAgICAgICBpbnQgZnYgPSBmaW5kKHYpOwovLyAgICAgICAgICAgIGlmKGZ1ICE9IGZ2KSB7Ci8vICAgICAgICAgICAgICAgIGZhW2Z2XSA9IGZ1OwovLyAgICAgICAgICAgICAgICBzdW1bZnVdICs9IHN1bVtmdl07Ci8vICAgICAgICAgICAgICAgIGFbZnVdICs9IGFbZnZdOwovLyAgICAgICAgICAgIH0KLy8gICAgICAgIH1lbHNlIGlmKGsgPT0gMil7Ci8vICAgICAgICAgICAgY2luID4+IHY7Ci8vICAgICAgICAgICAgaW50IGZ1ID0gZmluZCh1KTsKLy8gICAgICAgICAgICBhW2Z1XSArPSB2ICogc3VtW2Z1XTsKLy8gICAgICAgIH1lbHNlewovLyAgICAgICAgICAgIGNvdXQgPDwKLy8gICAgICAgIH0KLy8gICAgfQovLyAgICByZXR1cm4gMDsKLy99CgoKI2luY2x1ZGUgImlvc3RyZWFtIgojaW5jbHVkZSAibWFwIgp1c2luZyBuYW1lc3BhY2Ugc3RkOwpjb25zdCBpbnQgTiA9IDJlNSArIDEwOwppbnQgYVtOXSAsIHN1bSA9IDA7CmludCBmYVtOXSAsIGJbTl07CmludCBuICwgazsKbWFwPGludCxpbnQ+IG1hcDE7CnZvaWQgSW5pdCgpewogICAgZm9yKGludCBpID0gMSA7IGkgPD0gbjtpKyspIHsKICAgICAgICBmYVtpXSA9IGk7CiAgICAgICAgYltpXSA9IDE7CiAgICB9Cn0KaW50IGZpbmQoaW50IHgpewogICAgcmV0dXJuIGZhW3hdID09IHggPyB4IDogZmluZChmYVt4XSk7Cn0KaW50IG1haW4oKXsKICAgIGNpbiA+PiBuID4+IGs7CiAgICBmb3IoaW50IGkgPSAxIDsgaSA8PSBuO2krKyl7CiAgICAgICAgY2luID4+IGFbaV07CiAgICAgICAgaWYoYVtpXSA9PSBpKSBzdW0rKzsKICAgIH0KICAgIGlmKGsgPT0gbiAtIDEpIGNvdXQgPDwgLTE7CiAgICBlbHNlewogICAgICAgIGlmKHN1bSA+PSBrKXsKICAgICAgICAgICAgaWYoKHN1bSAtIGspICUgMiA9PSAwKXsKICAgICAgICAgICAgICAgIGNvdXQgPDwgKHN1bSAtIGspIC8gMjsKICAgICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgICAgICBjb3V0IDw8IChzdW0gLSBrKSAvIDIgKyAxOwogICAgICAgICAgICB9CiAgICAgICAgfWVsc2V7CiAgICAgICAgICAgIEluaXQoKTsKICAgICAgICAgICAgZm9yKGludCBpID0gMSA7IGkgPD0gbjtpKyspewogICAgICAgICAgICAgICAgaWYoYVtpXSAhPSBpICYmIGZhW2ldID09IGkpewogICAgICAgICAgICAgICAgICAgIGludCB6ID0gYVtpXTsKICAgICAgICAgICAgICAgICAgICB3aGlsZSh6ICE9IGkpewogICAgICAgICAgICAgICAgICAgICAgICBpbnQgZnogPSBmaW5kKHopOwogICAgICAgICAgICAgICAgICAgICAgICBpbnQgZmkgPSBmaW5kKGFbel0pOwogICAgICAgICAgICAgICAgICAgICAgICBpZihmeiAhPSBmaSl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmYVtmaV0gPSBmejsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJbZnpdICs9IGJbZmldOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIHogPSBhW3pdOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBtYXAxW2Jbel1dKys7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaW50IGFucyA9IDA7CiAgICAgICAgICAgIGsgLT0gc3VtOwogICAgICAgICAgICBmb3IoYXV0byBpIDogbWFwMSl7CiAgICAgICAgICAgICAgICBpZihpLmZpcnN0ID09IDEpIGNvbnRpbnVlOwogICAgICAgICAgICAgICAgaWYoayA8PSBpLmZpcnN0ICogaS5zZWNvbmQpewogICAgICAgICAgICAgICAgICAgIGFucyArPSAoayAvIGkuZmlyc3QpICogKGkuZmlyc3QgLSAxKSArIChrICUgaS5maXJzdCk7CiAgICAgICAgICAgICAgICAgICAgayA9IDA7CiAgICAgICAgICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgICAgICAgICBhbnMgKz0gKGkuZmlyc3QgLSAxKSAqIGkuc2Vjb25kOwogICAgICAgICAgICAgICAgICAgIGsgLT0gaS5maXJzdCAqIGkuc2Vjb25kOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYoayA9PSAwKWJyZWFrOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGNvdXQgPDwgYW5zOwogICAgICAgIH0KICAgIH0KfQoKCi8vI2luY2x1ZGUgImlvc3RyZWFtIgovL3VzaW5nIG5hbWVzcGFjZSBzdGQ7Ci8vY29uc3QgaW50IE4gPSAyZTUgKyAxMDsKLy9pbnQgYVtOXSAsIGRwW05dWzNdOwovL2ludCBtYWluKCl7Ci8vICAgIGludCBuICwgbSAsIGI7Ci8vICAgIGNpbiA+PiBuID4+IG0gPj4gYjsKLy8gICAgZm9yKGludCBpID0gMSA7IGkgPD0gbjtpKyspewovLyAgICAgICAgY2luID4+IGFbaV07Ci8vICAgIH0KLy8gICAgZm9yKGludCBpID0gMSA7IGkgPD0gbjtpKyspewovLyAgICAgICAgZHBbaV1bMF0gPSBkcFtpIC0gMV1bMF0gKyBhW2ldOwovLyAgICAgICAgZHBbaV1bMV0gPSBkcFtpIC0gXQovLyAgICB9Ci8vfQ=="}]