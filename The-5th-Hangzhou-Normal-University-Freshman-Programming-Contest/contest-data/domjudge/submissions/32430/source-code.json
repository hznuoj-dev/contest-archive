[{"id":"32430","submission_id":"32430","filename":"main.cpp","source":"Ly8jaW5jbHVkZSA8aW9zdHJlYW0+Ci8vdXNpbmcgbmFtZXNwYWNlIHN0ZDsKLy9jb25zdCBpbnQgTiA9IDJlNSArIDEwOwovL2xvbmcgbG9uZyBxcG93KGxvbmcgbG9uZyBhICwgbG9uZyBsb25nIG4gLCBsb25nIGxvbmcgbW9kKXsKLy8gICAgbG9uZyBsb25nIGFucyA9IDE7Ci8vICAgIHdoaWxlKG4pewovLyAgICAgICAgaWYobiAmIDEpewovLyAgICAgICAgICAgIGFucyA9IGFucyAqIGEgJSBtb2Q7Ci8vICAgICAgICB9Ci8vICAgICAgICBuID4+PSAxOwovLyAgICAgICAgYSA9IGEgKiBhICUgbW9kOwovLyAgICB9Ci8vICAgIHJldHVybiBhbnM7Ci8vfQovL2ludCBmYVtOXSAsIGFbTl0gLCBzdW1bTl0gLCBiW05dOwovL2ludCBuICwgcTsKLy92b2lkIEluaXQoKXsKLy8gICAgZm9yKGludCBpID0gMSA7IGkgPD0gbjtpKyspIHsKLy8gICAgICAgIGZhW2ldID0gaTsKLy8gICAgICAgIHN1bVtpXSA9IDE7Ci8vICAgIH0KLy99Ci8vaW50IGZpbmQoaW50IHgpewovLyAgICByZXR1cm4gZmFbeF0gPT0geCA/IHggOiBmaW5kKGZhW3hdKTsKLy99Ci8vaW50IG1haW4oKSB7Ci8vICAgIGNpbiA+PiBuID4+IHE7Ci8vICAgIEluaXQoKTsKLy8gICAgZm9yKGludCBpID0gMSA7IGkgPD0gbjtpKyspewovLyAgICAgICAgY2luID4+IGJbaV07Ci8vICAgICAgICBhW2ldID0gYltpXTsKLy8gICAgfQovLyAgICBmb3IoaW50IGkgPSAxIDsgaSA8PSBxO2krKyl7Ci8vICAgICAgICBpbnQgayAsIHUgLCB2OwovLyAgICAgICAgY2luID4+IGsgPj4gdTsKLy8gICAgICAgIGlmKGsgPT0gMSl7Ci8vICAgICAgICAgICAgY2luID4+IHY7Ci8vICAgICAgICAgICAgaW50IGZ1ID0gZmluZCh1KTsKLy8gICAgICAgICAgICBpbnQgZnYgPSBmaW5kKHYpOwovLyAgICAgICAgICAgIGlmKGZ1ICE9IGZ2KSB7Ci8vICAgICAgICAgICAgICAgIGZhW2Z2XSA9IGZ1OwovLyAgICAgICAgICAgICAgICBzdW1bZnVdICs9IHN1bVtmdl07Ci8vICAgICAgICAgICAgICAgIGFbZnVdICs9IGFbZnZdOwovLyAgICAgICAgICAgIH0KLy8gICAgICAgIH1lbHNlIGlmKGsgPT0gMil7Ci8vICAgICAgICAgICAgY2luID4+IHY7Ci8vICAgICAgICAgICAgaW50IGZ1ID0gZmluZCh1KTsKLy8gICAgICAgICAgICBhW2Z1XSArPSB2ICogc3VtW2Z1XTsKLy8gICAgICAgIH1lbHNlewovLyAgICAgICAgICAgIGNvdXQgPDwKLy8gICAgICAgIH0KLy8gICAgfQovLyAgICByZXR1cm4gMDsKLy99CgovLyNpbmNsdWRlICJpb3N0cmVhbSIKLy8jaW5jbHVkZSAidmVjdG9yIgovLyNpbmNsdWRlICJtYXAiCi8vdXNpbmcgbmFtZXNwYWNlIHN0ZDsKLy9jb25zdCBpbnQgTiA9IDJlNSArIDEwOwovL3ZlY3RvcjxwYWlyPGludCxpbnQ+PiB2ZWNbTl07Ci8vbWFwPGludCxpbnQ+IG1hcDE7Ci8vaW50IGRmcyhpbnQgdSAsIGludCBmYSAsaW50IHgpewovLyAgICBpbnQgYW5zID0geDsKLy8gICAgZm9yKGF1dG8mW3YgLCB3XSA6IHZlY1t1XSl7Ci8vICAgICAgICBpZih2ID09IGZhKSBjb250aW51ZTsKLy8gICAgICAgIGFucyBePSBkZnModiAsIHUgLCB4IF4gdyk7Ci8vICAgIH0KLy8gICAgcmV0dXJuIGFuczsKLy99Ci8vaW50IG1haW4oKXsKLy8gICAgaW9zOjpzeW5jX3dpdGhfc3RkaW8oZmFsc2UpOwovLyAgICBjaW4udGllKDApOwovLyAgICBjb3V0LnRpZSgwKTsKLy8gICAgaW50IG4gLCBxOwovLyAgICBjaW4gPj4gbjsKLy8gICAgZm9yKGludCBpID0gMSA7IGkgPD0gbiAtIDE7aSsrKXsKLy8gICAgICAgIGludCB1ICwgdiAsIHc7Ci8vICAgICAgICBjaW4gPj4gdSA+PiB2ID4+IHc7Ci8vICAgICAgICB2ZWNbdV0ucHVzaF9iYWNrKHt2ICwgd30pOwovLyAgICAgICAgdmVjW3ZdLnB1c2hfYmFjayh7dSAsIHd9KTsKLy8gICAgfQovLyAgICBjaW4gPj4gcTsKLy8gICAgd2hpbGUocS0tKXsKLy8gICAgICAgIGludCB1ICwgeDsKLy8gICAgICAgIGNpbiA+PiB1ID4+IHg7Ci8vICAgICAgICBjb3V0IDw8IGRmcyh1ICwgdSAsIHgpIDw8IGVuZGw7Ci8vICAgIH0KLy99CgojaW5jbHVkZSAiaW9zdHJlYW0iCiNpbmNsdWRlICJtYXAiCiNpbmNsdWRlICJzdGFjayIKdXNpbmcgbmFtZXNwYWNlIHN0ZDsKY29uc3QgaW50IE4gPSAyZTUgKyAxMDsKaW50IGFbTl0sIG47Cm1hcDxpbnQsaW50PiBtYXAxOwpib29sIGNoZWNrKGludCBudW0pewogICAgc3RhY2s8aW50PiBzOwogICAgZm9yKGludCBpID0gMSA7IGkgPD0gbjtpKyspewogICAgICAgIGlmKGFbaV0gPCBudW0pewogICAgICAgICAgICBzLnB1c2goYVtpXSk7CiAgICAgICAgfWVsc2UgaWYoYVtpXSA+IG51bSl7CiAgICAgICAgICAgIHMucG9wKCk7CiAgICAgICAgfQogICAgfQogICAgaWYocy5lbXB0eSgpKSByZXR1cm4gdHJ1ZTsKICAgIGVsc2UgcmV0dXJuIGZhbHNlOwp9CmludCBtYWluKCl7CiAgICBjaW4gPj4gbjsKICAgIGZvcihpbnQgaSA9IDEgOyBpIDw9IG47aSsrKSB7CiAgICAgICAgY2luID4+IGFbaV07CiAgICAgICAgbWFwMVthW2ldXSsrOwogICAgfQogICAgaW50IHN1bSA9IDAgLCBhbnMgPSAwOwogICAgaW50IGxhc3QgPSAwOwogICAgZm9yKGF1dG8gaSA6IG1hcDEpewogICAgICAgIGlmKG4gLSBpLnNlY29uZCAtIHN1bSA9PSBzdW0pIHsKICAgICAgICAgICAgaWYoY2hlY2soaS5maXJzdCkpIGFucyArPSAxOwogICAgICAgIH0KICAgICAgICBlbHNlIGlmKG4gLSBzdW0gLSBpLnNlY29uZCA9PSBzdW0gKyBpLnNlY29uZCAmJiBjaGVjayhpLmZpcnN0ICsgMSkpIHsKICAgICAgICAgICAgbGFzdCA9IGkuZmlyc3QgKyAxOwogICAgICAgIH0KICAgICAgICBlbHNlIGlmKG4gLSBzdW0gPT0gc3VtICYmIGxhc3QgIT0gMCAmJiBjaGVjayhpLmZpcnN0IC0gMSkpIHsKICAgICAgICAgICAgYW5zICs9IGkuZmlyc3QgLSBsYXN0OwogICAgICAgIH0KICAgICAgICBzdW0gKz0gaS5zZWNvbmQ7CiAgICB9CiAgICBjb3V0IDw8IGFuczsKfQ=="}]