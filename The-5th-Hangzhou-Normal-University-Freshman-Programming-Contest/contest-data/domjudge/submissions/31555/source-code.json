[{"id":"31555","submission_id":"31555","filename":"A.cpp","source":"I2luY2x1ZGUgPGlvc3RyZWFtPg0KI2luY2x1ZGUgPGFsZ29yaXRobT4NCiNpbmNsdWRlIDxtYXA+DQp1c2luZyBuYW1lc3BhY2Ugc3RkOw0KY29uc3QgaW50IE4gPSAyZTUgKyAxMDsNCmludCBhW05dLCBiW05dOw0KbWFwPGludCwgaW50PiBtcDsNCmludCBuOw0KDQpib29sIGNoZWNrKGludCB4KSB7DQogICAgaW50IHN1bSA9IDA7DQogICAgZm9yKGludCBpID0gMTsgaSA8PSBuOyBpKyspIHsNCiAgICAgICAgaWYoYVtpXSA8IHgpICAgIHN1bSsrOw0KICAgICAgICBlbHNlIGlmKGFbaV0gPiB4KSAgICBzdW0tLTsNCiAgICAgICAgaWYoc3VtIDwgMCkgcmV0dXJuIGZhbHNlOw0KICAgIH0NCiAgICByZXR1cm4gdHJ1ZTsNCn0NCg0KaW50IG1haW4oKQ0Kew0KICAgIA0KICAgIHNjYW5mKCIlZCIsICZuKTsNCiAgICBmb3IoaW50IGkgPSAxOyBpIDw9IG47IGkrKykgew0KICAgICAgICBzY2FuZigiJWQiLCAmYVtpXSk7DQogICAgICAgIGJbaV0gPSBhW2ldOw0KICAgICAgICBtcFthW2ldXSsrOw0KICAgIH0NCiAgICBzb3J0KGIgKyAxLCBiICsgbiArIDEpOw0KICAgIGludCBwID0gKG4gKyAxKSAvIDIsIG1pZCA9IGJbcF07DQogICAgLy8gcHJpbnRmKCI6JWRcbiIsIG1pZCk7DQogICAgaWYobiAmIDEpIHsNCiAgICAgICAgaWYobXBbbWlkXSAlIDIgPT0gMCB8fCAhY2hlY2sobWlkKSkgICAgew0KICAgICAgICAgICAgcHJpbnRmKCIwIik7DQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICBwcmludGYoIjEiKTsNCiAgICAgICAgfQ0KICAgICAgICByZXR1cm4gMDsNCiAgICB9IGVsc2Ugew0KICAgICAgICBpZihwICsgMSA8PSBuICYmIGJbcCsxXSA+IG1pZCArIDEpIHsNCiAgICAgICAgICAgIGlmKGNoZWNrKG1pZCArIDEpKSAgew0KICAgICAgICAgICAgICAgIHByaW50ZigiJWQiLCBiW3ArMV0gLSBtaWQgLSAxKTsNCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgcHJpbnRmKCIwIik7DQogICAgICAgICAgICB9DQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICBpZihjaGVjayhtaWQpKSAgcHJpbnRmKCIxIik7DQogICAgICAgICAgICBlbHNlICAgIHByaW50ZigiMCIpOw0KICAgICAgICB9DQogICAgfQ0KDQogICAgcmV0dXJuIDA7DQp9"}]