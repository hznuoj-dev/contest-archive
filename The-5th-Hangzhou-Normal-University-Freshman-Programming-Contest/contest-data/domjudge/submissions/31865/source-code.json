[{"id":"31865","submission_id":"31865","filename":"A.cpp","source":"I2luY2x1ZGUgPGlvc3RyZWFtPg0KI2luY2x1ZGUgPG1hcD4NCiNpbmNsdWRlIDx2ZWN0b3I+DQoNCnVzaW5nIG5hbWVzcGFjZSBzdGQ7DQoNCmNvbnN0IGludCBOID0gMjAwMDEwOw0KaW50IG47DQppbnQgYVtOXTsNCm1hcDxpbnQsIGludD4gbXA7DQp2ZWN0b3I8aW50PiBwcDsNCg0KYm9vbCBjaGVja18xKGludCB4KQ0Kew0KICAgIGludCBjbnQgPSAwOw0KICAgIGZvciAoaW50IGkgPSAwOyBpIDwgbjsgaSsrKQ0KICAgIHsNCiAgICAgICAgaWYgKGFbaV0gPCB4KQ0KICAgICAgICAgICAgY250Kys7DQogICAgICAgIGlmIChhW2ldID4geCkNCiAgICAgICAgICAgIGNudC0tOw0KICAgICAgICBpZiAoY250IDwgMCkNCiAgICAgICAgICAgIHJldHVybiBmYWxzZTsNCiAgICB9DQogICAgcmV0dXJuIHRydWU7DQp9DQoNCmludCBtYWluKCkNCnsNCiAgICBzY2FuZigiJWQiLCAmbik7DQogICAgZm9yIChpbnQgaSA9IDA7IGkgPCBuOyBpKyspDQogICAgew0KICAgICAgICBzY2FuZigiJWQiLCAmYVtpXSk7DQogICAgICAgIG1wW2FbaV1dKys7DQogICAgfQ0KICAgIGZvciAoaW50IGkgPSAxOyBpIDw9IDJlNTsgaSsrKQ0KICAgIHsNCiAgICAgICAgaWYgKChuIC0gbXBbaV0pICUgMiA9PSAwICYmIG1wW2kgLSAxXSA9PSAobiAtIG1wW2ldKSAvIDIpDQogICAgICAgICAgICBwcC5wdXNoX2JhY2soaSk7DQogICAgICAgIG1wW2ldID0gbXBbaSAtIDFdICsgbXBbaV07DQogICAgfQ0KICAgIGlmIChwcC5zaXplKCkgPT0gMCkNCiAgICB7DQogICAgICAgIHByaW50ZigiJWQiLCAwKTsNCiAgICAgICAgcmV0dXJuIDA7DQogICAgfQ0KICAgIGludCBsID0gMCwgciA9IHBwLnNpemUoKTsNCiAgICB3aGlsZSAobCA8IHIpDQogICAgew0KICAgICAgICBpbnQgbWlkID0gKGwgKyByKSAvIDI7DQogICAgICAgIGlmIChjaGVja18xKHBwW21pZF0pKQ0KICAgICAgICAgICAgciA9IG1pZDsNCiAgICAgICAgZWxzZQ0KICAgICAgICAgICAgbCA9IG1pZCArIDE7DQogICAgfQ0KICAgIGludCBsMiA9IDAsIHIyID0gcHAuc2l6ZSgpOw0KICAgIHdoaWxlIChsMiA8IHIyKQ0KICAgIHsNCiAgICAgICAgaW50IG1pZCA9IChsMiArIHIyICsgMSkgLyAyOw0KICAgICAgICBpZiAoY2hlY2tfMShwcFttaWRdKSkNCiAgICAgICAgICAgIGwyID0gbWlkOw0KICAgICAgICBlbHNlDQogICAgICAgICAgICByMiA9IG1pZCAtIDE7DQogICAgfQ0KICAgIHByaW50ZigiJWQiLCBsMiAtIGwgKyAxKTsNCiAgICByZXR1cm4gMDsNCn0NCg=="}]