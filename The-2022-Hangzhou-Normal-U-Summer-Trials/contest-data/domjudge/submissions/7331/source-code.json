[{"id":"7335","submission_id":"7331","filename":"main.cpp","source":"I2luY2x1ZGUgPGJpdHMvc3RkYysrLmg+CnVzaW5nIG5hbWVzcGFjZSBzdGQ7CiNkZWZpbmUgbGwgbG9uZyBsb25nCmNvbnN0IHNpZ25lZCBJTkYgPSAxZTk7CmNvbnN0IHNpZ25lZCBtYXhuID0gMTAwMDAxOTsKY29uc3Qgc2lnbmVkIG1vZGUgPSAxZTkgKyA3OwoKaW50IG47CnN0cmluZyBhWzEwMF07CmludCBmWzUyXVs1Ml1bNTJdWzUyXTsKCmludCB2WzRdWzJdID0ge3swLCAxfSwgezAsIC0xfSwgezEsIDB9LCB7LTEsIDB9fTsKCmludCBhbnMgPSAxZTk7Ci8vdm9pZCBkZnMoaW50IHgxLCBpbnQgeTEsIGludCB4MiwgaW50IHkyLCBpbnQgY250KXsKLy8gICAgaWYoY250ID4gZlt4MV1beTFdW3gyXVt5Ml0pIHJldHVybjsKLy8gICAgaWYoY250ID4gYW5zKSByZXR1cm47Ci8vICAgIGlmKHgxID09IHgyICYmIHkxID09IHkyKSBhbnMgPSBtaW4oYW5zLCBjbnQpOwovLyAgICBmW3gxXVt5MV1beDJdW3kyXSA9IGNudDsKLy8gICAgZm9yKGludCBpPTA7aTw0O2krKyl7Ci8vICAgICAgICBpbnQgeHgxID0geDEgKyB2W2ldWzBdLCB5eTEgPSB5MSArIHZbaV1bMV0sIHh4MiA9IHgyICsgdltpXVswXSwgeXkyID0geTIgKyB2W2ldWzFdOwovLyAgICAgICAgaWYoeHgxIDwgMSB8fCB4eDEgPiBuIHx8IHl5MSA8IDEgfHwgeXkxID4gbiB8fCBhW3h4MV1beXkxXSA9PSAnKicpewovLyAgICAgICAgICAgIHh4MSA9IHgxLCB5eTEgPSB5MTsKLy8gICAgICAgIH0KLy8gICAgICAgIGlmKHh4MiA8IDEgfHwgeHgyID4gbiB8fCB5eTIgPCAxIHx8IHl5MiA+IG4gfHwgYVt4eDJdW3l5Ml0gPT0gJyonKXsKLy8gICAgICAgICAgICB4eDIgPSB4MiwgeXkyID0geTI7Ci8vICAgICAgICB9Ci8vICAgICAgICBkZnMoeHgxLCB5eTEsIHh4MiwgeXkyLCBjbnQrMSk7Ci8vICAgIH0KLy99Cgp2b2lkIHNvbHZlKCl7CiAgICBjaW4gPj4gbjsKICAgIGludCB4YSA9IC0xLCB5YSA9IC0xLCB4YiA9IC0xLCB5YiA9IC0xOwogICAgZm9yKGludCBpPTE7aTw9bjtpKyspewogICAgICAgIGNpbiA+PiBhW2ldOwogICAgICAgIGFbaV0gPSAnICcgKyBhW2ldOwogICAgICAgIGZvcihpbnQgaj0xO2o8PW47aisrKXsKICAgICAgICAgICAgaWYoYVtpXVtqXSA9PSAnYScpIHhhID0gaSwgeWEgPSBqOwogICAgICAgICAgICBpZihhW2ldW2pdID09ICdiJykgeGIgPSBpLCB5YiA9IGo7CiAgICAgICAgfQogICAgfQogICAgbWVtc2V0KGYsIDB4N2YsIHNpemVvZihmKSk7CgogICAgc3RydWN0IG5vZGV7CiAgICAgICAgaW50IHgxLCB5MSwgeDIsIHkyLCBjbnQ7CiAgICB9OwogICAgcXVldWU8bm9kZT4gcTsKICAgIHEucHVzaCh7eGEsIHlhLCB4YiwgeWIsIDB9KTsKICAgIGZbeGFdW3lhXVt4Yl1beWJdID0gMDsKICAgIHdoaWxlKCFxLmVtcHR5KCkpewogICAgICAgIG5vZGUgcCA9IHEuZnJvbnQoKTsKICAgICAgICBxLnBvcCgpOwogICAgICAgIGZvcihpbnQgaT0wO2k8NDtpKyspewogICAgICAgICAgICBpbnQgeHgxID0gcC54MSArIHZbaV1bMF0sIHl5MSA9IHAueTEgKyB2W2ldWzFdLCB4eDIgPSBwLngyICsgdltpXVswXSwgeXkyID0gcC55MiArIHZbaV1bMV07CiAgICAgICAgICAgIGlmKHh4MSA8IDEgfHwgeHgxID4gbiB8fCB5eTEgPCAxIHx8IHl5MSA+IG4gfHwgYVt4eDFdW3l5MV0gPT0gJyonKXsKICAgICAgICAgICAgICAgIHh4MSA9IHAueDEsIHl5MSA9IHAueTE7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYoeHgyIDwgMSB8fCB4eDIgPiBuIHx8IHl5MiA8IDEgfHwgeXkyID4gbiB8fCBhW3h4Ml1beXkyXSA9PSAnKicpewogICAgICAgICAgICAgICAgeHgyID0gcC54MiwgeXkyID0gcC55MjsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZihmW3h4MV1beXkxXVt4eDJdW3l5Ml0gPD0gcC5jbnQgKyAxKSBjb250aW51ZTsKICAgICAgICAgICAgaWYoeHgxID09IHh4MiAmJiB5eTEgPT0geXkyKXsKICAgICAgICAgICAgICAgIGFucyA9IG1pbihhbnMsIHAuY250KzEpOwogICAgICAgICAgICAgICAgY29udGludWU7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZlt4eDFdW3l5MV1beHgyXVt5eTJdID0gcC5jbnQgKyAxOwogICAgICAgICAgICBxLnB1c2goe3h4MSwgeXkxLCB4eDIsIHl5MiwgcC5jbnQrMX0pOwogICAgICAgIH0KICAgIH0KICAgIGlmKGFucyA+IDFlOS0xKSBjb3V0IDw8ICJubyBzb2x1dGlvblxuIjsKICAgIGVsc2UgY291dCA8PCBhbnMgPDwgJ1xuJzsKfQoKc2lnbmVkIG1haW4oKSB7CiNpZmRlZiBMT0NBTAogICAgZnJlb3BlbigieC5pbiIsICJyIiwgc3RkaW4pOwojZW5kaWYKICAgIGlvczo6c3luY193aXRoX3N0ZGlvKGZhbHNlKTsKICAgIGNpbi50aWUobnVsbHB0cik7CiAgICBjb3V0LnRpZShudWxscHRyKTsKCiAgICBzaWduZWQgVCA9IDE7Ci8vICAgIGNpbiA+PiBUOwogICAgd2hpbGUoVC0tKSBzb2x2ZSgpOwogICAgcmV0dXJuIDA7Cn0="}]