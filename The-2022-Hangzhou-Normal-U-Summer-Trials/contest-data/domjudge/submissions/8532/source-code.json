[{"id":"8536","submission_id":"8532","filename":"g.cpp","source":"I2luY2x1ZGU8Yml0cy9zdGRjKysuaD4NCnVzaW5nIG5hbWVzcGFjZSBzdGQ7DQojZGVmaW5lIGludCBsb25nIGxvbmcNCmNvbnN0IGludCBtYXhuID0gMWU1ICsgNTsNCg0KaW50IHNpZ25hW21heG4gPDwgMl0sIHNpZ25iW21heG4gPDwgMl0sIGVbbWF4biA8PCAyXSwgZWVbbWF4biA8PCAyXSwgbm93W21heG4gPDwgMl0sIGFbbWF4bl07DQoNCnZvaWQgaGVuc2hpbihpbnQgcnQpew0KCWVbcnRdID0gX19nY2QoZVtydCA8PCAxXSwgZVtydCA8PCAxIHwgMV0pOw0KCWVlW3J0XSA9IF9fZ2NkKGVlW3J0IDw8IDFdLCBlZVtydCA8PCAxIHwgMV0pOw0KfQ0KDQp2b2lkIGJ1aWxkKGludCBsLCBpbnQgciwgaW50IHJ0KXsNCglzaWduYVtydF0gPSAxOw0KCXNpZ25iW3J0XSA9IDE7DQoJaWYobCA9PSByKXsNCgkJZVtydF0gPSAxOw0KCQlub3dbcnRdID0gMTsNCgkJcmV0dXJuOw0KCX0NCglpbnQgbSA9IGwgKyByID4+IDE7DQoJYnVpbGQobCwgbSwgcnQgPDwgMSk7DQoJYnVpbGQobSArIDEsIHIsIHJ0IDw8IDEgfCAxKTsNCgloZW5zaGluKHJ0KTsNCn0NCg0Kdm9pZCBkb3duKGludCBydCl7DQoJaWYoc2lnbmFbcnRdICE9IDEpew0KCQlzaWduYVtydCA8PCAxXSAqPSBzaWduYVtydF07DQoJCXNpZ25hW3J0IDw8IDEgfCAxXSAqPSBzaWduYVtydF07DQoJCWVbcnQgPDwgMV0gKj0gc2lnbmFbcnRdOw0KCQllW3J0IDw8IDEgfCAxXSAqPSBzaWduYVtydF07DQoJCXNpZ25hW3J0XSA9IDE7DQoJfQ0KCQ0KCWlmKHNpZ25iW3J0XSAhPSAxKXsNCgkJc2lnbmJbcnQgPDwgMV0gKj0gc2lnbmJbcnRdOw0KCQlzaWduYltydCA8PCAxIHwgMV0gKj0gc2lnbmJbcnRdOw0KCQllW3J0IDw8IDFdIC89IHNpZ25iW3J0XTsNCgkJZVtydCA8PCAxIHwgMV0gLz0gc2lnbmJbcnRdOw0KCQlzaWduYltydF0gPSAxOw0KCX0NCn0NCg0Kdm9pZCBmbGlwKGludCBsLCBpbnQgciwgaW50IHAsIGludCBydCl7DQoJaWYobCA9PSByKXsNCgkJaWYoZWVbcnRdKXsNCgkJCWVbcnRdID0gZWVbcnRdOw0KCQkJZWVbcnRdID0gMDsNCgkJfSANCgkJZWxzZSBlZVtydF0gPSBlW3J0XTsNCgkJcmV0dXJuOw0KCX0NCglkb3duKHJ0KTsNCglpbnQgbSA9IGwgKyByID4+IDE7DQoJaWYocCA8PSBtKSBmbGlwKGwsIG0sIHAsIHJ0IDw8IDEpOw0KCWVsc2UgZmxpcChtICsgMSwgciwgcCwgcnQgPDwgMSB8IDEpOw0KCWhlbnNoaW4ocnQpOw0KfQ0KDQoNCg0Kdm9pZCBtdWwoaW50IGwsaW50IHIsIGludCBhbCwgaW50IGFyLCBpbnQgeCwgaW50IHJ0KXsNCglpZihhbCA8PSBsICYmIHIgPD0gYXIpew0KCQllW3J0XSAqPSB4Ow0KCQlzaWduYVtydF0gKj0geDsNCgkJcmV0dXJuOw0KCX0NCglpbnQgbSA9IGwgKyByID4+IDE7DQoJZG93bihydCk7DQoJaWYoYWwgPD0gbSkgbXVsKGwsIG0sIGFsLCBhciwgeCwgcnQgPDwgMSk7DQoJaWYoYXIgPiBtKSBtdWwobSArIDEsIHIsIGFsLCBhciwgeCwgcnQgPDwgMSB8IDEpOw0KCWhlbnNoaW4ocnQpOw0KfQ0KDQp2b2lkIGRpdihpbnQgbCwgaW50IHIsIGludCBhbCwgaW50IGFyLCBpbnQgeCwgaW50IHJ0KXsNCglpZihhbCA8PSBsICYmIHIgPD0gYXIpew0KCQllW3J0XSAvPSB4Ow0KCQlzaWduYltydF0gKj0geDsNCgkJcmV0dXJuOw0KCX0NCglpbnQgbSA9IGwgKyByID4+IDE7DQoJZG93bihydCk7DQoJaWYoYWwgPD0gbSkgZGl2KGwsIG0sIGFsLCBhciwgeCwgcnQgPDwgMSk7DQoJaWYoYXIgPiBtKSBkaXYobSArIDEsIHIsIGFsLCBhciwgeCwgcnQgPDwgMSB8IDEpOw0KCWhlbnNoaW4ocnQpOw0KfQ0KDQppbnQgYXNrKGludCBsLCBpbnQgciwgaW50IGFsLCBpbnQgYXIsIGludCBydCl7DQoJaWYoYWwgPD0gbCAmJiByIDw9IGFyKSByZXR1cm4gZVtydF07DQoJaW50IGFucyA9IDA7DQoJaW50IG0gPSBsICsgciA+PiAxOw0KCWRvd24ocnQpOw0KCWlmKGFsIDw9IG0pIGFucyA9IGFzayhsLCBtLCBhbCwgYXIsIHJ0IDw8IDEpOw0KCWlmKGFyID4gbSkgYW5zID0gX19nY2QoYW5zLCBhc2sobSArIDEsIHIsIGFsLCBhciwgcnQgPDwgMSB8IDEpKTsNCgloZW5zaGluKHJ0KTsNCglyZXR1cm4gYW5zOw0KfQ0KDQppbnQgYXNrayhpbnQgbCwgaW50IHIsIGludCBhbCwgaW50IGFyLCBpbnQgcnQpew0KCWlmKGFsIDw9IGwgJiYgciA8PSBhcikgcmV0dXJuIGVlW3J0XTsNCglpbnQgYW5zID0gMDsNCglpbnQgbSA9IGwgKyByID4+IDE7DQoJZG93bihydCk7DQoJaWYoYWwgPD0gbSkgYW5zID0gYXNrayhsLCBtLCBhbCwgYXIsIHJ0IDw8IDEpOw0KCWlmKGFyID4gbSkgYW5zID0gX19nY2QoYW5zLCBhc2trKG0gKyAxLCByLCBhbCwgYXIsIHJ0IDw8IDEgfCAxKSk7DQoJaGVuc2hpbihydCk7DQoJcmV0dXJuIGFuczsNCn0NCg0Kdm9pZCBzb2x2ZSgpew0KCWludCBuLCBtOyBjaW4gPj4gbiA+PiBtOw0KCWJ1aWxkKDEsIG4sIDEpOw0KCXdoaWxlKG0tLSl7DQoJCXN0cmluZyBlOyBjaW4gPj4gZTsNCgkJaWYoZVswXSA9PSAnbScpew0KCQkJaW50IGEsIGIsIGM7IGNpbiA+PiBhID4+IGIgPj4gYzsNCgkJCW11bCgxLCBuLCBhLCBiLCBjLCAxKTsNCgkJfQ0KCQllbHNlIGlmKGVbMF0gPT0gJ2QnKXsNCgkJCWludCBhLCBiLCBjOyBjaW4gPj4gYSA+PiBiID4+IGM7DQoJCQlpbnQgc2lnbiA9IGFzaygxLCBuLCBhLCBiLCAxKTsNCgkJCWludCBzcyA9IGFza2soMSwgbiwgYSwgYiwgMSk7DQoJCQlzaWduID0gX19nY2Qoc2lnbiwgc3MpOw0KCQkJLy9jb3V0IDw8IHNpZ24gPDwgIiAiIDw8IHNzIDw8ICIgIjsNCgkJCWlmKHNpZ24gPj0gYyAmJiAoc2lnbiAlIGMpID09IDApew0KCQkJCWNvdXQgPDwgIllFUyIgPDwgZW5kbDsNCgkJCQlkaXYoMSwgbiwgYSwgYiwgYywgMSk7DQoJCQl9DQoJCQllbHNlIGNvdXQgPDwgIk5PIiA8PCBlbmRsOw0KIAkJfQ0KIAkJZWxzZXsNCiAJCQlpbnQgcDsgY2luID4+IHA7DQogCQkJZmxpcCgxLCBuLCBwLCAxKTsNCiAJCX0NCgl9DQp9DQoNCnNpZ25lZCBtYWluKCl7DQoJaW9zOjpzeW5jX3dpdGhfc3RkaW8oZmFsc2UpOw0KCWludCB0ID0gMTsNCgkvL2NpbiA+PiB0Ow0KCXdoaWxlKHQtLSl7DQoJCXNvbHZlKCk7DQoJfQ0KCXJldHVybiAwOw0KfQ0K"}]