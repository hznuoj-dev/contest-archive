[{"id":"8381","submission_id":"8377","filename":"main.cpp","source":"I2luY2x1ZGU8Yml0cy9zdGRjKysuaD4KdXNpbmcgbmFtZXNwYWNlIHN0ZDsKaW50IG1haW4oKXsKI2lmZGVmIEFDTV9MT0NBTAogICAgZnJlb3BlbigiZGF0YS5pbiIsICJyIiwgc3RkaW4pOwogICAgZnJlb3BlbigiZGF0YS5vdXQiLCAidyIsIHN0ZG91dCk7CiNlbmRpZgoKICAgIGludCBxOwogICAgc2NhbmYoIiVkIiwgJnEpOwoKICAgIGNoYXIgZls1MDBdID0geydcMCd9OwogICAgYXV0byBJTklUID0gWyZdKCkgLT4gdm9pZCB7Zm9yKGNoYXIgaSA9ICdhJyAtIDU7aSA8PSAneicgKyAyO2kgKyspIGZbaV0gPSBpO307CiAgICBhdXRvIGZpbmQgPSBbJl0oYXV0byBzZWxmLCBjaGFyIHgpIC0+IGNoYXIge3JldHVybiBmW3hdID0gKGZbeF0gPT0geCA/IGZbeF0gOiBzZWxmKHNlbGYsIGZbeF0pKTt9OwogICAgYXV0byBtZXJnZSA9IFsmXShjaGFyIHgsIGNoYXIgeSkgLT4gdm9pZCB7ZltmaW5kKGZpbmQsIHgpXSA9IGZpbmQoZmluZCwgeSk7fTsKICAgIElOSVQoKTsKCiAgICBzdHJ1Y3Qgbm9kZXtpbnQgb3A7IGNoYXIgeCwgeTt9OwogICAgdmVjdG9yPG5vZGU+IHZlYzsKICAgIGZvcihpbnQgaSA9IDE7aSA8PSBxO2kgKyspewogICAgICAgIGludCBvcDsKICAgICAgICBzY2FuZigiJWQiLCAmb3ApOwogICAgICAgIGNoYXIgeCA9ICdcMCcsIHkgPSAnXDAnOwogICAgICAgIGlmKG9wID09IDEpewogICAgICAgICAgICBzY2FuZigiICVjIiwgJngpOwogICAgICAgIH1lbHNlIGlmKG9wID09IDMpewogICAgICAgICAgICBzY2FuZigiICVjICVjIiwgJngsICZ5KTsKICAgICAgICB9CiAgICAgICAgdmVjLnB1c2hfYmFjayh7b3AsIHgsIHl9KTsKICAgIH0KCiAgICBkZXF1ZTxjaGFyPiBkcTsKICAgIGludCBjbnQgPSAwOwogICAgZm9yKGludCBpID0gcSAtIDE7aSA+PSAwO2kgLS0pewogICAgICAgIGludCBvcCA9IHZlY1tpXS5vcDsKICAgICAgICBjaGFyIHggPSB2ZWNbaV0ueCwgeSA9IHZlY1tpXS55OwogICAgICAgIGlmKG9wID09IDEpewogICAgICAgICAgICBpZihjbnQgPiAwKSBjbnQgLS07CiAgICAgICAgICAgIGVsc2UgZHEucHVzaF9mcm9udCgoY2hhcilmaW5kKGZpbmQsIHgpKTsKICAgICAgICB9ZWxzZSBpZihvcCA9PSAyKXsKICAgICAgICAgICAgY250ICsrOwogICAgICAgIH1lbHNlewogICAgICAgICAgICBtZXJnZSh4LCB5KTsKICAgICAgICB9CiAgICB9CiAgICBpZihkcS5lbXB0eSgpKSBwdXRzKCJUaGUgZmluYWwgc3RyaW5nIGlzIGVtcHR5Iik7CiAgICBlbHNlIGZvcihhdXRvIHYgOiBkcSkgcHJpbnRmKCIlYyIsIHYpOwogICAgcHV0Y2hhcignXG4nKTsKCiAgICByZXR1cm4gMDsKfQ=="}]