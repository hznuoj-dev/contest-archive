[{"id":"8793","submission_id":"8789","filename":"main.cpp","source":"I2luY2x1ZGUgPGJpdHMvc3RkYysrLmg+CnVzaW5nIG5hbWVzcGFjZSAgc3RkOwp0eXBlZGVmIGxvbmcgbG9uZyBsbDsKY29uc3QgaW50IG1heG4gPSAxZTYgKyAxMDsKY29uc3QgaW50IE1PRCA9IDk5ODI0NDM1MzsKY29uc3QgaW50IG1vZCA9IDFlOSArIDc7CmNvbnN0IGxsICBJTkYgPSAxZTE4Owpjb25zdCBpbnQgTiA9IDMwMDE7CnR5cGVkZWYgcGFpcjxkb3VibGUsaW50PiBQSUk7CmxsIHFwb3cobGwgYSwgbGwgYikgewogICAgbGwgcmVzID0gMTsKICAgIHdoaWxlKGIpIHsKICAgICAgICBpZihiICYgMSkgcmVzID0gcmVzICogYSAlIG1vZDsKICAgICAgICBhID0gYSAqIGEgJSBtb2Q7CiAgICAgICAgYiA+Pj0gMTsKICAgIH0KICAgIHJldHVybiByZXM7Cn0Kc3RydWN0IG5vZGV7CiAgICBpbnQgeCwgeTsKfXBbTl07CnZlY3RvcjxwYWlyPGludCxkb3VibGU+PiBhZGpbTl07CmRvdWJsZSBkW05dOwpib29sIHN0W05dOwp2b2lkIGRpamtzdHJhKGludCB1KSB7CiAgICBwcmlvcml0eV9xdWV1ZTxQSUksdmVjdG9yPFBJST4sZ3JlYXRlcjx2b2lkPiA+cTsKICAgIGZvcihpbnQgaSA9IDA7IGkgPD0gMzAwMTsgKytpKSBkW2ldID0gMWUxODsKICAgIGRbdV0gPSAwOwogICAgcS5wdXNoKHtkW3VdLCB1fSk7CiAgICB3aGlsZSghcS5lbXB0eSgpKSB7CiAgICAgICAgYXV0byB0ID0gcS50b3AoKTsKICAgICAgICBxLnBvcCgpOwogICAgICAgIGludCB2ZXI9dC5zZWNvbmQ7CiAgICAgICAgZG91YmxlIGRpcz1kW3Zlcl07CiAgICAgICAgaWYoc3RbdmVyXSljb250aW51ZTsKICAgICAgICBzdFt2ZXJdPSAxOwogICAgICAgIGZvcihhdXRvICZbeCwgeV0gOiBhZGpbdV0pIHsKICAgICAgICAgICAgaWYoZFt4XSA+IGRpcyArIHkpIHsKICAgICAgICAgICAgICAgIGRbeF0gPSBkaXMgKyB5OwogICAgICAgICAgICAgICAgcS5wdXNoKHtkW3hdLCB4fSk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9Cn0KaW50IHYwLCB2MSwgdjIsIHYzLCB2NDsKaW50IGNrKGludCB4LCBpbnQgeSwgaW50IHgxLCBpbnQgeTEpIHsKICAgIGlmKHggPj0gMSAmJiB5ID49IDEgJiYgeDEgPj0gMSAmJiB5MSA+PSAxKSByZXR1cm4gdjE7CiAgICBpZih4IDw9IC0xICYmIHkgPj0gMSAmJiB4MSA8PSAtMSAmJiB5MSA+PSAxKSByZXR1cm4gdjI7CiAgICBpZih4IDw9IC0xICYmIHgxIDw9IC0xICYmIHkgPD0gLTEgJiYgeTEgPD0gLTEpIHJldHVybiB2MzsKICAgIGlmKHggPj0gMSAmJiB4MSA+PSAxICYmIHkgPD0gLTEgJiYgeTEgPD0gLTEpIHJldHVybiB2NDsKICAgIHJldHVybiB2MDsKfQpkb3VibGUgZGlzKGludCB4LCBpbnQgeSwgaW50IHgxLCBpbnQgeTEpIHsKICAgIHJldHVybiBzcXJ0KDEuMCAqICh4IC0geDEpICogKHggLSB4MSkgKyAxLjAgKiAoeSAtIHkxKSAqICh5IC0geTEpKTsKfQp2b2lkIHNvbHZlKCl7CiAgICBpbnQgbjsKICAgIGNpbiA+PiBuOwogICAgY2luID4+IHYxID4+IHYyID4+IHYzID4+IHY0ID4+IHYwOwogICAgaW50IHMsIHQ7CiAgICBjaW4gPj4gcyA+PiB0OwogICAgZm9yKGludCBpID0gMTsgaSA8PSBuOyArK2kpIHsKICAgICAgICBhdXRvICZbeCwgeV0gPSBwW2ldOwogICAgICAgIGNpbiA+PiB4ID4+IHk7CiAgICB9CiAgICBmb3IoaW50IGkgPSAxOyBpIDw9IG47ICsraSkgewogICAgICAgIGZvcihpbnQgaiA9IGkgKyAxOyBqIDw9IG47ICsraikgewogICAgICAgICAgICBpbnQgc3MgPSBjayhwW2ldLngsIHBbaV0ueSwgcFtqXS54LCBwW2pdLnkpOwogICAgICAgICAgICBhZGpbaV0ucHVzaF9iYWNrKHtqLCBkaXMocFtpXS54LCBwW2ldLnksIHBbal0ueCwgcFtqXS54KSAvICgxLjAqc3MpfSk7CiAgICAgICAgfQogICAgfQogICAgZGlqa3N0cmEocyk7CiAgICBjb3V0IDw8IGZpeGVkIDw8IHNldHByZWNpc2lvbig3KSA8PCBkW3RdIDw8ICdcbic7Cgp9CgoKc2lnbmVkIG1haW4oKSB7CiAgICBpb3M6OnN5bmNfd2l0aF9zdGRpbyhmYWxzZSk7CiAgICBjaW4udGllKG51bGxwdHIpOyBjb3V0LnRpZShudWxscHRyKTsKI2lmZGVmIEFDTQogICAgZnJlb3BlbigiaW4udHh0IiwiciIsc3RkaW4pOwogICAgZnJlb3Blbigib3V0LnR4dCIsInciLHN0ZG91dCk7CiNlbmRpZgogICAgaW50IHQgPSAxOwovLyAgICBjaW4gPj4gdDsKICAgIHdoaWxlKHQgLS0pIHNvbHZlKCk7Cn0="}]