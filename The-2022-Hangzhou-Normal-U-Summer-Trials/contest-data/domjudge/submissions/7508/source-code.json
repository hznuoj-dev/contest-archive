[{"id":"7512","submission_id":"7508","filename":"main.cpp","source":"I2luY2x1ZGU8Yml0cy9zdGRjKysuaD4KdXNpbmcgbmFtZXNwYWNlIHN0ZDsKaW50IGFbMjZdOwpzdHJ1Y3QgTm9kZXsKICAgIHN0cmluZyAgc3RyOwp9OwppbnQgbWFpbigpewogICAgc3RyaW5nIHN0cjsKICAgIGdldGxpbmUoY2luLHN0cik7CiAgICBpbnQgbjsKICAgIGZvcihpbnQgaT0wO2k8c3RyLmxlbmd0aCgpO2krKyl7CiAgICAgICAgYVtzdHJbaV0tOTddPWk7CiAgICB9CiAgICBjaW4+Pm47CiAgICBpbnQgazsKICAgIGdldGNoYXIoKTsKICAgIHN0cnVjdCBOb2RlIHhbbl07CiAgICBmb3IoaW50IGk9MDtpPG47aSsrKXsKICAgICAgICBnZXRsaW5lKGNpbix4W2ldLnN0cik7CiAgICB9CiAgICBjaW4+Pms7CiAgICBpbnQgdDsKICAgIGZvcihpbnQgaT0wO2k8bjtpKyspewogICAgICAgIHQ9aTsKICAgICAgICBmb3IoaW50IGo9aSsxO2o8bjtqKyspewogICAgICAgICAgICBpZih4W3RdLnN0ci5sZW5ndGgoKTx4W2pdLnN0ci5sZW5ndGgoKSl7CiAgICAgICAgICAgICAgICBpbnQgZmxhZz0wOwogICAgICAgICAgICAgICAgZm9yKGludCBsPTA7bDx4W3RdLnN0ci5sZW5ndGgoKTtsKyspewogICAgICAgICAgICAgICAgICAgIGlmKHhbdF0uc3RyW2xdIT14W2pdLnN0cltsXSl7CiAgICAgICAgICAgICAgICAgICAgICAgIGZsYWc9MTsKICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYoZmxhZz09MCl7CiAgICAgICAgICAgICAgICAgICAgdD1qOwogICAgICAgICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgICAgICAgICAgaW50IGZsYWcxPTA7CiAgICAgICAgICAgICAgICAgICAgdW5zaWduZWQgbG9uZyBsb25nIGxlbj14W3RdLnN0ci5sZW5ndGgoKTsKICAgICAgICAgICAgICAgICAgICBmb3IoaW50IGw9MDtsPGxlbjtsKyspewogICAgICAgICAgICAgICAgICAgICAgICBpZihhW3hbdF0uc3RyW2xdLTk3XTxhW3hbal0uc3RyW2xdLTk3XSl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IoaW50IG09MDttPGw7bSsrKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZih4W3RdLnN0clttXSE9eFtsXS5zdHJbbV0pewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmbGFnMT0xOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihmbGFnMT09MCl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdD1qOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgICAgIGludCBmbGFnMT0wOwogICAgICAgICAgICAgICAgdW5zaWduZWQgbG9uZyBsb25nIGxlbjsKICAgICAgICAgICAgICAgIGlmKHhbdF0uc3RyLmxlbmd0aCgpPHhbal0uc3RyLmxlbmd0aCgpKWxlbiA9IHhbdF0uc3RyLmxlbmd0aCgpOwogICAgICAgICAgICAgICAgZWxzZSBsZW4gPSB4W2pdLnN0ci5sZW5ndGgoKTsKICAgICAgICAgICAgICAgIGZvcihpbnQgbD0wO2w8bGVuO2wrKyl7CiAgICAgICAgICAgICAgICAgICAgaWYoYVt4W3RdLnN0cltsXS05N108YVt4W2pdLnN0cltsXS05N10pewogICAgICAgICAgICAgICAgICAgICAgICBmb3IoaW50IG09MDttPGw7bSsrKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKHhbdF0uc3RyW21dIT14W2xdLnN0clttXSl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmxhZzE9MTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBpZihmbGFnMT09MCl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0PWo7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBzdHJ1Y3QgTm9kZSB0bXAxPSB4W3RdOwogICAgICAgIHhbdF09eFtpXTsKICAgICAgICB4W2ldPXRtcDE7CiAgICB9CiAgICBpbnQgeHh4OwogICAgZm9yKGludCBpPW4tMSx4eHg9MDt4eHg8ayxpPj0wO3h4eCsrLGktLSl7CiAgICAgICAgY291dDw8eFtpXS5zdHI8PGVuZGw7CiAgICB9CiAgICByZXR1cm4gMDsKfQ=="}]