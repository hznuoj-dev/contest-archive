[{"id":"8778","submission_id":"8774","filename":"2.cpp","source":"I2luY2x1ZGU8aW9zdHJlYW0+DQojaW5jbHVkZTxjc3RyaW5nPg0KI2luY2x1ZGU8YWxnb3JpdGhtPg0KI2luY2x1ZGU8Y3N0ZGlvPg0KI2luY2x1ZGU8dmVjdG9yPg0KdXNpbmcgbmFtZXNwYWNlIHN0ZDsNCnR5cGVkZWYgbG9uZyBsb25nIExMOw0KY29uc3QgaW50IE49NWU1KzU7DQpMTCBzW05dOw0KdmVjdG9yPGludD4gc3VtW05dOw0KaW50IGJzZWFyY2goaW50IGwsaW50IHIsaW50IGspDQp7DQogICAgd2hpbGUobDxyKQ0KICAgIHsNCiAgICAgICAgaW50IG1pZD1sK3IrMT4+MTsNCiAgICAgICAgaWYoc1ttaWRdPj1rKXI9bWlkLTE7DQogICAgICAgIGVsc2UgbD1taWQ7DQogICAgfQ0KICAgIHJldHVybiBsOw0KfQ0KdmVjdG9yPGludD4gYWRkKHZlY3RvcjxpbnQ+JkEsdmVjdG9yPGludD4mQikNCnsNCiAgICBpZihBLnNpemUoKTxCLnNpemUoKSlyZXR1cm4gYWRkKEIsQSk7DQogICAgdmVjdG9yPGludD4gQzsNCiAgICBpbnQgdD0wOw0KICAgIGZvcihpbnQgaT0wO2k8QS5zaXplKCk7aSsrKQ0KICAgIHsNCiAgICAgICAgdCs9QVtpXTsNCiAgICAgICAgaWYoaTxCLnNpemUoKSl0Kz1CW2ldOw0KICAgICAgICBDLnB1c2hfYmFjayh0JTEwKTsNCiAgICAgICAgdC89MTA7DQogICAgfQ0KICAgIGlmKHQpQy5wdXNoX2JhY2sodCk7DQogICAgcmV0dXJuIEM7DQp9DQp2ZWN0b3I8aW50PiBtdWwodmVjdG9yPGludD4mQSxpbnQgYikNCnsNCiAgICB2ZWN0b3I8aW50PiBDOw0KICAgIGludCB0PTA7DQogICAgZm9yKGludCBpPTA7aTxBLnNpemUoKXx8dDtpKyspDQogICAgew0KICAgICAgICBpZihpPEEuc2l6ZSgpKXQrPUFbaV0qYjsNCiAgICAgICAgQy5wdXNoX2JhY2sodCUxMCk7DQogICAgICAgIHQvPTEwOw0KICAgIH0NCiAgICByZXR1cm4gQzsNCn0NCmludCBtYWluKCkNCnsNCiAgICBpbnQgbjsNCiAgICBjaW4+Pm47DQogICAgZm9yKGludCBpPTE7aTw9bjtpKyspDQogICAgew0KICAgICAgICBjaW4+PnNbaV07DQogICAgfQ0KICAgIGZvcihpbnQgaT1uO2k+MTtpLS0pIHNbaV0tPXNbaS0xXTsNCiAgICBzWzFdPTA7DQogICAgZm9yKGludCBpPTI7aTw9bjtpKyspDQogICAgew0KICAgICAgICBMTCB0bXA9c1tpXTsNCiAgICAgICAgdmVjdG9yPGludD4gdjE7DQogICAgICAgIHdoaWxlKHRtcCkNCiAgICAgICAgew0KICAgICAgICAgICAgdjEucHVzaF9iYWNrKHRtcCUxMCk7DQogICAgICAgICAgICB0bXAvPTEwOw0KICAgICAgICB9DQogICAgICAgIHN1bVtpXT1hZGQodjEsc3VtW2ktMV0pOw0KICAgIH0NCiAgICBpbnQgcTsNCiAgICBjaW4+PnE7DQogICAgd2hpbGUocS0tKQ0KICAgIHsNCiAgICAgICAgTEwgbW07DQogICAgICAgIGNpbj4+bW07DQogICAgICAgIGludCB0PWJzZWFyY2goMSxuLG1tKTsNCiAgICAgICAgTEwgdG1wPW1tOw0KICAgICAgICB2ZWN0b3I8aW50PiB2MTsNCiAgICAgICAgd2hpbGUodG1wKQ0KICAgICAgICB7DQogICAgICAgICAgICB2MS5wdXNoX2JhY2sodG1wJTEwKTsNCiAgICAgICAgICAgIHRtcC89MTA7DQogICAgICAgIH0NCiAgICAgICAgdmVjdG9yPGludD52Mj1tdWwodjEsbi10KzEpOw0KICAgICAgICB2Mj1hZGQoc3VtW3RdLHYyKTsNCiAgICAgICAgZm9yKGludCBpPXYyLnNpemUoKS0xO2k+PTA7aS0tKQ0KICAgICAgICB7DQogICAgICAgICAgICBjb3V0PDx2MltpXTsNCiAgICAgICAgfQ0KICAgICAgICBjb3V0PDxlbmRsOw0KICAgIH0NCn0NCg=="}]