[{"id":"8402","submission_id":"8398","filename":"magicstring.cpp","source":"I2luY2x1ZGU8Yml0cy9zdGRjKysuaD4NCiNkZWZpbmUgcGIgcHVzaF9iYWNrDQojZGVmaW5lIGxsIGxvbmcgbG9uZw0KI2RlZmluZSBTSVooYSkgKGludClhLnNpemUoKQ0KdXNpbmcgbmFtZXNwYWNlIHN0ZDsNCmNvbnN0IGludCBtYXhuPTFlNis5Ow0KaW50IGxlblttYXhuXTsNCnN0cnVjdCBub2Rlew0KICAgIGludCBvcDsNCiAgICBjaGFyIHgseTsNCn1hW21heG5dOw0Kc3RydWN0IGNoYW5nZXsNCiAgICBpbnQgaWQ7DQogICAgY2hhciB4LHk7DQp9Ow0Kdm9pZCBzb2x2ZSgpew0KICAgIGludCBxOw0KICAgIGNpbj4+cTsNCiAgICBzdHJpbmcgczsNCiAgICBmb3IoaW50IGk9MTtpPD1xO2krKyl7DQogICAgICAgIGludCBvcDsNCiAgICAgICAgY2luPj5vcDsNCiAgICAgICAgaWYob3A9PTEpew0KICAgICAgICAgICAgY2hhciB4Ow0KICAgICAgICAgICAgY2luPj54Ow0KICAgICAgICAgICAgcys9eDsNCiAgICAgICAgICAgIGxlbltpXT1TSVoocyk7DQogICAgICAgICAgICBhW2ldLm9wPW9wOw0KICAgICAgICAgICAgYVtpXS54PXg7DQogICAgICAgIH1lbHNlIGlmKG9wPT0yKXsNCiAgICAgICAgICAgIHMucG9wX2JhY2soKTsNCiAgICAgICAgICAgIGxlbltpXT1TSVoocyk7DQogICAgICAgICAgICBhW2ldLm9wPW9wOw0KICAgICAgICB9ZWxzZSB7DQogICAgICAgICAgICBjaGFyIHgseTsNCiAgICAgICAgICAgIGNpbj4+eD4+eTsNCiAgICAgICAgICAgIGxlbltpXT1TSVoocyk7DQogICAgICAgICAgICBhW2ldLm9wPW9wOw0KICAgICAgICAgICAgYVtpXS54PXg7DQogICAgICAgICAgICBhW2ldLnk9eTsNCiAgICAgICAgfQ0KICAgIH0NCiAgICBmb3IoaW50IGk9cS0xO2k+PTE7aS0tKXsNCiAgICAgICAgbGVuW2ldPW1pbihsZW5baV0sbGVuW2krMV0pOw0KICAgIH0NCiAgICB2ZWN0b3I8Y2hhbmdlPnZlYzsNCiAgICBmb3IoaW50IGk9MTtpPD1xO2krKyl7DQogICAgICAgIGlmKGFbaV0ub3A9PTMpdmVjLnBiKHtsZW5baV0sYVtpXS54LGFbaV0ueX0pOw0KICAgIH0NCiAgICBtYXA8Y2hhcixjaGFyPm1wOw0KICAgIGZvcihjaGFyIGk9J2EnO2k8PSd6JztpKyspbXBbaV09aTsNCiAgICBpbnQgcG9zPVNJWihzKS0xOw0KICAgIGZvcihpbnQgaT1TSVoodmVjKS0xO2k+PTA7aS0tKXsNCiAgICAgICAgd2hpbGUocG9zPnZlY1tpXS5pZCl7DQogICAgICAgICAgICBzW3Bvc109bXBbc1twb3NdXTsNCiAgICAgICAgICAgIHBvcy0tOw0KICAgICAgICB9DQogICAgICAgIG1wW3ZlY1tpXS54XT1tcFt2ZWNbaV0ueV07DQogICAgfQ0KICAgIHdoaWxlKHBvcz49MCl7DQogICAgICAgIHNbcG9zXT1tcFtzW3Bvc11dOw0KICAgICAgICBwb3MtLTsNCiAgICB9DQogICAgaWYocy5lbXB0eSgpKWNvdXQ8PCJUaGUgZmluYWwgc3RyaW5nIGlzIGVtcHR5XG4iOw0KICAgIGVsc2UgY291dDw8czw8ZW5kbDsNCn0NCmludCBtYWluKCl7DQogICAgc29sdmUoKTsNCn0="}]