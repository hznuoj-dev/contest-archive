[{"id":"8421","submission_id":"8417","filename":"magicstring.cpp","source":"I2luY2x1ZGU8Yml0cy9zdGRjKysuaD4NCiNkZWZpbmUgcGIgcHVzaF9iYWNrDQojZGVmaW5lIGxsIGxvbmcgbG9uZw0KI2RlZmluZSBTSVooYSkgKGludClhLnNpemUoKQ0KdXNpbmcgbmFtZXNwYWNlIHN0ZDsNCmNvbnN0IGludCBtYXhuPTFlNis5Ow0KaW50IGxlblttYXhuXTsNCnN0cnVjdCBub2Rlew0KICAgIGludCBvcDsNCiAgICBjaGFyIHgseTsNCn1hW21heG5dOw0Kc3RydWN0IGNoYW5nZXsNCiAgICBpbnQgaWQ7DQogICAgY2hhciB4LHk7DQp9Ow0Kdm9pZCBzb2x2ZSgpew0KICAgIGludCBxOw0KICAgIGNpbj4+cTsNCiAgICBzdHJpbmcgczsNCiAgICBmb3IoaW50IGk9MTtpPD1xO2krKyl7DQogICAgICAgIGludCBvcDsNCiAgICAgICAgY2luPj5vcDsNCiAgICAgICAgaWYob3A9PTEpew0KICAgICAgICAgICAgY2hhciB4Ow0KICAgICAgICAgICAgY2luPj54Ow0KICAgICAgICAgICAgcys9eDsNCiAgICAgICAgICAgIGxlbltpXT1TSVoocyk7DQogICAgICAgICAgICBhW2ldLm9wPW9wOw0KICAgICAgICAgICAgYVtpXS54PXg7DQogICAgICAgIH1lbHNlIGlmKG9wPT0yKXsNCiAgICAgICAgICAgIGlmKCFzLmVtcHR5KCkpDQogICAgICAgICAgICAgICAgcy5wb3BfYmFjaygpOw0KICAgICAgICAgICAgbGVuW2ldPVNJWihzKTsNCiAgICAgICAgICAgIGFbaV0ub3A9b3A7DQogICAgICAgIH1lbHNlIHsNCiAgICAgICAgICAgIGNoYXIgeCx5Ow0KICAgICAgICAgICAgY2luPj54Pj55Ow0KICAgICAgICAgICAgbGVuW2ldPVNJWihzKTsNCiAgICAgICAgICAgIGFbaV0ub3A9b3A7DQogICAgICAgICAgICBhW2ldLng9eDsNCiAgICAgICAgICAgIGFbaV0ueT15Ow0KICAgICAgICB9DQogICAgfQ0KICAgIGZvcihpbnQgaT1xLTE7aT49MTtpLS0pew0KICAgICAgICBsZW5baV09bWluKGxlbltpXSxsZW5baSsxXSk7DQogICAgfQ0KICAgIHZlY3RvcjxjaGFuZ2U+dmVjOw0KICAgIGZvcihpbnQgaT0xO2k8PXE7aSsrKXsNCiAgICAgICAgaWYoYVtpXS5vcD09Myl2ZWMucGIoe2xlbltpXSxhW2ldLngsYVtpXS55fSk7DQogICAgfQ0KICAgIG1hcDxjaGFyLGNoYXI+bXA7DQogICAgZm9yKGNoYXIgaT0nYSc7aTw9J3onO2krKyltcFtpXT1pOw0KICAgIGludCBwb3M9U0laKHMpLTE7DQogICAgZm9yKGludCBpPVNJWih2ZWMpLTE7aT49MDtpLS0pew0KICAgICAgICB3aGlsZShwb3M+PXZlY1tpXS5pZCl7DQogICAgICAgICAgICBzW3Bvc109bXBbc1twb3NdXTsNCiAgICAgICAgICAgIHBvcy0tOw0KICAgICAgICB9DQogICAgICAgIG1wW3ZlY1tpXS54XT1tcFt2ZWNbaV0ueV07DQogICAgfQ0KICAgIHdoaWxlKHBvcz49MCl7DQogICAgICAgIHNbcG9zXT1tcFtzW3Bvc11dOw0KICAgICAgICBwb3MtLTsNCiAgICB9DQogICAgaWYocy5lbXB0eSgpKWNvdXQ8PCJUaGUgZmluYWwgc3RyaW5nIGlzIGVtcHR5XG4iOw0KICAgIGVsc2UgY291dDw8czw8ZW5kbDsNCn0NCmludCBtYWluKCl7DQogICAgc29sdmUoKTsNCn0="}]