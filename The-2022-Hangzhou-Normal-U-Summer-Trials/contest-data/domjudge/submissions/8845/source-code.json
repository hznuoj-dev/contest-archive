[{"id":"8849","submission_id":"8845","filename":"B_Robots.cpp","source":"I2luY2x1ZGU8aW9zdHJlYW0+CiNpbmNsdWRlPGFsZ29yaXRobT4KI2luY2x1ZGU8Y3N0cmluZz4KI2luY2x1ZGU8Y21hdGg+CiNpbmNsdWRlPHF1ZXVlPgojaW5jbHVkZTxpb21hbmlwPgojZGVmaW5lIElPUyBpb3M6OnN5bmNfd2l0aF9zdGRpbygwKTtjaW4udGllKDApO2NvdXQudGllKDApOwp1c2luZyBuYW1lc3BhY2Ugc3RkOwp0eXBlZGVmIGxvbmcgbG9uZyBsbDsKdHlwZWRlZiBkb3VibGUgZGQ7CnR5cGVkZWYgcGFpcjxkZCwgZGQ+IHBkZDsKaW50IG4sIHMsIHQ7CmludCBoWzMwMTBdLCBuZVs2MDEwXSwgZVs2MDEwXSwgaWR4OwpkZCBlcHMgPSAxZS04OwpkZCB3WzYwMTBdOwpkZCB2WzEwXTsKcGRkIHB0WzMwMTBdOwpkZCB0aW1bMzAxMF07CmJvb2wgc3RbMzAxMF07CmludCBzaWduKGRkIHgpIHsKCWlmIChmYWJzKHgpIDwgZXBzKSByZXR1cm4gMDsKCWlmICh4IDwgMCkgcmV0dXJuIC0xOwoJcmV0dXJuIDE7Cn0KaW50IGRjbXAoZGQgeCwgZGQgeHgpIHsKCWlmIChmYWJzKHggLSB4eCkgPCBlcHMpIHJldHVybiAwOwoJaWYgKHggPCB4eCkgcmV0dXJuIC0xOwoJcmV0dXJuIDE7Cn0KZGQgZGlzdChpbnQgYSwgaW50IGIpIHsKCXJldHVybiBzcXJ0KChwdFthXS5maXJzdCAtIHB0W2JdLmZpcnN0KSAqIChwdFthXS5maXJzdCAtIHB0W2JdLmZpcnN0KSArIChwdFthXS5zZWNvbmQgLSBwdFtiXS5zZWNvbmQpICogKHB0W2FdLnNlY29uZCAtIHB0W2JdLnNlY29uZCkpOwp9CmRkIGNhbGMoaW50IGEsIGludCBiKSB7CglwZGQgcCA9IHB0W2FdLCBwcCA9IHB0W2JdOwoJZGQgcmV0ID0gLTE7CglkZCBkZGQgPSBkaXN0KGEsIGIpOwogICAgLy9jb3V0IDw8YTw8IiAiPDxiPDwiICI8PCBzZXRwcmVjaXNpb24oNikgPDwgZGRkIDw8ICJcbiI7CglpZiAocC5maXJzdCA8IDAgJiYgcHAuZmlyc3QgPCAwICYmIHAuc2Vjb25kIDwgMCAmJiBwcC5zZWNvbmQgPCAwKSB7CgkJcmV0ID0gZGRkIC8gdlszXTsKCX0KCWVsc2UgaWYgKHAuZmlyc3QgPiAwICYmIHBwLmZpcnN0ID4gMCAmJiBwLnNlY29uZCA+IDAgJiYgcHAuc2Vjb25kID4gMCkgewoJCXJldCA9IGRkZCAvIHZbMV07Cgl9CgllbHNlIGlmIChwLmZpcnN0ID4gMCAmJiBwcC5maXJzdCA+IDAgJiYgcC5zZWNvbmQgPCAwICYmIHBwLnNlY29uZCA8IDApIHsKCQlyZXQgPSBkZGQgLyB2WzRdOwoJfQoJZWxzZSBpZihwLmZpcnN0IDwgMCAmJiBwcC5maXJzdCA8IDAgJiYgcC5zZWNvbmQgPiAwICYmIHBwLnNlY29uZCA+IDApIHsKCQlyZXQgPSBkZGQgLyB2WzJdOwoJfQoJZWxzZSB7CgkJcmV0ID0gZGRkIC8gdlswXTsKCX0KICAgIC8vY291dCA8PCBzZXRwcmVjaXNpb24oNikgPDwgcmV0IDw8ICImXG4iOwoJcmV0dXJuIHJldDsKfQp2b2lkIGFkZChpbnQgYSwgaW50IGIpIHsKCWVbaWR4XSA9IGIsIHdbaWR4XSA9IGNhbGMoYSwgYiksIG5lW2lkeF0gPSBoW2FdLCBoW2FdID0gaWR4Kys7CiAgIC8vIGNvdXQgPDxzZXRwcmVjaXNpb24oNikgPDwgIHdbaWR4IC0gMV0gPDwgIlxuIjsKfQp2b2lkIGRpamtzdHJhKCkgewoJcHJpb3JpdHlfcXVldWUgPCBwYWlyPGRkLCBpbnQ+LCB2ZWN0b3I8cGFpcjxkZCwgaW50Pj4sIGdyZWF0ZXI8cGFpcjxkZCwgaW50Pj4+aHA7Cglmb3IgKGludCBpID0gMTsgaSA8PSBuOyBpKyspIHsKCQlzdFtpXSA9IDA7CgkJdGltW2ldID0gMWUxODsKCX0KCWhwLnB1c2goeyBzLCAwIH0pOwoJdGltW3NdID0gMDsKCXdoaWxlIChocC5zaXplKCkpIHsKCQlhdXRvIHR0ID0gaHAudG9wKCk7IGhwLnBvcCgpOwoJCWludCB2ZXIgPSB0dC5zZWNvbmQ7IGRkIHRjdXIgPSB0dC5maXJzdDsKCQlpZiAoc3RbdmVyXSkgY29udGludWU7CgkJc3RbdmVyXSA9IDE7CgkJZm9yIChpbnQgaSA9IGhbdmVyXTsgaSAhPSAtMTsgaSA9IG5lW2ldKSB7CgkJCWludCBqID0gZVtpXTsKCQkJaWYgKHRpbVtqXSA+IHRjdXIgKyB3W2ldKSB7CgkJCQl0aW1bal0gPSB0Y3VyICsgd1tpXTsKCQkJCWhwLnB1c2goeyBqLCB0aW1bal0gfSk7CgkJCX0KCQl9Cgl9Cn0KaW50IG1haW4oKSB7CglJT1M7CiAgICBjb3V0LnNldGYoaW9zOjpmaXhlZCk7CgljaW4gPj4gbjsKCWZvciAoaW50IGkgPSAxOyBpIDw9IDQ7IGkrKykgewoJCWNpbiA+PiB2W2ldOwoJfQoJY2luID4+IHZbMF07CgljaW4gPj4gcyA+PiB0OwoJZm9yIChpbnQgaSA9IDE7IGkgPD0gbjsgaSsrKSB7CgkJaFtpXSA9IC0xOwoJfQoJZm9yIChpbnQgaSA9IDE7IGkgPD0gbjsgaSsrKSB7CgkJY2luID4+IHB0W2ldLmZpcnN0ID4+IHB0W2ldLnNlY29uZDsKCX0KCWZvciAoaW50IGkgPSAxOyBpIDw9IG47IGkrKykgewoJCWZvciAoaW50IGogPSBpICsgMTsgaiA8PSBuOyBqKyspIHsKCQkJYWRkKGksIGopOwogICAgICAgICAgIC8vIGNvdXQgPDwgd1tpZHhdIDw8ICJcbiI7CiAgICAgICAgICAgIGFkZChqLCBpKTsKICAgICAgICAgICAgCgkJfQoJfQoJZGlqa3N0cmEoKTsKCWNvdXQgPDxzZXRwcmVjaXNpb24oNik8PCB0aW1bdF0gPDwgIlxuIjsKfQ=="}]