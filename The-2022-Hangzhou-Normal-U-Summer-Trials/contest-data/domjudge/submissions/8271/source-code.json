[{"id":"8275","submission_id":"8271","filename":"C.cpp","source":"I2luY2x1ZGU8Yml0cy9zdGRjKysuaD4NCnVzaW5nIG5hbWVzcGFjZSBzdGQ7DQp0eXBlZGVmIGxvbmcgbG9uZyBsbDsNCnR5cGVkZWYgcGFpcjxpbnQsIGludD4gUElJOw0KY29uc3QgaW50IElORiA9IDB4M2YzZjNmM2YsIE1BWE4gPSAxZTYgKyAxMDsNCiNkZWZpbmUgaW50IGxsDQp2b2lkIHNvbHZlKCkgew0KICAgIGludCBuOw0KICAgIGNpbiA+PiBuOw0KICAgIHZlY3RvcjxsbD4gYShuKTsNCiAgICBmb3IoaW50IGkgPSAwOyBpIDwgbjsgaSArKykgew0KICAgICAgICBjaW4gPj4gYVtpXTsNCiAgICB9DQogICAgdmVjdG9yPGludD4gYjsNCiAgICBmb3IoaW50IGkgPSAxOyBpIDwgbjsgaSArKykgew0KICAgICAgICBiLnB1c2hfYmFjayhhW2ldIC0gYVtpIC0gMV0pOw0KICAgIH0NCiAgICBzb3J0KGIuYmVnaW4oKSwgYi5lbmQoKSk7DQogICAgdmVjdG9yPGludD4gdGVtcCA9IGI7DQogICAgdGVtcC5yZXNpemUodW5pcXVlKHRlbXAuYmVnaW4oKSwgdGVtcC5lbmQoKSkgLSB0ZW1wLmJlZ2luKCkpOw0KICAgIHZlY3RvcjxpbnQ+IGModGVtcC5zaXplKCkpOw0KICAgIGludCBpZCA9IDAsIGogPSAwOw0KICAgIGZvcihpbnQgaSA9IDE7IGkgPCBuOyBpICsrKSB7DQogICAgICAgIGlmKGJbaV0gIT0gYltpIC0gMV0pIHsNCiAgICAgICAgICAgIGNbaiArK10gPSBpIC0gaWQ7DQogICAgICAgICAgICBpZCA9IGk7DQogICAgICAgIH0NCiAgICB9DQogICAgY1tqICsrXSA9IG4gLSAxIC0gaWQ7DQogICAgZm9yKGludCBpID0gMTsgaSA8IGMuc2l6ZSgpOyBpICsrKSB7DQogICAgICAgIGNbaV0gKz0gY1tpIC0gMV07DQogICAgfQ0KICAgIHZlY3RvcjxsbD4gcmVzKGMuc2l6ZSgpKTsNCiAgICBmb3IoaW50IGkgPSAwOyBpIDwgYy5zaXplKCk7IGkgKyspIHsNCiAgICAgICAgcmVzW2ldID0gKChpID8gdGVtcFtpXSAtIHRlbXBbaSAtIDFdIDogdGVtcFtpXSkpICogKG4gLSAoaSA/IGNbaSAtIDFdIDogMCkpIDsNCiAgICB9DQogICAgZm9yKGludCBpID0gMTsgaSA8IHJlcy5zaXplKCk7IGkgKyspIHsNCiAgICAgICAgcmVzW2ldICs9IHJlc1tpIC0gMV07DQogICAgfQ0KICAgIGludCBxOw0KICAgIGNpbiA+PiBxOw0KICAgIHdoaWxlKHEgLS0pIHsNCiAgICAgICAgbGwgdDsNCiAgICAgICAgY2luID4+IHQ7DQogICAgICAgIGlmKHQgPD0gdGVtcFswXSkgew0KICAgICAgICAgICAgY291dCA8PCAxbGwgKiBuICogdCA8PCAnXG4nOw0KICAgICAgICAgICAgY29udGludWU7DQogICAgICAgIH0NCiAgICAgICAgaW50IHggPSB1cHBlcl9ib3VuZCh0ZW1wLmJlZ2luKCksIHRlbXAuZW5kKCksIHQpIC0gdGVtcC5iZWdpbigpIC0gMTsNCiAgICAgICAgbGwgcnJyID0gcmVzW3hdICsgKHQgLSB0ZW1wW3hdKSAqIChuIC0gY1t4XSk7DQogICAgICAgIGNvdXQgPDwgcnJyIDw8ICdcbic7DQogICAgfQ0KfQ0Kc2lnbmVkIG1haW4oKSB7DQogICAgaW9zOjpzeW5jX3dpdGhfc3RkaW8oZmFsc2UpOw0KICAgIGNpbi50aWUoMCk7DQogICAgaW50IF8gPSAxOw0KICAgIC8vY2luID4+IF87DQogICAgd2hpbGUoXyAtLSkgew0KICAgICAgICBzb2x2ZSgpOw0KICAgIH0NCiAgICByZXR1cm4gMDsNCn0="}]