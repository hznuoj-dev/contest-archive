[{"id":"7802","submission_id":"7798","filename":"submit.cpp","source":"I2luY2x1ZGUgPGJpdHMvc3RkYysrLmg+DQp1c2luZyBuYW1lc3BhY2Ugc3RkOw0KdXNpbmcgbGwgPSBsb25nIGxvbmc7DQp1c2luZyBUID0gcGFpcjxpbnQsIGludD47DQoNCmNvbnN0IGludCBOID0gMTU1Ow0KDQppbnQgbjsNCmNoYXIgZ1tOXVtOXTsNClQgYSwgYjsNCg0Kc3RydWN0IHN0YXRlIHsNCiAgICBUIGEsIGI7DQogICAgYm9vbCBvcGVyYXRvcjwgKGNvbnN0IHN0YXRlICZyaHMpIGNvbnN0IHsNCiAgICAgICAgcmV0dXJuIGEuZmlyc3QgPCByaHMuYS5maXJzdDsNCiAgICB9DQp9Ow0KDQp1c2luZyBUUCA9IHBhaXI8aW50LCBzdGF0ZT47DQoNCnNldDxzdGF0ZT4gUzsNCg0KY29uc3QgaW50IGRyW10gPSB7IC0xLCAwLCAxLCAwIH07DQpjb25zdCBpbnQgZGNbXSA9IHsgMCwgMSwgMCwgLTEgfTsNCg0KYm9vbCBpc19sZWdhbCAoVCB4KSB7DQogICAgcmV0dXJuIHguZmlyc3QgPj0gMSAmJiB4LmZpcnN0IDw9IG4gJiYgeC5zZWNvbmQgPj0gMSAmJiB4LnNlY29uZCA8PSBuIFwNCiAgICAgICAgJiYgZ1t4LmZpcnN0XVt4LnNlY29uZF0gIT0gJyonOw0KfQ0KDQpzaWduZWQgbWFpbiAoKQ0Kew0KICAgIHNjYW5mKCIlZCIsICZuKTsNCiAgICBmb3IgKGludCBpID0gMTsgaSA8PSBuOyBpICsrICkgc2NhbmYoIiVzIiwgZ1tpXSArIDEpOw0KICAgIGZvciAoaW50IGkgPSAxOyBpIDw9IG47IGkgKysgKQ0KICAgICAgICBmb3IgKGludCBqID0gMTsgaiA8PSBuOyBqICsrICkgew0KICAgICAgICAgICAgaWYgKGdbaV1bal0gPT0gJ2EnKSBhID0ge2ksIGp9Ow0KICAgICAgICAgICAgaWYgKGdbaV1bal0gPT0gJ2InKSBiID0ge2ksIGp9Ow0KICAgICAgICB9DQogICAgcHJpb3JpdHlfcXVldWU8VFAsIHZlY3RvcjxUUD4sIGdyZWF0ZXI8Pj4gcHE7DQogICAgcHEucHVzaCh7MCwge2EsIGJ9fSk7DQogICAgUy5pbnNlcnQoe2EsIGJ9KTsNCiAgICB3aGlsZShwcS5zaXplKCkpIHsNCiAgICAgICAgYXV0byBbc3RlcCwgUF0gPSBwcS50b3AoKTsNCiAgICAgICAgYXV0byBbbmEsIG5iXSA9IFA7DQogICAgICAgIHBxLnBvcCgpOw0KDQogICAgICAgIGlmIChuYSA9PSBuYikgcmV0dXJuIGNvdXQgPDwgc3RlcCA8PCAnXG4nLCAwOw0KDQogICAgICAgIGZvciAoaW50IGkgPSAwOyBpIDwgNDsgaSArKyApIHsNCiAgICAgICAgICAgIFQgbnh0MSA9IHsgbmEuZmlyc3QgKyBkcltpXSwgbmEuc2Vjb25kICsgZGNbaV0gfTsNCiAgICAgICAgICAgIFQgbnh0MiA9IHsgbmIuZmlyc3QgKyBkcltpXSwgbmIuc2Vjb25kICsgZGNbaV0gfTsNCiAgICAgICAgICAgIGlmIChpc19sZWdhbChueHQxKSAmJiAhaXNfbGVnYWwobnh0MikpIHsNCiAgICAgICAgICAgICAgICBpZiAoUy5maW5kKHtueHQxLCBuYn0pID09IFMuZW5kKCkpIHsNCiAgICAgICAgICAgICAgICAgICAgUy5pbnNlcnQoe254dDEsIG5ifSk7DQogICAgICAgICAgICAgICAgICAgIHBxLnB1c2goe3N0ZXAgKyAxLCB7bnh0MSwgbmJ9fSk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSBlbHNlIGlmIChpc19sZWdhbChueHQxKSAmJiBpc19sZWdhbChueHQyKSkgew0KICAgICAgICAgICAgICAgIGlmIChTLmZpbmQoe254dDEsIG54dDJ9KSA9PSBTLmVuZCgpKSB7DQogICAgICAgICAgICAgICAgICAgIFMuaW5zZXJ0KHtueHQxLCBueHQyfSk7DQogICAgICAgICAgICAgICAgICAgIHBxLnB1c2goe3N0ZXAgKyAxLCB7bnh0MSwgbnh0Mn19KTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9IGVsc2UgaWYgKCFpc19sZWdhbChueHQxKSAmJiBpc19sZWdhbChueHQyKSkgew0KICAgICAgICAgICAgICAgIGlmIChTLmZpbmQoe25hLCBueHQyfSkgPT0gUy5lbmQoKSkgew0KICAgICAgICAgICAgICAgICAgICBTLmluc2VydCh7bmEsIG54dDJ9KTsNCiAgICAgICAgICAgICAgICAgICAgcHEucHVzaCh7c3RlcCArIDEsIHtuYSwgbnh0Mn19KTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICB9DQogICAgY291dCA8PCAibm8gc29sdXRpb24iOw0KICAgIHJldHVybiAwOw0KfQ=="}]