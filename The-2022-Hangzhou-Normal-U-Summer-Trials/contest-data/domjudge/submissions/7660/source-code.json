[{"id":"7664","submission_id":"7660","filename":"main.cpp","source":"I2luY2x1ZGU8Yml0cy9zdGRjKysuaD4KdXNpbmcgbmFtZXNwYWNlIHN0ZDsKaW50IGFbMjZdOwpzdHJ1Y3QgTm9kZXsKICAgIHN0cmluZyAgc3RyOwp9OwppbnQgbWFpbigpewogICAgc3RyaW5nIHN0cjsKICAgIGdldGxpbmUoY2luLHN0cik7CiAgICBpbnQgbjsKICAgIGZvcihpbnQgaT0wO2k8c3RyLmxlbmd0aCgpO2krKyl7CiAgICAgICAgYVtzdHJbaV0tOTddPWk7CiAgICB9CiAgICBjaW4+Pm47CiAgICBpbnQgazsKICAgIGdldGNoYXIoKTsKICAgIHN0cnVjdCBOb2RlIHhbbl07CiAgICBmb3IoaW50IGk9MDtpPG47aSsrKXsKICAgICAgICBnZXRsaW5lKGNpbix4W2ldLnN0cik7CiAgICB9CiAgICBjaW4+Pms7CiAgICBpbnQgdDsKICAgIGZvcihpbnQgaT0wO2k8bjtpKyspewogICAgICAgIHQ9aTsKICAgICAgICBmb3IoaW50IGo9aSsxO2o8bjtqKyspewogICAgICAgICAgICBpZih4W3RdLnN0ci5sZW5ndGgoKTx4W2pdLnN0ci5sZW5ndGgoKSl7CiAgICAgICAgICAgICAgICBpbnQgZmxhZz0wOwogICAgICAgICAgICAgICAgZm9yKGludCBsPTA7bDx4W3RdLnN0ci5sZW5ndGgoKTtsKyspewogICAgICAgICAgICAgICAgICAgIGlmKHhbdF0uc3RyW2xdIT14W2pdLnN0cltsXSl7CiAgICAgICAgICAgICAgICAgICAgICAgIGZsYWc9MTsKICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYoZmxhZz09MCl7CiAgICAgICAgICAgICAgICAgICAgdD1qOwogICAgICAgICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgICAgICAgICAgaW50IGZsYWcxPTA7CiAgICAgICAgICAgICAgICAgICAgdW5zaWduZWQgbG9uZyBsb25nIGxlbj14W3RdLnN0ci5sZW5ndGgoKTsKICAgICAgICAgICAgICAgICAgICBmb3IoaW50IGw9MDtsPGxlbjtsKyspewogICAgICAgICAgICAgICAgICAgICAgICBpZihhW3hbdF0uc3RyW2xdLTk3XTxhW3hbal0uc3RyW2xdLTk3XSl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IoaW50IG09MDttPGw7bSsrKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZih4W3RdLnN0clttXSE9eFtsXS5zdHJbbV0pewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmbGFnMT0xOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihmbGFnMT09MCl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdD1qOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9ZWxzZSBpZihhW3hbdF0uc3RyW2xdLTk3XT5hW3hbal0uc3RyW2xdLTk3XSl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgICAgICBpbnQgZmxhZzE9MDsKICAgICAgICAgICAgICAgIHVuc2lnbmVkIGxvbmcgbG9uZyBsZW47CiAgICAgICAgICAgICAgICBpZih4W3RdLnN0ci5sZW5ndGgoKTx4W2pdLnN0ci5sZW5ndGgoKSlsZW4gPSB4W3RdLnN0ci5sZW5ndGgoKTsKICAgICAgICAgICAgICAgIGVsc2UgbGVuID0geFtqXS5zdHIubGVuZ3RoKCk7CiAgICAgICAgICAgICAgICBmb3IoaW50IGw9MDtsPGxlbjtsKyspewogICAgICAgICAgICAgICAgICAgIGlmKGFbeFt0XS5zdHJbbF0tOTddPGFbeFtqXS5zdHJbbF0tOTddKXsKICAgICAgICAgICAgICAgICAgICAgICAgZm9yKGludCBtPTA7bTxsO20rKyl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZih4W3RdLnN0clttXSE9eFtsXS5zdHJbbV0pewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZsYWcxPTE7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgaWYoZmxhZzE9PTApewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdD1qOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZihhW3hbdF0uc3RyW2xdLTk3XT5hW3hbal0uc3RyW2xdLTk3XSl7CiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBzdHJ1Y3QgTm9kZSB0bXAxPSB4W3RdOwogICAgICAgIHhbdF09eFtpXTsKICAgICAgICB4W2ldPXRtcDE7CiAgICB9CiAgICBjb3V0PDx4W24ta10uc3RyPDxlbmRsOwogICAgcmV0dXJuIDA7Cn0="}]