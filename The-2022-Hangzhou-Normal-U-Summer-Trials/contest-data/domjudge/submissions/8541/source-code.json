[{"id":"8545","submission_id":"8541","filename":"g.cpp","source":"I2luY2x1ZGU8Yml0cy9zdGRjKysuaD4NCnVzaW5nIG5hbWVzcGFjZSBzdGQ7DQojZGVmaW5lIGludCBsb25nIGxvbmcNCmNvbnN0IGludCBtYXhuID0gMWU1ICsgNTsNCg0KaW50IHNpZ25hW21heG4gPDwgMl0sIHNpZ25iW21heG4gPDwgMl0sIGVbbWF4biA8PCAyXSwgZWVbbWF4biA8PCAyXSwgbm93W21heG4gPDwgMl0sIGFbbWF4bl07DQoNCnZvaWQgaGVuc2hpbihpbnQgcnQpew0KCWVbcnRdID0gX19nY2QoZVtydCA8PCAxXSwgZVtydCA8PCAxIHwgMV0pOw0KCWVlW3J0XSA9IF9fZ2NkKGVlW3J0IDw8IDFdLCBlZVtydCA8PCAxIHwgMV0pOw0KfQ0KDQp2b2lkIGJ1aWxkKGludCBsLCBpbnQgciwgaW50IHJ0KXsNCglzaWduYVtydF0gPSAxOw0KCXNpZ25iW3J0XSA9IDE7DQoJaWYobCA9PSByKXsNCgkJZVtydF0gPSAxOw0KCQlub3dbcnRdID0gMTsNCgkJcmV0dXJuOw0KCX0NCglpbnQgbSA9IGwgKyByID4+IDE7DQoJYnVpbGQobCwgbSwgcnQgPDwgMSk7DQoJYnVpbGQobSArIDEsIHIsIHJ0IDw8IDEgfCAxKTsNCgloZW5zaGluKHJ0KTsNCn0NCg0Kdm9pZCBkb3duKGludCBydCl7DQoJaWYoc2lnbmFbcnRdICE9IDEpew0KCQlzaWduYVtydCA8PCAxXSAqPSBzaWduYVtydF07DQoJCXNpZ25hW3J0IDw8IDEgfCAxXSAqPSBzaWduYVtydF07DQoJCWVbcnQgPDwgMV0gKj0gc2lnbmFbcnRdOw0KCQllW3J0IDw8IDEgfCAxXSAqPSBzaWduYVtydF07DQoJCXNpZ25hW3J0XSA9IDE7DQoJfQ0KCQ0KCWlmKHNpZ25iW3J0XSAhPSAxKXsNCgkJc2lnbmJbcnQgPDwgMV0gKj0gc2lnbmJbcnRdOw0KCQlzaWduYltydCA8PCAxIHwgMV0gKj0gc2lnbmJbcnRdOw0KCQllW3J0IDw8IDFdIC89IHNpZ25iW3J0XTsNCgkJZVtydCA8PCAxIHwgMV0gLz0gc2lnbmJbcnRdOw0KCQlzaWduYltydF0gPSAxOw0KCX0NCn0NCg0Kdm9pZCBmbGlwKGludCBsLCBpbnQgciwgaW50IHAsIGludCBydCl7DQoJaWYobCA9PSByKXsNCgkJaWYoZWVbcnRdKXsNCgkJCWVbcnRdID0gZWVbcnRdOw0KCQkJZWVbcnRdID0gMDsNCgkJfSANCgkJZWxzZXsNCgkJCWVlW3J0XSA9IGVbcnRdOw0KCQkJZVtydF0gPSAwOw0KCQl9IA0KCQlyZXR1cm47DQoJfQ0KCWRvd24ocnQpOw0KCWludCBtID0gbCArIHIgPj4gMTsNCglpZihwIDw9IG0pIGZsaXAobCwgbSwgcCwgcnQgPDwgMSk7DQoJZWxzZSBmbGlwKG0gKyAxLCByLCBwLCBydCA8PCAxIHwgMSk7DQoJaGVuc2hpbihydCk7DQp9DQoNCg0KDQp2b2lkIG11bChpbnQgbCxpbnQgciwgaW50IGFsLCBpbnQgYXIsIGludCB4LCBpbnQgcnQpew0KCWlmKGFsIDw9IGwgJiYgciA8PSBhcil7DQoJCWVbcnRdICo9IHg7DQoJCXNpZ25hW3J0XSAqPSB4Ow0KCQlyZXR1cm47DQoJfQ0KCWludCBtID0gbCArIHIgPj4gMTsNCglkb3duKHJ0KTsNCglpZihhbCA8PSBtKSBtdWwobCwgbSwgYWwsIGFyLCB4LCBydCA8PCAxKTsNCglpZihhciA+IG0pIG11bChtICsgMSwgciwgYWwsIGFyLCB4LCBydCA8PCAxIHwgMSk7DQoJaGVuc2hpbihydCk7DQp9DQoNCnZvaWQgZGl2KGludCBsLCBpbnQgciwgaW50IGFsLCBpbnQgYXIsIGludCB4LCBpbnQgcnQpew0KCWlmKGFsIDw9IGwgJiYgciA8PSBhcil7DQoJCWVbcnRdIC89IHg7DQoJCXNpZ25iW3J0XSAqPSB4Ow0KCQlyZXR1cm47DQoJfQ0KCWludCBtID0gbCArIHIgPj4gMTsNCglkb3duKHJ0KTsNCglpZihhbCA8PSBtKSBkaXYobCwgbSwgYWwsIGFyLCB4LCBydCA8PCAxKTsNCglpZihhciA+IG0pIGRpdihtICsgMSwgciwgYWwsIGFyLCB4LCBydCA8PCAxIHwgMSk7DQoJaGVuc2hpbihydCk7DQp9DQoNCmludCBhc2soaW50IGwsIGludCByLCBpbnQgYWwsIGludCBhciwgaW50IHJ0KXsNCglpZihhbCA8PSBsICYmIHIgPD0gYXIpIHJldHVybiBlW3J0XTsNCglpbnQgYW5zID0gMDsNCglpbnQgbSA9IGwgKyByID4+IDE7DQoJZG93bihydCk7DQoJaWYoYWwgPD0gbSkgYW5zID0gYXNrKGwsIG0sIGFsLCBhciwgcnQgPDwgMSk7DQoJaWYoYXIgPiBtKSBhbnMgPSBfX2djZChhbnMsIGFzayhtICsgMSwgciwgYWwsIGFyLCBydCA8PCAxIHwgMSkpOw0KCWhlbnNoaW4ocnQpOw0KCXJldHVybiBhbnM7DQp9DQoNCmludCBhc2trKGludCBsLCBpbnQgciwgaW50IGFsLCBpbnQgYXIsIGludCBydCl7DQoJaWYoYWwgPD0gbCAmJiByIDw9IGFyKSByZXR1cm4gZWVbcnRdOw0KCWludCBhbnMgPSAwOw0KCWludCBtID0gbCArIHIgPj4gMTsNCglkb3duKHJ0KTsNCglpZihhbCA8PSBtKSBhbnMgPSBhc2trKGwsIG0sIGFsLCBhciwgcnQgPDwgMSk7DQoJaWYoYXIgPiBtKSBhbnMgPSBfX2djZChhbnMsIGFza2sobSArIDEsIHIsIGFsLCBhciwgcnQgPDwgMSB8IDEpKTsNCgloZW5zaGluKHJ0KTsNCglyZXR1cm4gYW5zOw0KfQ0KDQp2b2lkIHNvbHZlKCl7DQoJaW50IG4sIG07IGNpbiA+PiBuID4+IG07DQoJYnVpbGQoMSwgbiwgMSk7DQoJd2hpbGUobS0tKXsNCgkJc3RyaW5nIGU7IGNpbiA+PiBlOw0KCQlpZihlWzBdID09ICdtJyl7DQoJCQlpbnQgYSwgYiwgYzsgY2luID4+IGEgPj4gYiA+PiBjOw0KCQkJbXVsKDEsIG4sIGEsIGIsIGMsIDEpOw0KCQl9DQoJCWVsc2UgaWYoZVswXSA9PSAnZCcpew0KCQkJaW50IGEsIGIsIGM7IGNpbiA+PiBhID4+IGIgPj4gYzsNCgkJCWludCBzaWduID0gYXNrKDEsIG4sIGEsIGIsIDEpOw0KCQkJaW50IHNzID0gYXNraygxLCBuLCBhLCBiLCAxKTsNCgkJCXNpZ24gPSBfX2djZChzaWduLCBzcyk7DQoJCQkvL2NvdXQgPDwgc2lnbiA8PCAiICIgPDwgc3MgPDwgIiAiOw0KCQkJaWYoc2lnbiA+PSBjICYmIChzaWduICUgYykgPT0gMCl7DQoJCQkJY291dCA8PCAiWUVTIiA8PCBlbmRsOw0KCQkJCWRpdigxLCBuLCBhLCBiLCBjLCAxKTsNCgkJCX0NCgkJCWVsc2UgY291dCA8PCAiTk8iIDw8IGVuZGw7DQogCQl9DQogCQllbHNlew0KIAkJCWludCBwOyBjaW4gPj4gcDsNCiAJCQlmbGlwKDEsIG4sIHAsIDEpOw0KIAkJfQ0KCX0NCn0NCg0Kc2lnbmVkIG1haW4oKXsNCglpb3M6OnN5bmNfd2l0aF9zdGRpbyhmYWxzZSk7DQoJaW50IHQgPSAxOw0KCS8vY2luID4+IHQ7DQoJd2hpbGUodC0tKXsNCgkJc29sdmUoKTsNCgl9DQoJcmV0dXJuIDA7DQp9DQo="}]