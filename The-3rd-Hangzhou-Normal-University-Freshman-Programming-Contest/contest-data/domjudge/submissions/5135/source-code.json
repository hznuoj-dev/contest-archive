[{"id":"5138","submission_id":"5135","filename":"main.c","source":"LyojaW5jbHVkZSA8c3RkaW8uaD4NCiNpbmNsdWRlIDxzdGRsaWIuaD4NCiNpbmNsdWRlIDxzdHJpbmcuaD4NCg0Kc3RydWN0IHN1Ym1pdCB7DQoJaW50IHRlYW07DQoJaW50IHByb2I7DQoJaW50IHRpbWU7DQoJY2hhciBzdHJbM107IA0KfTsNCg0KaW50IHRpbWVjbXAoY29uc3Qgdm9pZCAqcCwgY29uc3Qgdm9pZCAqcSk7DQoNCg0KDQppbnQgbWFpbihpbnQgYXJnYywgY2hhciAqYXJndltdKSB7DQoJaW50IG4sIHQsIG0sIHAsIHE7DQoJaW50IGksIHRpbWUsIGlkLCBpbmRleDsNCgljaGFyIGNtZFsxNl07DQoJDQoJc2NhbmYoIiVkICVkICVkICVkIiwgJm4sICZ0LCAmbSwgJnApOw0KCQ0KCXN0cnVjdCBzdWJtaXQgc3ViW21dOw0KCQ0KCWludCB0ZWFtX2FjW25dOw0KCQ0KCWZvcihpID0gMDsgaSA8IG07ICsraSkgew0KCQlzY2FuZigiJWQgJWQgJWQgJXMiLCAmc3ViW2ldLnRlYW0sICZzdWJbaV0ucHJvYiwgJnN1YltpXS50aW1lLCBzdWJbaV0uc3RyKTsNCgl9DQoJcXNvcnQoc3ViLCBtLCBzaXplb2Yoc3RydWN0IHN1Ym1pdCksIHRpbWVjbXApOw0KCXNjYW5mKCIlZCIsICZxKTsNCglmb3IoaSA9IDE7IGkgPD0gcTsgKytpKSB7DQoJCWluZGV4ID0gMDsNCgkJc2NhbmYoIiVzICVkIiwgY21kLCB0aW1lKTsNCgkJaWYoIXN0cmNtcChjbWQsICJ0ZWFtc3RhdHVzIikpIHsNCgkJCS8vdGVhbXN0YXR1cw0KCQkJc2NhbmYoIiVkIiwgJmlkKTsNCgkJCQ0KCQl9ZWxzZSBpZighc3RyY21wKGNtZCwgIm1pbnJhbmsiKSkgew0KCQkJLy9taW5yYW5rDQoJCQlzY2FuZigiJWQiLCAmaWQpOw0KCQkJDQoJCX1lbHNlIGlmKCFzdHJjbXAoY21kLCAibWF4cmFuayIpKSB7DQoJCQkvL21heHJhbmsNCgkJCXNjYW5mKCIlZCIsICZpZCk7DQoJCQkNCgkJfWVsc2UgaWYoIXN0cmNtcChjbWQsICJhY2NvdW50IikpIHsNCgkJCS8vYWNjb3VudA0KCQkJaW50IHI7DQoJCQlzY2FuZigiJWQiLCAmaWQpOw0KCQkJciA9IDA7DQoJCQl3aGlsZSAoc3ViW2luZGV4XS50aW1lIDw9IHRpbWUpIHsNCgkJCQlpZihzdWJbaW5kZXhdLnByb2IgPT0gaWQgJiYgIXN0cmNtcChzdWJbaW5kZXhdLnN0ciwgIkFDIikpICsrcjsNCgkJCQkrK2luZGV4Ow0KCQkJfQ0KCQkJcHJpbnRmKCIlZFxuIiwgcik7DQoJCQkNCgkJfWVsc2UgaWYoIXN0cmNtcChjbWQsICJzdWJtaXRjb3VudCIpKSB7DQoJCQkvL3N1Ym1pdGNvdW50DQoJCQlpbnQgcjsNCgkJCXNjYW5mKCIlZCIsICZpZCk7DQoJCQlyID0gMDsNCgkJCXdoaWxlIChzdWJbaW5kZXhdLnRpbWUgPD0gdGltZSkgew0KCQkJCWlmKHN1YltpbmRleF0ucHJvYiA9PSBpZCkgKytyOw0KCQkJCSsraW5kZXg7DQoJCQl9DQoJCQlwcmludGYoIiVkXG4iLCByKTsNCgkJCQ0KCQl9ZWxzZSBpZighc3RyY21wKGNtZCwgInRlYW1jb3VudCIpKSB7DQoJCQkvL3RlYW1jb3VudA0KCQkJaW50IGosIHI7DQoJCQlzY2FuZigiJWQiLCAmaWQpOw0KCQkJciA9IDA7DQoJCQltZW1zZXQodGVhbV9hYywgMCwgc2l6ZW9mKHRlYW1fYWMpKTsNCgkJCXdoaWxlIChzdWJbaW5kZXhdLnRpbWUgPD0gdGltZSkgew0KCQkJCWlmKCFzdHJjbXAoc3ViW2luZGV4XS5zdHIsICJBQyIpKSArK3RlYW1fYWNbc3ViW2luZGV4XS50ZWFtIC0gMV07DQoJCQkJKytpbmRleDsNCgkJCX0NCgkJCWZvcihqID0gMDsgaiA8IG47ICsraikgew0KCQkJCWlmKHRlYW1fYWNbal0gPT0gaWQpICsrcjsNCgkJCX0NCgkJCXByaW50ZigiJWRcbiIsIHIpOw0KCQl9DQoJfQ0KCQ0KCXJldHVybiAwOw0KfQ0KDQppbnQgdGltZWNtcChjb25zdCB2b2lkICpwLCBjb25zdCB2b2lkICpxKSB7DQoJc3RydWN0IHN1Ym1pdCAqczEgPSAoc3RydWN0IHN1Ym1pdCAqKXA7DQoJc3RydWN0IHN1Ym1pdCAqczIgPSAoc3RydWN0IHN1Ym1pdCAqKXE7DQoJcmV0dXJuIHMxLT50aW1lIC0gczItPnRpbWU7DQp9Ki8NCg0KI2luY2x1ZGUgPHN0ZGlvLmg+DQoNCmludCBtYWluKCkgew0KCWludCB0ZXN0Ow0KCXNjYW5mKCIlZCIsICZ0ZXN0KTsNCglwcmludGYoIkhlbGxvIEFDTSAvICpDUEMhIVxuIik7DQp9DQoNCg0KDQo="}]