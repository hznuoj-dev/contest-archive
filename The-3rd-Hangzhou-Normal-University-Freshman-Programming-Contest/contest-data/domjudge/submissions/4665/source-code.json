[{"id":"4668","submission_id":"4665","filename":"DOM.cpp","source":"I2luY2x1ZGUgPHN0ZGlvLmg+CiNpbmNsdWRlPHN0ZGxpYi5oPgojaW5jbHVkZTxzdHJpbmcuaD4KI2luY2x1ZGUgPGlvc3RyZWFtPgojaW5jbHVkZSA8c3RyaW5nPgojaW5jbHVkZSA8YWxnb3JpdGhtPgojaW5jbHVkZSA8bWF0aC5oPgp1c2luZyBuYW1lc3BhY2Ugc3RkOwppbnQgbixtLGksajsKaW50IGFbMTUwXSxiWzE1MF07CmludCBjWzUwMF0scyA9IDA7CmludCBmbGFnWzEwMDAwNV09ezB9OwppbnQgYW5zID0gMDsKCmludCBzdShpbnQgeCkvL+WIpOaWreaYr+WQpuS4uue0oOaVsAp7CiAgICBpbnQgaTsKICAgIGlmKHg9PTB8fHg9PTEpIHJldHVybiAwOwogICAgZm9yKGk9MjtpKmk8PXg7aSsrKQogICAgewogICAgICAgIGlmKHglaT09MCkgcmV0dXJuIDA7CiAgICB9CiAgICByZXR1cm4gMTsKfQoKaW50IGRpZ2l0KGNvbnN0IHZvaWQgKl9hLGNvbnN0IHZvaWQgKl9iKXsKICAgIGludCAqYSA9IChpbnQqKV9hOwogICAgaW50ICpiID0gKGludCopX2I7CiAgICByZXR1cm4gKmEtKmI7Cn0KCnZvaWQgZGZzKGludCBpLGludCBzdW0saW50IHQpewogICAgCiAgICBpZihpPT1zKXsKICAgICAgICBpZihmbGFnW3N1bV09PTApewogICAgICAgICAgICBmbGFnW3N1bV0gPSAxOwogICAgICAgICAgICBpZihzdW08PW0mJnN1bT49MSl7CiAgICAgICAgICAgICAgICBjb3V0IDw8ICJzdW0gPSAiPDwgc3VtIDw8IGVuZGw7CiAgICAgICAgICAgICAgICBhbnMgKys7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgcmV0dXJuOwogICAgfQogICAgZGZzKGkrMSxzdW0rY1tpXSx0KzEpOwogICAgZGZzKGkrMSxzdW0sdCk7Cn0KaW50IG1haW4oKXsKICAgIAogICAgY2luID4+IG4gPj4gbTsKICAgIGZvcihpbnQgaSA9MDtpPG47aSsrKQogICAgY2luID4+IGFbaV07CiAgICAKICAgIHFzb3J0KGEsbixzaXplb2YoYVswXSksZGlnaXQpOwogICAgZm9yKGludCBpPTA7aTxuO2krKyl7CiAgICBjaW4gPj4gYltpXTsKICAgICAgICBzICs9IGJbaV07CiAgICB9CiAgICBpbnQgY250ID0gMDsKICAgIGZvcihpID0wO2k8bjtpKyspewogICAgICAgIGZvcihqPTA7ajxiW2ldO2orKykKICAgICAgICBjW2NudCsrXSA9IGFbaV07CiAgICB9CiAgICAKICAgZm9yKGludCBpID0wO2k8cztpKyspCiAgIGNvdXQgPDwgY1tpXSA8PCBlbmRsOwogICAgZGZzKDAsMCwwKTsKICAgIGNvdXQgPDwgYW5zIDw8IGVuZGw7CiAgICByZXR1cm4gMDsKfQoKCg=="}]