[{"id":"4697","submission_id":"4694","filename":"DOM.cpp","source":"I2luY2x1ZGUgPHN0ZGlvLmg+CiNpbmNsdWRlPHN0ZGxpYi5oPgojaW5jbHVkZTxzdHJpbmcuaD4KI2luY2x1ZGUgPGlvc3RyZWFtPgojaW5jbHVkZSA8c3RyaW5nPgojaW5jbHVkZSA8YWxnb3JpdGhtPgojaW5jbHVkZSA8bWF0aC5oPgp1c2luZyBuYW1lc3BhY2Ugc3RkOwppbnQgbixtLGksajsKaW50IGFbMTUwXSxiWzE1MF07CmludCBjWzUwMF0scyA9IDA7CmludCBmbGFnWzEwMDAwNV09ezB9OwppbnQgYW5zID0gMDsKCmludCBzdShpbnQgeCkvL+WIpOaWreaYr+WQpuS4uue0oOaVsAp7CiAgICBpbnQgaTsKICAgIGlmKHg9PTB8fHg9PTEpIHJldHVybiAwOwogICAgZm9yKGk9MjtpKmk8PXg7aSsrKQogICAgewogICAgICAgIGlmKHglaT09MCkgcmV0dXJuIDA7CiAgICB9CiAgICByZXR1cm4gMTsKfQoKaW50IGRpZ2l0KGNvbnN0IHZvaWQgKl9hLGNvbnN0IHZvaWQgKl9iKXsKICAgIGludCAqYSA9IChpbnQqKV9hOwogICAgaW50ICpiID0gKGludCopX2I7CiAgICByZXR1cm4gKmEtKmI7Cn0KCnZvaWQgZGZzKGludCBpLGludCBzdW0saW50IHQpewogICAgCiAgICBpZihpPT1zKXsKICAgICAgICBpZihmbGFnW3N1bV09PTApewogICAgICAgICAgICBmbGFnW3N1bV0gPSAxOwogICAgICAgICAgICBpZihzdW08PW0mJnN1bT49MSl7CiAgICAgICAgICAgICAgICAvL2NvdXQgPDwgInN1bSA9ICI8PCBzdW0gPDwgZW5kbDsKICAgICAgICAgICAgICAgIGFucyArKzsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICByZXR1cm47CiAgICB9CiAgICBkZnMoaSsxLHN1bStjW2ldLHQrMSk7CiAgICBkZnMoaSsxLHN1bSx0KTsKfQppbnQgbWFpbigpewogICAgCiAgICBjaW4gPj4gbiA+PiBtOwogICAgZm9yKGludCBpID0wO2k8bjtpKyspCiAgICBjaW4gPj4gYVtpXTsKICAgIAogICAgcXNvcnQoYSxuLHNpemVvZihhWzBdKSxkaWdpdCk7CiAgICBmb3IoaW50IGk9MDtpPG47aSsrKXsKICAgIGNpbiA+PiBiW2ldOwogICAgICAgIHMgKz0gYltpXTsKICAgIH0KICAgIGludCBjbnQgPSAwOwogICAgZm9yKGkgPTA7aTxuO2krKyl7CiAgICAgICAgZm9yKGo9MDtqPGJbaV07aisrKQogICAgICAgIGNbY250KytdID0gYVtpXTsKICAgIH0KICAgIAogICBmb3IoaW50IGkgPTA7aTxzO2krKykKICAgLy9jb3V0IDw8IGNbaV0gPDwgZW5kbDsKICAgIGRmcygwLDAsMCk7CiAgICBjb3V0IDw8IGFucyA8PCBlbmRsOwogICAgcmV0dXJuIDA7Cn0KCgo="}]